(function(e){function t(t){for(var i,s,r=t[0],c=t[1],l=t[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},o=[];function s(e){return r.p+"js/"+({"lang-ar-json":"lang-ar-json","lang-be-json":"lang-be-json","lang-bg-json":"lang-bg-json","lang-bs-json":"lang-bs-json","lang-ca-json":"lang-ca-json","lang-co-json":"lang-co-json","lang-cs-json":"lang-cs-json","lang-cy-json":"lang-cy-json","lang-da-json":"lang-da-json","lang-de-json":"lang-de-json","lang-el-json":"lang-el-json","lang-es-json":"lang-es-json","lang-et-json":"lang-et-json","lang-eu-json":"lang-eu-json","lang-fa-json":"lang-fa-json","lang-fi-json":"lang-fi-json","lang-fr-json":"lang-fr-json","lang-fy-json":"lang-fy-json","lang-gd-json":"lang-gd-json","lang-gl-json":"lang-gl-json","lang-he-json":"lang-he-json","lang-hi-json":"lang-hi-json","lang-hr-json":"lang-hr-json","lang-hu-json":"lang-hu-json","lang-id-json":"lang-id-json","lang-is-json":"lang-is-json","lang-it-json":"lang-it-json","lang-iw-json":"lang-iw-json","lang-ja-json":"lang-ja-json","lang-km-json":"lang-km-json","lang-kn-json":"lang-kn-json","lang-ko-json":"lang-ko-json","lang-lt-json":"lang-lt-json","lang-lv-json":"lang-lv-json","lang-ml-json":"lang-ml-json","lang-mr-json":"lang-mr-json","lang-ms-json":"lang-ms-json","lang-my-json":"lang-my-json","lang-nb-json":"lang-nb-json","lang-nl-json":"lang-nl-json","lang-pa-json":"lang-pa-json","lang-pl-json":"lang-pl-json","lang-pt-json":"lang-pt-json","lang-ro-json":"lang-ro-json","lang-ru-json":"lang-ru-json","lang-si-json":"lang-si-json","lang-sk-json":"lang-sk-json","lang-sl-json":"lang-sl-json","lang-sq-json":"lang-sq-json","lang-sr-json":"lang-sr-json","lang-sv-json":"lang-sv-json","lang-ta-json":"lang-ta-json","lang-te-json":"lang-te-json","lang-th-json":"lang-th-json","lang-tr-json":"lang-tr-json","lang-uk-json":"lang-uk-json","lang-ur-json":"lang-ur-json","lang-uz-json":"lang-uz-json","lang-vi-json":"lang-vi-json","lang-zh-json":"lang-zh-json"}[e]||e)+"."+{"chunk-2d0a45fe":"8a77177f","chunk-2d0d3e67":"157acd5e","chunk-2d0dec6b":"fdf877aa","chunk-2d208e4e":"f66fce84","chunk-2d210c1f":"399dbcbc","chunk-2d21da93":"da33a67e","lang-ar-json":"d2cfe300","lang-be-json":"c16fb3ad","lang-bg-json":"03c31a66","lang-bs-json":"aca3e52a","lang-ca-json":"a93f7703","lang-co-json":"639c7731","lang-cs-json":"1780494d","lang-cy-json":"84647f6d","lang-da-json":"534a80e1","lang-de-json":"dd7bb6f7","lang-el-json":"c7791280","lang-es-json":"be0e4fac","lang-et-json":"5428e922","lang-eu-json":"3d5ff54c","lang-fa-json":"b951ea54","lang-fi-json":"3bc5197c","lang-fr-json":"1b001236","lang-fy-json":"cedaf119","lang-gd-json":"7a614d3a","lang-gl-json":"dbdd8c7c","lang-he-json":"91de4402","lang-hi-json":"0b842aad","lang-hr-json":"490380f2","lang-hu-json":"c59a4c1a","lang-id-json":"6ba07d48","lang-is-json":"8f0f8e20","lang-it-json":"123a5b34","lang-iw-json":"5243a7a1","lang-ja-json":"ddbafc05","lang-km-json":"c4adca52","lang-kn-json":"29d28460","lang-ko-json":"5d93e6dc","lang-lt-json":"d4e007dd","lang-lv-json":"83a45b7d","lang-ml-json":"fa74cb7b","lang-mr-json":"2eff44cf","lang-ms-json":"72ec3259","lang-my-json":"57ed26d8","lang-nb-json":"6c287223","lang-nl-json":"f54ff740","lang-pa-json":"e90683fa","lang-pl-json":"cbabfdc0","lang-pt-json":"0044b9f4","lang-ro-json":"d78024c9","lang-ru-json":"a65e6e97","lang-si-json":"f78a9653","lang-sk-json":"36b6dab1","lang-sl-json":"3101a2da","lang-sq-json":"c69c511d","lang-sr-json":"ca3d3ba3","lang-sv-json":"0349645f","lang-ta-json":"09e44bb5","lang-te-json":"fc358df8","lang-th-json":"10271f41","lang-tr-json":"104e4fb6","lang-uk-json":"f3659074","lang-ur-json":"9db81bbb","lang-uz-json":"8bc62a01","lang-vi-json":"95b1a76b","lang-zh-json":"781ddbf0"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=a[e]=[t,i]}));t.push(n[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}a[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0085":function(e,t,n){"use strict";n("1f13")},"01c7":function(e,t,n){"use strict";n("09ac")},"03b0":function(e,t,n){"use strict";n("cd6c")},"053a":function(e,t,n){e.exports=n.p+"img/update_dialog_2.52b7fb91.png"},"05f1":function(e,t,n){"use strict";n("978a")},"09ac":function(e,t,n){},"0a57":function(e,t,n){"use strict";n("449f")},"0bde":function(e,t,n){"use strict";n("c6b3")},"0ce9":function(e,t,n){},"0e07":function(e,t,n){},"0ef6":function(e,t,n){"use strict";n("a859")},"0f8d":function(e,t,n){},"12d0":function(e,t,n){},"13e7":function(e,t,n){"use strict";n("5603")},1433:function(e,t,n){"use strict";n("18d8")},"16c0":function(e,t,n){},"18d8":function(e,t,n){},"1b88":function(e,t,n){"use strict";n("756f")},"1ca5":function(e,t,n){"use strict";n("43cb")},"1f13":function(e,t,n){},"1f85":function(e,t,n){n("14d9"),n("13d5");var i=function(){this._focus=null,this._previous=null};i.prototype={straightOnly:!0,straightOverlapThreshold:.4,ignoreHiddenElement:!1,rememberSource:!1,navigableFilter:null,silent:!1,follow:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,i=n[e];if(void 0!==i){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}}},send:function(e,t){if(void 0!==this._listeners){var n=this._listeners,i=n[e];if(void 0!==i){t.target=this;for(var a=i.slice(0),o=0,s=a.length;o<s;o++)a[o].call(this,t)}}},_getRect:function(e){var t=null;if(!this._isNavigable(e))return null;if(e.getBoundingClientRect){var n=e.getBoundingClientRect();t={left:n.left,top:n.top,width:n.width,height:n.height}}else{if(void 0===e.left)return null;t={left:parseInt(e.left||0,10),top:parseInt(e.top||0,10),width:parseInt(e.width||0,10),height:parseInt(e.height||0,10)}}return t.element=e,t.right=t.left+t.width,t.bottom=t.top+t.height,t.center={x:t.left+Math.floor(t.width/2),y:t.top+Math.floor(t.height/2)},t.center.left=t.center.right=t.center.x,t.center.top=t.center.bottom=t.center.y,t},_getAllRects:function(e){var t=[];return this._collection.forEach((function(n){if(!e||e!==n){var i=this._getRect(n);i&&t.push(i)}}),this),t},_isNavigable:function(e){if(this.ignoreHiddenElement&&e instanceof HTMLElement){var t=window.getComputedStyle(e);if(e.offsetWidth<=0&&e.offsetHeight<=0||"hidden"==t.getPropertyValue("visibility")||"none"==t.getPropertyValue("display")||e.hasAttribute("aria-hidden"))return!1}return!(this.navigableFilter&&!this.navigableFilter(e))},_partition:function(e,t){var n=[[],[],[],[],[],[],[],[],[]],i=this.straightOverlapThreshold;return(i>1||i<0)&&(i=.5),e.forEach((function(e){var a,o,s,r=e.center;a=r.x<t.left?0:r.x<=t.right?1:2,o=r.y<t.top?0:r.y<=t.bottom?1:2,s=3*o+a,n[s].push(e),-1!==[0,2,6,8].indexOf(s)&&(e.left<=t.right-t.width*i&&(2===s?n[1].push(e):8===s&&n[7].push(e)),e.right>=t.left+t.width*i&&(0===s?n[1].push(e):6===s&&n[7].push(e)),e.top<=t.bottom-t.height*i&&(6===s?n[3].push(e):8===s&&n[5].push(e)),e.bottom>=t.top+t.height*i&&(0===s?n[3].push(e):2===s&&n[5].push(e)))})),n},_getDistanceFunction:function(e){return{nearPlumbLineIsBetter:function(t){var n;return n=t.center.x<e.center.x?e.center.x-t.right:t.left-e.center.x,n<0?0:n},nearHorizonIsBetter:function(t){var n;return n=t.center.y<e.center.y?e.center.y-t.bottom:t.top-e.center.y,n<0?0:n},nearTargetLeftIsBetter:function(t){var n;return n=t.center.x<e.center.x?e.left-t.right:t.left-e.left,n<0?0:n},nearTargetTopIsBetter:function(t){var n;return n=t.center.y<e.center.y?e.top-t.bottom:t.top-e.top,n<0?0:n},topIsBetter:function(e){return e.top},bottomIsBetter:function(e){return-1*e.bottom},leftIsBetter:function(e){return e.left},rightIsBetter:function(e){return-1*e.right}}},_prioritize:function(e,t,n){var i=e.find((function(e){return!!e.group.length}));if(!i)return null;if(this.rememberSource&&this._previous&&t==this._previous.destination&&n==this._previous.reverse){var a=this._previous.source,o=i.group.find((function(e){return e.element==a}));if(o)return o}return i.group.sort((function(e,t){return i.distance.reduce((function(n,i){return n||i(e)-i(t)}),0)})),i.group[0]},setCollection:function(e){this.unfocus(),this._collection=[],e&&this.multiAdd(e)},getCollection:function(){return this._collection},add:function(e){var t=this._collection.indexOf(e);return!(t>=0)&&(this._collection.push(e),!0)},multiAdd:function(e){return Array.from(e).every(this.add,this)},remove:function(e){var t=this._collection.indexOf(e);return!(t<0)&&(this._focus===e&&this.unfocus(),this._collection.splice(t,1),!0)},multiRemove:function(e){return Array.from(e).every(this.remove,this)},focused:function(e){this._focus=e},focus:function(e,t,n){if(!e&&this._focus&&this._isNavigable(this._focus)&&(e=this._focus),!this._collection)return!1;if(e){if(this._collection.indexOf(e)<0||!this._isNavigable(e))return!1}else{var i=this._collection.filter(this._isNavigable,this);if(!i.length)return!1;e=i[0]}return this.unfocus(),this._focus=e,this.silent||this.send("focus",{elem:this._focus,direction:t,options:n}),!0},unfocus:function(){if(this._focus){var e=this._focus;this._focus=null,this.silent||this.send("unfocus",{elem:e})}return!0},getFocusedElement:function(){return this._focus},move:function(e,t){var n={left:"right",up:"down",right:"left",down:"up"};if(this._focus){var i=this.navigate(this._focus,e);if(!i)return!1;this.rememberSource&&(this._previous={source:this._focus,destination:i,reverse:n[e.toLowerCase()]}),this.unfocus(),this.focus(i,e,t)}else this._previous=null,this.focus(null,e,t);return!0},canmove:function(e){if(this._focus){var t=this.navigate(this._focus,e);if(null!==t)return t}return!1},navigate:function(e,t){if(!e||!t||!this._collection)return null;t=t.toLowerCase();var n=this._getAllRects(e),i=this._getRect(e);if(!i||!n.length)return null;var a,o=this._getDistanceFunction(i),s=this._partition(n,i),r=this._partition(s[4],i.center);switch(t){case"left":a=[{group:r[0].concat(r[3]).concat(r[6]),distance:[o.nearPlumbLineIsBetter,o.topIsBetter]},{group:s[3],distance:[o.nearPlumbLineIsBetter,o.topIsBetter]},{group:s[0].concat(s[6]),distance:[o.nearHorizonIsBetter,o.rightIsBetter,o.nearTargetTopIsBetter]}];break;case"right":a=[{group:r[2].concat(r[5]).concat(r[8]),distance:[o.nearPlumbLineIsBetter,o.topIsBetter]},{group:s[5],distance:[o.nearPlumbLineIsBetter,o.topIsBetter]},{group:s[2].concat(s[8]),distance:[o.nearHorizonIsBetter,o.leftIsBetter,o.nearTargetTopIsBetter]}];break;case"up":a=[{group:r[0].concat(r[1]).concat(r[2]),distance:[o.nearHorizonIsBetter,o.leftIsBetter]},{group:s[1],distance:[o.nearHorizonIsBetter,o.leftIsBetter]},{group:s[0].concat(s[2]),distance:[o.nearPlumbLineIsBetter,o.bottomIsBetter,o.nearTargetLeftIsBetter]}];break;case"down":a=[{group:r[6].concat(r[7]).concat(r[8]),distance:[o.nearHorizonIsBetter,o.leftIsBetter]},{group:s[7],distance:[o.nearHorizonIsBetter,o.leftIsBetter]},{group:s[6].concat(s[8]),distance:[o.nearPlumbLineIsBetter,o.topIsBetter,o.nearTargetLeftIsBetter]}];break;default:return null}this.straightOnly&&a.pop();var c=this._prioritize(a,e,t);return c?c.element:null}},window.Navigator=new i},"241f":function(e,t,n){},"245c":function(e,t,n){"use strict";n("3796")},2544:function(e,t,n){},"26dd":function(e,t,n){"use strict";n("2a50")},2765:function(e,t,n){"use strict";n("ffac")},"281f":function(e,t,n){"use strict";n("56eb")},2845:function(e,t,n){"use strict";n("bad5")},"2a50":function(e,t,n){},3157:function(e,t,n){},3191:function(e,t,n){"use strict";n("12d0")},3383:function(e,t,n){"use strict";n("d304")},"33fb":function(e,t,n){},3401:function(e,t,n){},3434:function(e,t,n){"use strict";n("3157")},3796:function(e,t,n){},"37a9":function(e,t,n){"use strict";n("b521")},"37ea":function(e,t,n){},3837:function(e,t,n){},"39c3":function(e,t,n){var i={"./ar.json":["af08","lang-ar-json"],"./be.json":["d174","lang-be-json"],"./bg.json":["dcd0","lang-bg-json"],"./bs.json":["5dca","lang-bs-json"],"./ca.json":["a4e4","lang-ca-json"],"./co.json":["cfec","lang-co-json"],"./cs.json":["c686","lang-cs-json"],"./cy.json":["60f1","lang-cy-json"],"./da.json":["21aa","lang-da-json"],"./de.json":["6ce2","lang-de-json"],"./el.json":["f184","lang-el-json"],"./en.json":["edd4"],"./es.json":["a306","lang-es-json"],"./et.json":["e1db","lang-et-json"],"./eu.json":["3fdb","lang-eu-json"],"./fa.json":["15ad","lang-fa-json"],"./fi.json":["5754","lang-fi-json"],"./fr.json":["f693","lang-fr-json"],"./fy.json":["5ed9","lang-fy-json"],"./gd.json":["192a","lang-gd-json"],"./gl.json":["a2bd","lang-gl-json"],"./he.json":["ba8d","lang-he-json"],"./hi.json":["7a03","lang-hi-json"],"./hr.json":["92d7","lang-hr-json"],"./hu.json":["4e73","lang-hu-json"],"./id.json":["210c","lang-id-json"],"./is.json":["32db","lang-is-json"],"./it.json":["0825","lang-it-json"],"./iw.json":["4afc","lang-iw-json"],"./ja.json":["0423","lang-ja-json"],"./km.json":["5153","lang-km-json"],"./kn.json":["5914","lang-kn-json"],"./ko.json":["dd11","lang-ko-json"],"./lt.json":["6045","lang-lt-json"],"./lv.json":["f620","lang-lv-json"],"./ml.json":["b7ff","lang-ml-json"],"./mr.json":["18df","lang-mr-json"],"./ms.json":["2060","lang-ms-json"],"./my.json":["3ecc","lang-my-json"],"./nb.json":["85fc","lang-nb-json"],"./nl.json":["a625","lang-nl-json"],"./pa.json":["f2b6","lang-pa-json"],"./pl.json":["89b2","lang-pl-json"],"./pt.json":["5d67","lang-pt-json"],"./ro.json":["9542","lang-ro-json"],"./ru.json":["7704","lang-ru-json"],"./si.json":["0e7c","lang-si-json"],"./sk.json":["3da9","lang-sk-json"],"./sl.json":["d34a","lang-sl-json"],"./sq.json":["eb5e","lang-sq-json"],"./sr.json":["081a","lang-sr-json"],"./sv.json":["4c5b","lang-sv-json"],"./ta.json":["2393","lang-ta-json"],"./te.json":["143f","lang-te-json"],"./th.json":["8680","lang-th-json"],"./tr.json":["ffeb","lang-tr-json"],"./uk.json":["62ea","lang-uk-json"],"./ur.json":["621c","lang-ur-json"],"./uz.json":["7500","lang-uz-json"],"./vi.json":["aced","lang-vi-json"],"./zh.json":["3504","lang-zh-json"]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id="39c3",e.exports=a},4193:function(e,t,n){"use strict";n("b213")},"43be":function(e,t,n){},"43cb":function(e,t,n){},"449f":function(e,t,n){},"44cf":function(e,t,n){},"466e":function(e,t,n){"use strict";n("5ce9")},"4a03":function(e,t,n){"use strict";n("fd14")},"4a43":function(e,t,n){},"4c8e":function(e,t,n){},"4ce1":function(e,t,n){"use strict";n("e384")},"4f5d":function(e,t,n){"use strict";n("4a43")},5065:function(e,t,n){},"512f":function(e,t,n){},"54b8":function(e,t,n){"use strict";n("44cf")},5603:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("2b0e"),a=n("8c4f"),o=n("be92");n("5494");function s(e){const t=new URL(e.href);return 1===parseInt(t.searchParams.get("mock"))}n("d9e2");var r=n("1547");const c=Object(r["b"])("AceStreamApp",{web:()=>n.e("chunk-2d0d3e67").then(n.bind(null,"5f77")).then(e=>new e.AceStreamAppWeb)});var l=n("cee4"),u=n("e762");async function d(e,t={}){const n=await l["a"].get(e+"/auth/token/get",{params:t});if(n.data.error)throw new Error(n.data.error);if(!n.data.token)throw new Error("Failed to get auth token");return n.data.token}function p(e,t,n){const i=u["a"].encode(JSON.stringify(n));return`${e}/do?stoken=${encodeURIComponent(t)}&data=${encodeURIComponent(i)}`}n("14d9");const m=["https://m.acestream.org","https://m.acestream.net","https://m.acestream.media","https://m.acestream.tv"];let v=null;function f(){const e=[];v&&e.push(v);for(const t of m)t!==v&&e.push(t);return e}async function _(e){try{const t=`${e}/.well-known/acestream/758d61f26a44448384e5c4468a0dcb7a2abe456067b0f7b505bc28b9411fe931?${Math.random()}`,n=5e3,i={};window.AbortSignal&&window.AbortSignal.timeout?i.signal=AbortSignal.timeout(n):i.timeout=n;const a=await l["a"].get(t,i);return console.log(`ping response: domain=${e} status=${a.status} data=${a.data}`),"9795c5ff8937f23526ccb207a5684c1fc94a7854e19c021b39d944e51f5baef2"===a.data}catch(t){return console.log(`ping failed: domain=${e} error=${t}`),!1}}async function g(){for(const e of f()){const t=await _(e);if(t)return v=e,e}return null}var h=n("af4e");const b=!1,y="packagepremium.m1.v2",w="packagepremium.y1.v2",C="premium.lifetime.v2",k="premium.lifetime.v2.full",x=Object(o["c"])("permissions",{state:()=>{const e={notifications:"granted"},t={notifications:"granted"};return b&&(e.storage="granted",t.storage="granted"),{permissions:e,outstandingPermission:null,requests:t}},getters:{allGranted:e=>{for(const t in e.permissions)if("granted"!==e.permissions[t])return!1;return!0},pendingPermissionDialog:e=>{if(e.outstandingPermission)return e.outstandingPermission;const t=[];for(let n=0;n<t.length;n++){const i=t[n];if("ask"===e.requests[i])return i}return null},pendingPermissionNotification:e=>{const t=["notifications"];b&&t.push("storage");for(let n=0;n<t.length;n++){const i=t[n];if("notify"===e.requests[i])return i}return null}},actions:{}});var j=n("7bc3");async function S(e,t=null){const{value:n}=await j["a"].get({key:e});return n?JSON.parse(n):t}async function I(e,t){await j["a"].set({key:e,value:JSON.stringify(t)})}const O=Object(o["c"])("prefs",{state:()=>({onboarding:{welcome:null,mainScreen:null,inputPanel:null}}),getters:{},actions:{async init(){this.onboarding.welcome=await S("onboarding_welcome",!0),this.onboarding.mainScreen=await S("onboarding_main_screen",!0),this.onboarding.inputPanel=await S("onboarding_input_panel",!0)},async setOnboardingWelcome(e){await I("onboarding_welcome",e),this.onboarding.welcome=e},async setOnboardingMainScreen(e){await I("onboarding_main_screen",e),this.onboarding.mainScreen=e},async setOnboardingInputPanel(e){await I("onboarding_input_panel",e),this.onboarding.inputPanel=e}}}),P=l["a"].create({baseURL:"https://android.acestream.net",timeout:1e4});async function $(){try{const e=await P.get("/config/billing");return 200!==e.status?(console.error(`Failed to get billing config: code=${e.status} response=${e.data}`),null):e.data}catch(e){return console.error("Failed to get billing config: error="+e.message),null}}async function E(e,t){return await l["a"].get(e,{params:{body:JSON.stringify(t)}})}function T(e){const t=/free-(\d+)d/,n=e.match(t);return n&&n[1]?parseInt(n[1],10):null}const N=Object(o["c"])("main",{state:()=>({appVersion:"1.0.82",initialized:!1,firstRenderReceived:!1,state:{},media:{uri:null,item:null,state:null,error:null},appInfo:null,showTestButtons:!1,showTestMenu:!1,showTestLinks:!1,engineFailed:!1,remoteDebugEnabled:!1,dialogs:{needPremium:!1},error:{visible:!1,message:null,timeout:3e3},currentInteractive:null,navBackHook:null,currentSubscriptionType:"year",lastIntent:null,forumLink:"https://forum.acestream.media/",minRemoteEngineVersionName:"3.2.2",minRemoteEngineVersionCode:3020200,engineActivation:{host:null,port:0,token:null},sidePanelVisible:!1,billingConfig:null,appNotifications:[],fullscreenNotificationVisible:!1,fullscreenNotificationUrl:null,fullscreenNotificationCloseOnBack:!1,fullscreenNotifications:[],fullscreenNotificationDismissed:!1}),getters:{appNotification:e=>e.appNotifications.length>0?e.appNotifications[0].notification:null,fullscreenNotification:e=>e.fullscreenNotifications.length>0&&!e.fullscreenNotificationDismissed?e.fullscreenNotifications[0].notification:null,isMock:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.isMock},locale:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.locale},applicationId:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.applicationId},applicationVersionCode:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.applicationVersionCode},showMediaPopup:e=>null!==e.media.state,engineReady:e=>e.state&&"RUNNING"==e.state.engineState&&!!e.state.engineApiAccessToken,pendingAppUpdate:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.appUpdate},appUpdateError:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.appUpdateError},isBaseApp:e=>e.initialized&&!e.state.isEngineInstalled,isEngineActivated:e=>{var t;return e.initialized&&(!e.isBaseApp||(null===(t=e.state.selectedEngineState)||void 0===t?void 0:t.useRemote))},showWelcomeOnBoarding(){const e=x(),t=O();return t.onboarding.welcome&&"granted"!==e.permissions.notifications},isTv(e){return this.sendAndCastEnabled||e.state.isTv},hasBrowser:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.hasBrowser},hasMarketApp:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.hasMarketApp},sendAndCastEnabled:()=>!1,isGooglePlayVersion:e=>{var t;return"org.acestream.node"===(null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.applicationId)},aceCastConnectUrl:e=>e.sendAndCastEnabled?"websend.app/connect":"acestream.me/acecast",liveTvEnabled:()=>!1,historySupported:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.historySupported},favoritesSupported:e=>{var t;return null===(t=e.state)||void 0===t?void 0:t.favoritesSupported},uninstallOldAppEnabled:()=>!1,showAccountView:e=>!e.isTv,preventFocus:e=>null!==e.currentInteractive,mainSmartphoneRouteName:()=>"main",mainTvRouteName:()=>"acecast-dashboard",mainRouteName(e){return e.isTv?this.mainTvRouteName:this.mainSmartphoneRouteName},sortedTransfers:e=>{var t,n,i;return null!==(t=null===(n=e.state.fileReceiver)||void 0===n||null===(i=n.transfers)||void 0===i?void 0:i.sort((e,t)=>t.created_at-e.created_at))&&void 0!==t?t:[]},activeTransfers(){return this.sortedTransfers.filter(e=>!e.completed&&!e.failed)},failedTransfers(){return this.sortedTransfers.filter(e=>e.failed)},completedTransfers(){return this.sortedTransfers.filter(e=>e.completed)},allAvailableAceCastDevices:e=>{var t,n,i,a,o;return(null===(t=e.state)||void 0===t||null===(n=t.aceCastDiscoveryState)||void 0===n||null===(i=n.devices)||void 0===i?void 0:i.length)>0?null===(a=e.state)||void 0===a||null===(o=a.aceCastDiscoveryState)||void 0===o?void 0:o.devices:[]},availableAceCastDevice:e=>{var t,n,i,a,o;return(null===(t=e.state)||void 0===t||null===(n=t.aceCastDiscoveryState)||void 0===n||null===(i=n.devices)||void 0===i?void 0:i.length)>0?null===(a=e.state)||void 0===a||null===(o=a.aceCastDiscoveryState)||void 0===o?void 0:o.devices[0]:null},aceCastGotConnection(){return!!this.availableAceCastDevice},canGoBack:e=>e.sidePanelVisible},actions:{showFullscreenNotification({url:e,closeOnBack:t=!1}){console.log(`showFullscreenNotification: url=${e} closeOnBack=${t}`),this.fullscreenNotificationVisible=!0,this.fullscreenNotificationUrl=e,this.fullscreenNotificationCloseOnBack=t},dismissFullscreenNotification(){console.log("dismissFullscreenNotification"),this.fullscreenNotificationDismissed=!0,this.fullscreenNotificationVisible=!1,this.fullscreenNotificationCloseOnBack=!1},async updateBillingConfig(){const e=await $();console.log("updateBillingConfig: config="+JSON.stringify(e)),this.billingConfig=e},openNeedPremiumDialog(){this.dialogs.needPremium=!0},closeNeedPremiumDialog(){this.dialogs.needPremium=!1},canGoBackFromRoute(e){const t=this.isTv?["main","account","sign-in"]:["main"];return!t.includes(e)},resetMedia(){this.media.uri=null,this.media.item=null,this.media.state=null,this.media.error=null},showError(e){"object"===typeof e&&(e=e.message),this.showToast(e)},showToast(e){h["a"].show({text:e})},showErrorSnackbar(e){this.error.message=e,this.error.visible=!0,setTimeout(()=>{this.error.message=null,this.error.visible=!1},this.error.timeout)},remoteLog(e,t={}){try{this.remoteDebugEnabled&&E("https://android.acestream.net/api/v1/log",{message:e,data:t})}catch(n){console.error("remote log failed: "+n)}},cancelInteractive(){this.currentInteractive.cancel(),this.currentInteractive=null},getSubscriptionInfo(e){var t,n;const i={};i[y]={fullPrice:"$3.00",promoPrice:null,currency:"USD",freeDays:0},i[w]={fullPrice:"$30.00",promoPrice:null,currency:"USD",freeDays:0};let a,o,s,r,c=!1;const l=null===(t=this.state)||void 0===t||null===(n=t.subscriptionPrices)||void 0===n?void 0:n[e];if(l){let t=!0;for(const n of l)n.offerId&&t&&(t=!1,-1!==n.offerId.indexOf("-free-")?r=T(n.offerId):o=n.formattedPrice,console.log(`getSubscriptionInfo: id=${e} offerId=${n.offerId} promoPrice=${o} freeDays=${r} data=${JSON.stringify(n)}`)),n.offerId||(a=n.formattedPrice,s=n.currency,c=!0)}else if(this.billingConfig&&this.billingConfig[e]){const t=this.billingConfig[e];a=t.fullPrice,o=t.promoPrice,s=t.currency,c=!0}return c||i[e]&&(a=i[e].fullPrice,o=i[e].promoPrice,r=i[e].freeDays,s=i[e].currency),{fullPrice:a,promoPrice:o,freeDays:r,currency:s}},getProductInfo(e){var t,n;const i={};i[C]={fullPrice:"$150.00",promoPrice:null,currency:"USD"};let a,o,s,r,c=!1;const l=null===(t=this.state)||void 0===t||null===(n=t.productPrices)||void 0===n?void 0:n[e];if(l&&l.length>0){const e=l[0];r=e.currency,a=e.formattedPrice,c=!0}else if(this.billingConfig&&this.billingConfig[e]){const t=this.billingConfig[e];o=t.fullPrice,s=t.promoPrice,r=t.currency,c=!0}if(this.isGooglePlayVersion&&e===C){var u,d;const e=null===(u=this.state)||void 0===u||null===(d=u.productPrices)||void 0===d?void 0:d[k];if(e&&e.length>0){const t=e[0];o=t.formattedPrice,s=a,o===s&&(s=null)}else o=a}return c||i[e]&&(o=i[e].fullPrice,s=i[e].promoPrice,r=i[e].currency),{fullPrice:o,promoPrice:s,currency:r}},setBannerNotifications(e){this.appNotifications=e},setFullscreenNotifications(e){this.fullscreenNotifications=e}}}),A=6e4,B=Object(o["c"])("auth",{state:()=>({auth:null,premiumLinkStore:{}}),getters:{showBalance:e=>{var t;const n=null===(t=e.auth)||void 0===t?void 0:t.authData;return!!n&&(!(n.purse_amount<0)&&(n.purse_amount>0||n.auth_level>1))},loading:e=>{var t;return null===(t=e.auth)||void 0===t?void 0:t.isAuthInProgress},packageColor:e=>{var t,n;return null===(t=e.auth)||void 0===t||null===(n=t.authData)||void 0===n?void 0:n.package_color},packageDaysLeft:e=>{var t,n;return null===(t=e.auth)||void 0===t||null===(n=t.authData)||void 0===n?void 0:n.package_days_left},packageName:e=>{var t,n;return null===(t=e.auth)||void 0===t||null===(n=t.authData)||void 0===n?void 0:n.package_name},purseAmount:e=>{var t,n;return(null===(t=e.auth)||void 0===t||null===(n=t.authData)||void 0===n?void 0:n.purse_amount)/100},webViewAuthMethod:e=>{var t;return null===(t=e.auth)||void 0===t?void 0:t.webViewAuthMethod},webViewAuthToken:e=>{var t;return null===(t=e.auth)||void 0===t?void 0:t.webViewAuthToken},signedIn:e=>{var t,n,i;return(null===(t=e.auth)||void 0===t?void 0:t.googleSignedIn)||(null===(n=e.auth)||void 0===n||null===(i=n.authData)||void 0===i?void 0:i.auth_level)>0},hasPremium:e=>{var t,n;return(null===(t=e.auth)||void 0===t||null===(n=t.authData)||void 0===n?void 0:n.auth_level)>17},username:e=>{var t,n;return null!==(t=e.auth)&&void 0!==t&&t.googleSignedIn?e.auth.googleLogin:null===(n=e.auth)||void 0===n?void 0:n.engineLogin}},actions:{async signInGoogle(){await c.signInGoogle()},async signInUsername(e,t,n){const i=await c.signInUsername({username:e,password:t,autoRegister:n});this.auth.authData=i},async signOut(){await c.signOut(),this.auth=null},async getAuthTokenForDomain(e){const t={use_internal_auth:2,x_acestream_auth_method:this.webViewAuthMethod,x_acestream_auth_token:this.webViewAuthToken};return await d(e,t)},async getPremiumLink(){var e;const t=null!==(e=this.username)&&void 0!==e?e:"guest",n=this.premiumLinkStore[t];if(n){const e=Date.now()-n.createdAt;if(e<A)return console.log(`getPremiumLink: use cached: username=${t} age=${e}`),n.value;console.log(`getPremiumLink: skip cached: username=${t} age=${e}`)}const i=await g();if(!i)throw new Error("failed to get backend domain");let a=null;try{a=await this.getAuthTokenForDomain(i)}catch(c){console.error("getPremiumLink: failed to get auth token: "+c.message)}const o=i+"/premium";let s;if(a){const e=N(),t={locale:e.locale,target:"premium-init"};s=p(i,a,t)}else s=o;const r={displayUrl:o,url:s};return this.premiumLinkStore[t]={createdAt:Date.now(),value:r},r}}}),F=Object(o["c"])("appUpdate",()=>{const e=N(),t=Object(i["ref"])(!1),n=Object(i["ref"])(!1),a=Object(i["ref"])(!1),o=Object(i["ref"])(!1),s=Object(i["ref"])(!1),r=Object(i["ref"])(!1),l=Object(i["ref"])(!1),u=Object(i["computed"])(()=>"IN_QUEUE"===d.value||"ACTIVE"===d.value||"STANDBY"===d.value&&t.value||f.value&&n.value),d=Object(i["computed"])(()=>{var t;return null===(t=e.pendingAppUpdate)||void 0===t?void 0:t.status}),p=Object(i["computed"])(()=>{var t;return null===(t=e.pendingAppUpdate)||void 0===t?void 0:t.progress}),m=Object(i["computed"])(()=>!!e.appUpdateError||o.value),v=Object(i["computed"])(()=>m.value&&s.value),f=Object(i["computed"])(()=>!d.value&&(!m.value||a.value)),_=Object(i["computed"])(()=>!e.isBaseApp&&(u.value||m.value)),g=Object(i["computed"])(()=>!!e.pendingAppUpdate&&(!!e.isGooglePlayVersion||Math.floor(e.pendingAppUpdate.versionCode/100)>Math.floor(e.state.applicationVersionCode/100)));function h(){const e=864e5,t=Date.now()+e;window.localStorage.setItem("update_notification_snoozed_until",t)}function b(){window.localStorage.removeItem("update_notification_snoozed_until")}function y(){let e=window.localStorage.getItem("update_notification_snoozed_until");e?(e=parseInt(e),isNaN(e)&&(e=0)):e=0;const t=e-Date.now();return t>0}async function w(){try{a.value=!0,await c.checkSelfUpdate()}catch(e){console.error("checkSelfUpdate:error: "+e)}finally{a.value=!1}}async function C(r=!1){try{var l;if(!e.pendingAppUpdate.canInstall){var u;if(null===(u=e.pendingAppUpdate)||void 0===u||!u.notificationUrl)throw console.error("install: missing notification url"),"internal_error";return void window.open(e.pendingAppUpdate.notificationUrl)}if(o.value=!1,r&&(s.value=!0),m.value&&r&&w(),f.value){console.log(`install: wait for state: waitingForStateUpdate=${a.value} status=${d.value}`),n.value=!0;const e=setTimeout(()=>{t(),n.value=!1},3e4),t=Object(i["watch"])(f,t=>{console.log("install: state update: available="+!t),t||(n.value=!1,e&&clearTimeout(e),C())},{immediate:!0})}else{if(null===(l=e.pendingAppUpdate)||void 0===l||!l.canInstall)throw new Error("internal_error");100!=p.value&&(t.value=!0,await Object(i["nextTick"])()),t.value&&setTimeout(()=>t.value=!1,3500),await c.selfUpdateClicked()}}catch(v){console.error("install:error: "+v.message),o.value=!0}}function k(){t.value=!1,n.value=!1,a.value=!1,o.value=!1,s.value=!1}function x(){y()||(l.value=!0,e.currentInteractive={cancel:()=>{}})}function j(){l.value=!1,e.currentInteractive=null}return{waitingForDownload:t,installClicked:n,waitingForStateUpdate:a,loading:u,updateProgress:p,updateStatus:d,isUpdateActive:_,gotError:m,showError:v,updateNotificationVisible:l,selfUpdateNotificationShown:r,gotSelfUpdate:g,install:C,reset:k,showUpdateNotification:x,hideUpdateNotification:j,snooze:h,unsnooze:b}});function M(){const e=N();return`${e.state.engineHost}:${e.state.enginePort}`}function D(e){return`http://${M()}/server/api?method=${e}`}async function U(e,{params:t={},useToken:n=!1}={}){const i=D(e);if(n){const e=N(),n=e.state.engineApiAccessToken;t["token"]=n}return l["a"].get(i,{params:t}).then(z).catch(R)}function z(e){if(e.data.error)throw e.data.error;return e.data.result}function R(e){throw"ERR_NETWORK"==e.code?"engine_not_connected":e}const L={analyzeContent(e){const t={query:e,expand_wrapper:1,fetch_title:1};return U("analyze_content",{params:t})},notifications:{get(e=!1){return U("get_notifications",{params:{force:e},useToken:!0})},markRead(e){return U("notification_mark_read",{params:{id:e},useToken:!0})},markUnread(e){return U("notification_mark_unread",{params:{id:e},useToken:!0})}},filetransfers:{cancel(e){return l["a"].get(`http://${M()}/api/v1/filetransfers/${e}/cancel`)},delete(e){return l["a"].get(`http://${M()}/api/v1/filetransfers/${e}/delete`)}}},V=Object(o["c"])("notifications",{state:()=>({notifications:[]}),getters:{topNotification:e=>{const t=e.notifications.filter(e=>!e.read);if(0==t.length)return()=>null;const n=t.sort((e,t)=>e.priority<t.priority?-1:e.priority==t.priority?0:1);return e=>{for(let t=0;t<n.length;t++){const i=n[t];if(i.type===e)return i}return null}}},actions:{async load(e=!1){const t=await L.notifications.get(e);console.log("notifications: "+JSON.stringify(t)),this.notifications=t.notifications},async markRead(e){await L.notifications.markRead(e),this.load()},async markUnread(e){await L.notifications.markUnread(e),this.load()}}}),H=Object(o["c"])("appUpdate",()=>{const e=Object(i["ref"])(null),t=Object(i["ref"])(null),n=Object(i["ref"])([]),a=Object(i["ref"])([]),o=Object(i["ref"])([]),s=Object(i["ref"])([]),r=Object(i["computed"])(()=>{const e=[{ref:s,type:"available"},{ref:n,type:"installed"},{ref:o,type:"downloads"},{ref:a,type:"updates"}],t={};return e.forEach(({ref:e,type:n})=>{e.value.forEach(e=>{t[e.packageName]={type:n,...e}})}),t});function c(e){for(const t of Object.values(r.value))if(t.packageName===e)return t;return null}return{installed:n,updates:a,downloads:o,available:s,installingPackageId:e,installingPackageName:t,allApps:r,getAppState:c}});var q=n("2ad9"),W=n("62ad"),G=n("a523"),J=n("0fd9"),Y=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(G["a"],{staticClass:"as-page fill-height"},[t(J["a"],{attrs:{dense:""}},[t(W["a"],{staticClass:"d-flex justify-center landscape--hidden",staticStyle:{"padding-bottom":"16px"},attrs:{cols:"12"}},[t("img",{attrs:{src:n("fd85"),height:"96"}})]),t(W["a"],{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[e._v(" "+e._s(i.authStore.username)+" ")]),t(W["a"],{staticClass:"d-flex justify-center align-center",attrs:{cols:"12"}},[i.authStore.packageDaysLeft>=43e3?t("div",[e._v(" "+e._s(e.$t("lifetime"))+" ")]):i.authStore.packageDaysLeft>=0?t("div",[e._v(" "+e._s(e.$tc("days_left",i.authStore.packageDaysLeft,{count:i.authStore.packageDaysLeft}))+" ")]):e._e(),t("div",{staticClass:"package-circle mx-2",class:i.authStore.packageColor}),t("div",[e._v(" "+e._s(i.authStore.packageName)+" ")])]),t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(i.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-upgrade",enabled:!i.mainStore.preventFocus},expression:"{ id: 'button-upgrade', enabled: !mainStore.preventFocus }"}],attrs:{blue:""},on:{click:function(e){return i.upgrade()}}},[e._v(" "+e._s(e.$t("upgrade"))+" ")])],1),i.authStore.showBalance&&!i.mainStore.isGooglePlayVersion?t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(i.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-balance",enabled:!i.mainStore.preventFocus},expression:"{ id: 'button-balance', enabled: !mainStore.preventFocus }"}],attrs:{disabled:i.loadingBackendState},on:{click:function(e){return i.topup()}}},[e._v(" "+e._s(e.$t("topup_button_title",{amount:e.$n(i.authStore.purseAmount,"decimal")}))+" ")])],1):e._e(),t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(i.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-sign-out",enabled:!i.mainStore.preventFocus},expression:"{ id: 'button-sign-out', enabled: !mainStore.preventFocus }"}],on:{click:function(e){return i.signOut()}}},[e._v(" "+e._s(e.$t("sign_out"))+" ")])],1)],1)],1)},Z=[],K=n("5607"),Q=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"as-btn",class:n.styleClass,attrs:{tabindex:"0"},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},X=[],ee={__name:"MainButton",props:{blue:{type:Boolean,default:!1},white:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=e,n=Object(i["computed"])(()=>{let e;return e=t.blue?"btn-blue":t.white?"btn-white":"btn-transparent",t.disabled&&(e+=" as-disabled"),t.rounded&&(e+=" as-rounded"),e});return{__sfc:!0,props:t,styleClass:n}}},te=ee,ne=(n("a9f8"),n("2877")),ie=Object(ne["a"])(te,Q,X,!1,null,"de6dbb4c",null),ae=ie.exports,oe={__name:"AccountScreen",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=B(),o=N(),s=Object(i["ref"])(!1);function r(){t.push({name:"premium-welcome"})}async function c(){try{if(s.value)return;s.value=!0;const e=await g();if(console.log("topup: domain="+e),!e)throw new Error("failed to get backend domain");const t={use_internal_auth:2,x_acestream_auth_method:a.webViewAuthMethod,x_acestream_auth_token:a.webViewAuthToken},n=await d(e,t);console.log("topup: token="+n);const i={locale:o.locale,target:"topup"},r=p(e,n,i);console.log("topup: url="+r),window.open(r)}catch(e){console.error("Topup failed: "+e),o.showError(n.t("error")+". "+n.t("try_again"))}finally{s.value=!1}}async function l(){await a.signOut(),t.replace({name:o.mainRouteName})}return{__sfc:!0,$router:t,$i18n:n,authStore:a,mainStore:o,loadingBackendState:s,upgrade:r,topup:c,signOut:l,MainButton:ae}}},se=oe,re=(n("fbd7"),Object(ne["a"])(se,Y,Z,!1,null,"661cc627",null)),ce=re.exports,le=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.mainStore.isEngineActivated?n.mainStore.showWelcomeOnBoarding?t(n.OnBoardingScreen):t(n.MainScreen):t(n.ActivationWelcome,e._b({},"activation-welcome",e.$attrs,!1))},ue=[],de=n("490a"),pe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page as-page-engine-activation"},[n.loading?[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_welcome.engine_downloading"))+" ")])]),t("div",{staticClass:"as-center-container d-flex flex-column"},[e._v(" "+e._s(e.$t("activation_welcome.permissions_hint"))+" "),e._m(1)]),t("div",{staticClass:"as-vertical-fill d-flex align-center justify-center"},[n.loading?t(de["a"],{attrs:{size:"48",width:"2",indeterminate:n.waitingForState||100==n.updateProgress,value:n.updateProgress}},[100!=n.updateProgress?t("span",[e._v(" "+e._s(n.updateProgress)+" ")]):e._e()]):e._e()],1)]:[t("div",{staticClass:"as-top-container"},[e._m(2),t("div",{staticClass:"as-title"},[e._v(e._s(e.$t("activation_welcome.title")))])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("activation_welcome.description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button mb-5",on:{click:function(e){return n.install(!0)}}},[e._v(" "+e._s(e.$t("activation_welcome.use_local"))+" ")]),t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button mb-6",on:{click:n.connectRemote}},[e._v(" "+e._s(e.$t("activation_welcome.use_remote"))+" ")]),t("div",{staticClass:"help-container"},[t("div",{staticClass:"as-text",domProps:{innerHTML:e._s(e.$t("activation_welcome.need_help"))}}),t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button as-icon",on:{click:n.showHelp}},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" contact_support ")])])])]),t("div",{staticClass:"as-vertical-fill"})]],2)},me=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" system_update_alt ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-image flex-grow d-flex flex-column align-center justify-end"},[t("img",{attrs:{src:n("b573")}})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("img",{attrs:{src:n("fd85"),height:"96"}})])}],ve={__name:"ActivationWelcome",props:{autoInstall:{type:Boolean,default:!1}},setup(e){const t=e,n=Object(i["getCurrentInstance"])().proxy.$root.$router,a=N(),o=Object(i["ref"])(!1),s=Object(i["ref"])(!1),r=Object(i["ref"])(!1),l=Object(i["computed"])(()=>"IN_QUEUE"===u.value||"ACTIVE"===u.value||"STANDBY"===u.value&&o.value||m.value&&s.value),u=Object(i["computed"])(()=>{var e;return null===(e=a.pendingAppUpdate)||void 0===e?void 0:e.status}),d=Object(i["computed"])(()=>{var e;return null===(e=a.pendingAppUpdate)||void 0===e?void 0:e.progress}),p=Object(i["computed"])(()=>!!a.appUpdateError),m=Object(i["computed"])(()=>!u.value&&(!p.value||r.value));function v(){n.push({name:"activation-connect-welcome"})}function f(){n.push({name:"activation-help"})}async function _(){try{r.value=!0,await c.checkSelfUpdate()}catch(e){console.error("checkSelfUpdate:error: "+e)}finally{r.value=!1}}async function g(e=!1){try{var t;if(p.value&&e&&_(),m.value){console.log(`install: wait for state: waitingForStateUpdate=${r.value} status=${u.value}`),s.value=!0;const e=setTimeout(()=>{t(),s.value=!1},3e4),t=Object(i["watch"])(m,t=>{console.log("install: state update: available="+!t),t||(s.value=!1,e&&clearTimeout(e),g())},{immediate:!0})}else if(p.value)n.push({name:"activation-install-error"});else{if(null===(t=a.pendingAppUpdate)||void 0===t||!t.canInstall)throw new Error("internal_error");100!=d.value&&(o.value=!0,await Object(i["nextTick"])()),await c.selfUpdateClicked(),o.value&&setTimeout(()=>o.value=!1,3500)}}catch(l){const e=l.toString();a.showError(e)}}return Object(i["onMounted"])(()=>{t.autoInstall&&g(!0)}),{__sfc:!0,props:t,$router:n,mainStore:a,waitingForDownload:o,installClicked:s,waitingForStateUpdate:r,loading:l,updateStatus:u,updateProgress:d,gotError:p,waitingForState:m,connectRemote:v,showHelp:f,checkSelfUpdate:_,install:g}}},fe=ve,_e=(n("bde4"),Object(ne["a"])(fe,pe,me,!1,null,"564396a7",null)),ge=_e.exports,he=n("8336"),be=function(){var e=this,t=e._self._c;return t("div",{staticClass:"screen-container",on:{click:function(t){return e.hideHints()}}},[e.mainStore.showTestButtons?t("engine-connection-info"):e._e(),t("div",{staticClass:"as-slot as-slot-top-banner"},[t("transition",{attrs:{name:"fade"}},[e.mainStore.engineFailed?t("engine-failed-banner"):e.notificationsStore.topNotification("inline")?t("message-banner",{staticClass:"mb-4",attrs:{notification:e.notificationsStore.topNotification("inline")}}):e._e()],1)],1),e.mainStore.engineFailed?e._e():t("div",{staticClass:"as-slot as-slot-content"},[t("div",{staticStyle:{position:"relative",width:"85%"}},[t("input-button",{staticClass:"mb-8",on:{showInputPanel:function(t){return e.showInputPanel()}}},[e._v(" "+e._s(e.$t("universal_input_prompt"))+" ")]),t("transition",{attrs:{name:"fade-slow",mode:"out-in"}},[e.typingInput?t("div",{staticClass:"as-typeit typeit-input",on:{click:function(t){e.typingInput=!1}}},[t("span",{ref:"typeitInput"})]):e._e()])],1),t(G["a"],[t(J["a"],[t(W["a"],{staticClass:"d-flex align-center justify-center",staticStyle:{position:"relative"},attrs:{cols:"4"}},[t("app-icon",{attrs:{icon:"select-file",title:e.$t("open_file")},on:{click:function(t){return e.selectFile()}}}),t("transition",{attrs:{name:"fade-slow",mode:"out-in"}},[e.typingOpenFile?t("div",{staticClass:"as-typeit typeit-open-file",on:{click:function(t){e.typingOpenFile=!1}}},[t("span",{ref:"typeitOpenFile"})]):e._e()])],1),e.mainStore.favoritesSupported?t(W["a"],{staticClass:"d-flex align-center justify-center",staticStyle:{position:"relative"},attrs:{cols:"4"}},[t("app-icon",{attrs:{icon:"favorites",title:e.$t("favorites"),disabled:!e.mainStore.engineReady},on:{click:function(t){return e.openFavorites()}}})],1):e._e(),e.mainStore.historySupported?t(W["a"],{staticClass:"d-flex align-center justify-center",staticStyle:{position:"relative"},attrs:{cols:"4"}},[t("app-icon",{attrs:{icon:"history",title:e.$t("history"),disabled:!e.mainStore.engineReady},on:{click:function(t){return e.openHistory()}}})],1):e._e()],1)],1)],1),t("div",{staticClass:"as-slot as-slot-bottom-banner"},[e.showUninstallBanner?t("UninstallOldAppBanner",{staticClass:"mb-4"}):e.showSelfUpdateBanner?t("AppUpdateBanner",{staticClass:"mb-4"}):e._e()],1),e.mainStore.showTestButtons?t("div",[t(he["a"],{on:{click:function(t){return e.testSyncClicked()}}},[e._v("Test sync")]),t(he["a"],{on:{click:function(t){return e.testNotificationClicked()}}},[e._v("Test notification")]),t(he["a"],{on:{click:function(t){return e.testToastClicked()}}},[e._v("Test toast")]),t(he["a"],{on:{click:function(t){return e.testPermissionsClicked()}}},[e._v("Test permissions")]),t(he["a"],{on:{click:function(t){return e.testNetworkRequest()}}},[e._v("Test network")]),t(he["a"],{on:{click:function(t){return e.testRestoreNotificaion()}}},[e._v("Test restore notification")]),t(he["a"],{on:{click:function(t){return e.testPopupClicked()}}},[e._v("Test popup")]),t(he["a"],{on:{click:function(t){return e.testInstall()}}},[e._v("Test install")])],1):e._e(),e._e(),t("need-premium-dialog"),t("router-view")],1)},ye=[],we=n("d53d"),Ce=n("936a");const ke=3,xe=864e5;async function je(){const e=x();let t;t=await c.checkNotificationsPermission(),console.log("notifications: "+t.state),e.permissions.notifications=t.state,await Se("notifications"),t=await c.checkPermissions(),console.log("storage: "+t.storage),e.permissions.storage=t.storage,await Se("storage")}async function Se(e){const t=x();"granted"===t.permissions[e]?t.requests[e]="granted":await Ee(e)?t.requests[e]="ask":t.requests[e]="notify"}function Ie(e){return"ask_permission_"+e}function Oe(){return{askedCount:0,lastAskedAt:0}}async function Pe(e){const{value:t}=await j["a"].get({key:Ie(e)});return t?JSON.parse(t):Oe()}async function $e(e,t){await j["a"].set({key:Ie(e),value:JSON.stringify(t)})}async function Ee(e){const t=await Pe(e);if(t.askedCount>=ke)return!1;const n=Date.now()-t.lastAskedAt;return!(n<xe)}async function Te(e){const t=x();t.outstandingPermission=null;const n=await Pe(e);n.askedCount+=1,n.lastAskedAt=Date.now(),await $e(e,n)}async function Ne(e){if("notifications"==e)return Me();if("storage"==e)return Ae();throw"unknown permission requested: "+e}async function Ae(){const e=x();let t=await c.checkPermissions();if("granted"!==t.storage)if("denied"===t.storage)Be();else if(t=await c.requestPermissions({permissions:["storage"]}),e.permissions.storage=t.storage,"granted"!==t.storage)throw"No storage permission"}function Be(){Ce["b"].openAndroid({option:Ce["a"].ApplicationDetails})}async function Fe(){await Ce["b"].openAndroid({option:Ce["a"].AppNotification})}async function Me(){const e=x();let t=await c.checkNotificationsPermission();if("granted"!==t.state)if("denied"===t.state)Fe();else if(t=await c.requestNotificationsPermission(),e.permissions.notifications=t.state,"granted"!==t.state)throw"No notifications permission"}function De(e){return"storage"===e&&!b||"granted"===x().permissions[e]}function Ue(e){return!("storage"===e&&!b)&&"denied"===x().permissions[e]}async function ze(){const e=N();if(e.state.useRemoteEngine)throw"unavailable_for_remote_engine";if(!De("storage"))throw"missing_storage_permission";try{const e=await we["a"].pickFiles({multiple:!1});console.log("pick-file:success: "+JSON.stringify(e));const t=e.files[0].path,n=e.files[0].name;if(null!==t&&void 0!==t&&t.startsWith("content:"))await c.playDirectStream({uri:t,title:n});else{const e=await c.resolveContentUri({uri:t});console.log("resolved="+JSON.stringify(e)),await c.play({uri:e.result})}}catch(t){let e=!1;if("pickFiles canceled."==t.message&&(e=!0),!e)throw new Error(t.message||"Unknown error",{cause:t})}}var Re=n("4ca6"),Le=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-app-icon-container",class:{disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[t(Re["a"],{attrs:{value:e.badgeNew,color:"accent",overlap:""}},[t("div",{staticClass:"as-app-icon-body",class:"as-app-icon-body-"+e.icon},[t("div",{staticClass:"as-app-icon",class:"as-icon-"+e.icon})])]),t("div",{staticClass:"as-app-icon-title"},[e._v(" "+e._s(e.title)+" ")])],1)},Ve=[],He={__name:"AppIcon",props:{title:{type:String},icon:{type:String},badgeNew:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e){return{__sfc:!0}}},qe=He,We=(n("8e82"),Object(ne["a"])(qe,Le,Ve,!1,null,"92d69d0e",null)),Ge=We.exports,Je=n("b0af"),Ye=n("99d9"),Ze=n("2db4"),Ke=n("2fa4"),Qe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Je["a"],{attrs:{outlined:"",color:"rgba(0, 0, 0, 0.25)",width:"90%"}},[t(Ye["c"],[e._v(" "+e._s(e.$t("app_update.title"))+" ")]),t(Ye["b"],[e._v(" "+e._s(e.$t("app_update.text",{version:n.mainStore.pendingAppUpdate.version}))+" ")]),t(Ye["a"],[t(Ke["a"]),t(he["a"],{attrs:{text:"",disabled:n.loading},on:{click:function(e){return n.update()}}},[e._v(" "+e._s(e.$t("update"))+" ")])],1),t(Ze["a"],{attrs:{bottom:"",timeout:"3000"},model:{value:n.error.visible,callback:function(t){e.$set(n.error,"visible",t)},expression:"error.visible"}},[e._v(" "+e._s(e.$t(n.error.message))+" ")])],1)},Xe=[],et={__name:"AppUpdateBanner",setup(e){const t=N(),n=F(),a=Object(i["ref"])(!1),o=Object(i["ref"])({visible:!1,message:null});async function s(){try{if(a.value=!0,setTimeout(()=>{a.value=!1},2e3),t.pendingAppUpdate.canInstall)await n.install(!0);else{if(!t.pendingAppUpdate.notificationUrl)throw"internal_error";window.open(t.pendingAppUpdate.notificationUrl)}}catch(e){t.showError(e.toString())}}const r=Object(i["computed"])(()=>{var e;return a.value||"ACTIVE"===(null===(e=t.pendingAppUpdate)||void 0===e?void 0:e.status)}),c=Object(i["computed"])(()=>{var e;return null===(e=t.pendingAppUpdate)||void 0===e?void 0:e.status});return Object(i["watch"])(c,(e,t)=>{void 0!==t&&"ERROR"===e&&(o.value.message="update_failed_try_later",o.value.visible=!0)}),{__sfc:!0,mainStore:t,appUpdateStore:n,buttonDisabled:a,error:o,update:s,loading:r,updateStatus:c}}},tt=et,nt=Object(ne["a"])(tt,Qe,Xe,!1,null,null,null),it=nt.exports,at=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Je["a"],{attrs:{outlined:"",color:"rgba(0, 0, 0, 0.25)",width:"90%"}},[t(Ye["c"],[e._v(" "+e._s(e.$t("uninstall_old_app.title"))+" ")]),t(Ye["b"],[e._v(" "+e._s(e.$t("uninstall_old_app.text"))+" ")]),t(Ye["a"],[t(Ke["a"]),t(he["a"],{attrs:{text:"",disabled:n.loading},on:{click:function(e){return n.uninstall()}}},[e._v(" "+e._s(e.$t("uninstall"))+" ")])],1)],1)},ot=[],st={__name:"UninstallOldAppBanner",setup(e){const t=N(),n=Object(i["ref"])(!1);async function a(){try{n.value=!0,await c.uninstallAppClicked({packageName:"org.acestream.node"})}catch(e){t.showError(e.toString())}finally{n.value=!1}}return{__sfc:!0,mainStore:t,loading:n,uninstall:a}}},rt=st,ct=Object(ne["a"])(rt,at,ot,!1,null,null,null),lt=ct.exports,ut=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"connection-info"},[e._v(" Connected to "+e._s(n.state.engineHost)+":"+e._s(n.state.enginePort)+" ")])},dt=[],pt={__name:"EngineConnectionInfo",setup(e){const{state:t}=Object(o["e"])(N());return{__sfc:!0,state:t}}},mt=pt,vt=(n("9260"),Object(ne["a"])(mt,ut,dt,!1,null,"8b5b5e0a",null)),ft=vt.exports,_t=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Je["a"],{attrs:{outlined:"",color:"rgba(0, 0, 0, 0.25)",width:"90%"}},[t(Ye["c"],[e._v(" "+e._s(e.$t("engine_failed.title"))+" ")]),t(Ye["b"],[t("span",{domProps:{innerHTML:e._s(e.$t("engine_failed.message",{helpLink:"https://docs.acestream.net/"}))}})])],1)},gt=[],ht={__name:"EngineFailedBanner",setup(e){return{__sfc:!0}}},bt=ht,yt=Object(ne["a"])(bt,_t,gt,!1,null,null,null),wt=yt.exports,Ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-button",on:{click:function(t){return e.showInputPanel()}}},[e._t("default")],2)},kt=[],xt={emits:["showInputPanel"],methods:{showInputPanel(){this.$emit("showInputPanel")}}},jt=xt,St=(n("e2bf"),Object(ne["a"])(jt,Ct,kt,!1,null,"6c709baf",null)),It=St.exports,Ot=n("132d"),Pt=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Je["a"],{attrs:{outlined:"",color:"rgba(0, 0, 0, 0.25)",width:"90%"}},[t(Ye["c"],[t("span",{domProps:{innerHTML:e._s(e.notification.title)},on:{click:function(e){return n.openMessage()}}}),t(Ke["a"]),t(he["a"],{attrs:{icon:""},on:{click:function(e){return n.close()}}},[t(Ot["a"],[e._v("mdi-close")])],1)],1),t(Ye["b"],{on:{click:function(e){return n.openMessage()}}},[t("div",{domProps:{innerHTML:e._s(e.notification.text)}})])],1)},$t=[],Et={__name:"MessageBanner",props:["notification"],setup(e){const t=e;function n(){const e=V();e.markRead(t.notification.id)}function i(){window.open(t.notification.url),n()}return{__sfc:!0,props:t,close:n,openMessage:i}}},Tt=Et,Nt=Object(ne["a"])(Tt,Pt,$t,!1,null,null,null),At=Nt.exports,Bt=n("169a"),Ft=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Bt["a"],{attrs:{persistent:""},model:{value:n.mainStore.dialogs.needPremium,callback:function(t){e.$set(n.mainStore.dialogs,"needPremium",t)},expression:"mainStore.dialogs.needPremium"}},[t(Je["a"],[t(Ye["c"],{staticClass:"text-h5"},[e._v(" "+e._s(e.$t("need_premium_dialog.title"))+" ")]),t(Ye["b"],[e._v(" "+e._s(e.$t("need_premium_dialog.text"))+" ")]),t(Ye["a"],[t(Ke["a"]),t(he["a"],{attrs:{text:""},on:{click:function(e){return n.close()}}},[e._v(" "+e._s(e.$t("later"))+" ")]),t(he["a"],{attrs:{text:""},on:{click:function(e){return n.proceed()}}},[e._v(" "+e._s(e.$t("continue"))+" ")])],1)],1)],1)},Mt=[],Dt={__name:"NeedPremiumDialog",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){n.dialogs.needPremium=!1}function o(){n.closeNeedPremiumDialog(),t.push({name:"premium-welcome"})}return{__sfc:!0,$router:t,mainStore:n,close:a,proceed:o}}},Ut=Dt,zt=Object(ne["a"])(Ut,Ft,Mt,!1,null,null,null),Rt=zt.exports,Lt=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Bt["a"],{attrs:{persistent:""},model:{value:n.visible,callback:function(e){n.visible=e},expression:"visible"}},[t("div",{ref:"notificationBody",domProps:{innerHTML:e._s(e.notification.text)}})])},Vt=[],Ht={__name:"PopupDialog",props:["notification"],setup(e){const t=Object(i["ref"])(!0),n=Object(i["ref"])(null);async function a(){try{c.updateAppClicked()}catch(e){N().showError(e.toString())}}return Object(i["onMounted"])(()=>{const e=n.value.querySelectorAll(".as-action");e.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.getAttribute("data-payload");console.log("click: "+t),"action-2"===t&&a()})})}),{__sfc:!0,visible:t,notificationBody:n,update:a}}},qt=Ht,Wt=(n("0a57"),Object(ne["a"])(qt,Lt,Vt,!1,null,"43804e4a",null)),Gt=Wt.exports,Jt=n("fe25");function Yt(e,{async:t,onload:n,crossorigin:i}={}){var a=document.createElement("script");a.src=e,t&&(a.async="true"),i&&(a.crossorigin=i),n&&(a.onload=n,a.onerror=n),document.head.appendChild(a)}function Zt(){window.googlefc.callbackQueue.push({CONSENT_DATA_READY:()=>window.googlefc.showRevocationMessage()})}function Kt(){const e=window.location.hostname;"tv.acestream.org"===e&&Yt("https://securepubads.g.doubleclick.net/tag/js/gpt.js",{async:!0})}function Qt(){return new Promise((e,t)=>{let n=20;function i(){--n,"function"===typeof window.__tcfapi?e():n>0?setTimeout(i,100):t()}i()})}var Xt={components:{AppIcon:Ge,AppUpdateBanner:it,UninstallOldAppBanner:lt,EngineConnectionInfo:ft,EngineFailedBanner:wt,InputButton:It,MessageBanner:At,NeedPremiumDialog:Rt,PopupDialog:Gt},data(){return{testPopupVisible:!1,typingInput:!1,typingOpenFile:!1,uninstallBannerAvailable:!1,appCheckTimer:null}},computed:{...Object(o["d"])(N,B,F,V,x,O),state(){return this.mainStore.state},onboarding(){return this.prefsStore.onboarding.mainScreen},showSelfUpdateBanner(){return!this.typingOpenFile&&this.appUpdateStore.gotSelfUpdate},showUninstallBanner(){return this.uninstallBannerAvailable&&!this.typingOpenFile}},async mounted(){if(this.mainStore.remoteLog("main:mounted: onboarding="+this.onboarding),null===this.onboarding?Object(i["watch"])(()=>this.onboarding,e=>{e&&this.typeInput()}):this.onboarding&&this.typeInput(),c.homeScreenReady(),Kt(),!this.mainStore.isGooglePlayVersion&&this.mainStore.uninstallOldAppEnabled){const{result:e}=await c.isAppInstalled({packageName:"org.acestream.node"});this.uninstallBannerAvailable=e,e&&this.startAppCheckTimer()}},unmounted(){this.stopAppCheckTimer()},methods:{startAppCheckTimer(){this.appCheckTimer=setInterval(async()=>{const{result:e}=await c.isAppInstalled({packageName:"org.acestream.node"});this.uninstallBannerAvailable=e},1e3)},stopAppCheckTimer(){this.appCheckTimer&&clearInterval(this.appCheckTimer)},hideHints(){this.typingInput=!1,this.typingOpenFile=!1},async typeInput(){this.typingInput=!0,await this.$nextTick(),new Jt["a"](this.$refs.typeitInput,{speed:20,initialDelay:1e3,cursor:!1,strings:[this.$t("onboarding.universal_input")],afterComplete:()=>{this.typeOpenFile()}}).go()},async typeOpenFile(){this.typingOpenFile=!0,await this.$nextTick(),new Jt["a"](this.$refs.typeitOpenFile,{speed:20,initialDelay:1e3,cursor:!1,strings:[this.$t("onboarding.open_file")],afterComplete:()=>{this.dismissOnBoarding()}}).go()},dismissOnBoarding(){const e=O();e.setOnboardingMainScreen(!1)},async selectFile(){const e="storage";if(console.log("select file",De(e)),De(e))try{await ze()}catch(t){N().showError(t)}else if(Ue(e)){const t=x();t.outstandingPermission=e}else try{await Ne(e)}catch(n){console.log("error: "+n)}finally{Te(e),await je()}},showInputPanel(){this.$router.push({name:"input-panel"})},hideInputPanel(){this.inputPanelVisible=!1},playClicked(){this.mainStore.media.item.hasStreams?this.mainStore.media.state="select-stream-play":this.play(this.mainStore.media.uri,-1)},downloadClicked(){this.mainStore.media.item.hasStreams?this.mainStore.media.state="select-stream-download":this.download(this.mainStore.media.uri,this.mainStore.media.item.filename,this.mainStore.media.item.type)},closeMediaDialog(){this.mainStore.resetMedia()},streamSelected(e,t){"download"==e?this.download(t.url,t.filename):this.play(this.mainStore.media.uri,t.id)},play(e,t){c.play({uri:e,streamIndex:t}).then(()=>{this.closeMediaDialog()})},download(e,t,n){c.downloadFile({url:e,filename:t,type:n}).then(()=>{this.closeMediaDialog()})},async showInterstitial(){try{console.log("showInterstitial"),await c.showInterstitial(),console.log("showInterstitial done")}catch(e){console.error("showInterstitial:error: "+e)}},openHistory(){if(this.mainStore.engineReady){if(!this.authStore.hasPremium)return void c.openResolverActivity({mode:"history"});this.$router.push({name:"history"})}},openFavorites(){if(this.mainStore.engineReady){if(!this.authStore.hasPremium)return void c.openResolverActivity({mode:"favorites"});this.$router.push({name:"favorites"})}},testPopupClicked(){this.testPopupVisible=!0},async testInstall(){console.log("testInstall"),await c.installAppClicked({packageName:"com.alibaba.aliexpresshd"})},testNotificationClicked(){c.testNotificationClicked()},testSyncClicked(){c.testSyncClicked()},testToastClicked(){h["a"].show({text:"Test toast message"})},testPermissionsClicked(){c.checkPermissions().then(e=>{console.log("permissions: "+JSON.stringify(e))}),c.checkNotificationsPermission().then(e=>{console.log("notifications: "+JSON.stringify(e))})},testNetworkRequest(){const e="https://test-android.acestream.net/api/v1/ui/version";l["a"].get(e).then(e=>{console.log("response: "+JSON.stringify(e.data))}).catch(e=>{console.log("error: "+e)})},testRestoreNotificaion(){const e=V();e.markUnread(123)}}},en=Xt,tn=(n("78d2"),Object(ne["a"])(en,be,ye,!1,null,"d87e4738",null)),nn=tn.exports,an=function(){var e=this,t=e._self._c;return t(G["a"],{staticClass:"fill-height"},[t(J["a"],{attrs:{dense:""}},[t(W["a"],{attrs:{cols:"12"}},[t("div",{ref:"typeit",staticClass:"as-typeit"})]),t(W["a"],{staticClass:"d-flex justify-end",staticStyle:{height:"64px"},attrs:{cols:"12"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showActions?t("div",[t(he["a"],{attrs:{text:""},on:{click:function(t){return e.close()}}},[e._v(" "+e._s(e.$t("skip"))+" ")]),t(he["a"],{attrs:{text:""},on:{click:function(t){return e.requestPermissions()}}},[e._v(" "+e._s(e.$t("continue"))+" ")])],1):e._e()])],1)],1),e.askPermission?t("general-dialog",{attrs:{title:"Settings",text:"Please grant notifications permission in the settings",positiveText:"Open settings",negativeText:"Cancel"},on:{confirm:function(t){return e.dialogConfirm()},cancel:function(t){return e.dialogCancel()}}}):e._e()],1)},on=[],sn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(Bt["a"],{attrs:{persistent:e.persistent},model:{value:n.visible,callback:function(e){n.visible=e},expression:"visible"}},[t(Je["a"],[t(Ye["c"],{staticClass:"text-h5"},[e._v(" "+e._s(e.title)+" ")]),t(Ye["b"],[e._v(" "+e._s(e.text)+" ")]),t(Ye["a"],[t(Ke["a"]),e.negativeText?t(he["a"],{attrs:{text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" "+e._s(e.negativeText)+" ")]):e._e(),t(he["a"],{attrs:{text:""},on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.positiveText)+" ")])],1)],1)],1)},rn=[],cn={__name:"GeneralDialog",props:{title:{type:String,required:!0},text:{type:String,required:!0},positiveText:{type:String,required:!0},negativeText:{type:String,default:null},persistent:{type:Boolean,default:!1}},emits:["confirm","cancel"],setup(e){const t=Object(i["ref"])(!0);return{__sfc:!0,visible:t}}},ln=cn,un=Object(ne["a"])(ln,sn,rn,!1,null,null,null),dn=un.exports,pn={data(){return{showActions:!1,askPermission:!1}},components:{GeneralDialog:dn},computed:{isDenied(){return"denied"===x().permissions.notifications},permissionsStore(){return x()}},methods:{typeWelcome(){this.typeit=new Jt["a"](this.$refs.typeit,{speed:20,nextStringDelay:20,waitUntilVisible:!0,cursor:!1,strings:[this.$t("onboarding.welcome")," ",this.$t("onboarding.require_notifications_permission")],afterComplete:()=>{this.showActions=!0}}).go()},async close(){const e=O();Te("notifications"),await je(),await e.setOnboardingWelcome(!1)},async requestPermissions(){if(this.isDenied)this.askPermission=!0;else try{await Ne("notifications")}catch(e){console.log("error: "+e)}finally{this.close()}},async dialogConfirm(){this.askPermission=!1;try{await Fe()}catch(e){console.log("error: "+e)}finally{this.close()}},async dialogCancel(){this.askPermission=!1,this.close()}},mounted(){this.typeWelcome()}},mn=pn,vn=Object(ne["a"])(mn,an,on,!1,null,null,null),fn=vn.exports,_n={__name:"MainScreenPlaceholder",setup(e){const t=N();return{__sfc:!0,mainStore:t,ActivationWelcome:ge,MainScreen:nn,OnBoardingScreen:fn}}},gn=_n,hn=Object(ne["a"])(gn,le,ue,!1,null,null,null),bn=hn.exports,yn=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(G["a"],{staticClass:"as-page fill-height align-center justify-center"},[t(J["a"],{staticClass:"main-row"},[t(W["a"],{staticClass:"d-flex justify-center landscape--hidden",staticStyle:{"padding-bottom":"16px"},attrs:{cols:"12"}},[t("img",{attrs:{src:n("fd85"),height:"96"}})]),"premium"==e.target?t(W["a"],{staticClass:"d-flex justify-center align-center text-center",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("sign_in_to_get_premium"))+" ")]):e._e(),t(W["a"],{staticClass:"d-flex justify-center align-center",attrs:{cols:"12"}},[i.googleServiceAvailable?t(i.MainButton,{on:{click:function(e){return i.authStore.signInGoogle()}}},[t(Ot["a"],{attrs:{left:""}},[e._v(" mdi-google ")]),e._v(" "+e._s(e.$t("sign_in_google"))+" ")],1):e._e()],1),t(W["a"],{staticClass:"d-flex justify-center align-center",attrs:{cols:"12"}},[t(i.MainButton,{on:{click:function(e){return i.signInAceStream()}}},[e._v(" "+e._s(e.$t("sign_in_acestream"))+" ")])],1)],1)],1)},wn=[];function Cn(e){let t;const n=B(),i=N();return t="premium"==e?n.hasPremium?"account":i.isGooglePlayVersion?"premium-payment":"premium-payment-external":i.mainRouteName,t}var kn={__name:"SignInScreen",props:["target"],setup(e){const t=e,n=Object(i["getCurrentInstance"])().proxy.$root.$router,a=N(),o=B(),s=Object(i["computed"])(()=>a.state.googleServiceAvailable);function r(){const e="premium"===t.target?"sign-in-username-premium":"sign-in-username";n.push({name:e})}return Object(i["watch"])(()=>o.signedIn,e=>{if(e){const e=Cn(t.target);n.replace({name:e})}},{immediate:!0}),{__sfc:!0,props:t,$router:n,mainStore:a,authStore:o,googleServiceAvailable:s,signInAceStream:r,MainButton:ae}}},xn=kn,jn=(n("bc13"),Object(ne["a"])(xn,yn,wn,!1,null,"2033119e",null)),Sn=jn.exports,In=n("4bd4"),On=n("8654"),Pn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(In["a"],{staticClass:"as-page",model:{value:n.formValid,callback:function(e){n.formValid=e},expression:"formValid"}},[t(G["a"],[t(J["a"],[t(W["a"],[t(On["a"],{attrs:{label:e.$t("email"),rules:n.emailRules,"error-messages":n.usernameErrors,required:""},model:{value:n.email,callback:function(e){n.email=e},expression:"email"}})],1)],1),t(J["a"],[t(W["a"],[t(On["a"],{attrs:{label:e.$t("password"),rules:n.passwordRules,"error-messages":n.passwordErrors,"append-icon":n.showPassword?"mdi-eye":"mdi-eye-off",type:n.showPassword?"text":"password",required:""},on:{"click:append":function(e){n.showPassword=!n.showPassword},input:function(e){return n.clearErrors()}},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}})],1)],1),t(J["a"],[t(W["a"],{staticClass:"text-end"},[t(he["a"],{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-do-sign-in",enabled:!n.mainStore.preventFocus},expression:"{\n            id: 'button-do-sign-in',\n            enabled: !mainStore.preventFocus,\n          }"}],attrs:{outlined:"",loading:n.loading},on:{click:function(e){return n.submit()}}},[e._v(" "+e._s(e.$t("sign_in"))+" ")])],1)],1)],1)],1)},$n=[],En={__name:"SignInUsernameScreen",props:["target"],setup(e){const t=e,n=Object(i["getCurrentInstance"])().proxy.$root.$router,a=Object(i["getCurrentInstance"])().proxy.$i18n,o={username:new Set,password:new Set};o.username.add("auth_error_user_not_found"),o.password.add("auth_error_bad_password");const s=B(),r=N(),c=Object(i["ref"])(!1),l=Object(i["ref"])(!1),u=Object(i["ref"])(!1),d=Object(i["ref"])(""),p=Object(i["ref"])(""),m=Object(i["ref"])([e=>!!e||this.$t("email_is_required"),e=>/.+@.+\..+/.test(e)||this.$t("email_must_be_valid")]),v=Object(i["ref"])([e=>!!e||this.$t("password_is_required")]),f=Object(i["ref"])([]),_=Object(i["ref"])([]);async function g(){try{c.value=!0,h(),console.log(`signin: username=${d.value} target=${t.target}`),await s.signInUsername(d.value,p.value,!0)}catch(e){const t=e.message,n=a.t("errors."+t);console.log("auth error: "+t),o.username.has(t)?f.value.push(n):o.password.has(t)?_.value.push(n):N().showError(n)}finally{c.value=!1}}function h(){f.value=[],_.value=[]}return Object(i["watch"])(()=>s.signedIn,e=>{if(e){const e=Cn(t.target);n.replace({name:e})}},{immediate:!0}),{__sfc:!0,$router:n,$i18n:a,knownErrors:o,props:t,authStore:s,mainStore:r,loading:c,formValid:l,showPassword:u,email:d,password:p,emailRules:m,passwordRules:v,usernameErrors:f,passwordErrors:_,submit:g,clearErrors:h}}},Tn=En,Nn=(n("7e5b"),Object(ne["a"])(Tn,Pn,$n,!1,null,"5405ec36",null)),An=Nn.exports,Bn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column justify-start"},[t("div",{staticClass:"top-container"},[t("div",{staticClass:"as-info as-info-top as-text-muted"},[e._v(" "+e._s(e.$t("acecast_server.welcome"))+" ")]),t("div",{staticClass:"as-title"},[e._v(e._s(e.$t("acecast_server.connection_options")))])]),t("div",{staticClass:"center-container"},[t("div",{staticClass:"pin-code-container"},[t("ol",{staticClass:"as-main-text"},[t("li",[e._v(" "+e._s(e.$t("acecast_server.open_connector",{url:n.mainStore.aceCastConnectUrl}))+" ")]),t("li",[e._v(e._s(e.$t("acecast_server.enter_pin_code"))+":")])]),t("div",{staticClass:"pin-code"},[n.loadingPinCode?t(de["a"],{attrs:{indeterminate:"",width:"1"}}):t("span",[e._v(e._s(n.pinCode))])],1),n.SHOW_MANUAL_CONNECT_INFO?t("div",{staticClass:"manual-connect-info"},[e._v(" "+e._s(e.$t("acecast_server.manual_connect"))+" ")]):e._e()]),t("div",{staticClass:"vertical-separator"},[t("div",{staticClass:"vertical-separator-top"}),t("div",{staticClass:"vertical-separator-text as-main-text"},[e._v(" "+e._s(e.$t("or"))+" ")]),t("div",{staticClass:"vertical-separator-bottom"})]),t("div",{staticClass:"qr-code-container"},[t("div",{staticClass:"qr-code-info as-main-text"},[e._v(" "+e._s(e.$t("acecast_server.scan_qr_code"))+" ")]),t("div",{staticClass:"qr-code"},[t("div",{staticClass:"qr-code-holder"},[n.loadingPinCode?t(de["a"],{attrs:{indeterminate:"",width:"1"}}):[t("img",{attrs:{src:n.qrCodeImage}}),t("div",{staticClass:"qr-code-url as-main-text"},[e._v(" "+e._s(n.qrCodeUrl)+" ")])]],2)])])]),t("div",{staticClass:"bottom-container"},[t("div",{staticClass:"as-info as-text-muted"},[e._v(" "+e._s(e.$t("acecast_server.instruction_wifi"))+" ")]),n.showDebugInfo?t("div",{staticClass:"debug-info-container"},[e._v(" AceCast server is running "),t("br"),e._v(" host:"+e._s(n.acecastState.host)+" tcp port:"+e._s(n.acecastState.port)+" engine port:"+e._s(n.enginePort)+" websocket port:"+e._s(n.acecastState.websocketPort)+" file server port:"+e._s(n.acecastState.fileServerPort)+" ")]):e._e()])])},Fn=[],Mn=n("b785");const Dn=l["a"].create({baseURL:"https://connect.acestream.net/acecast/connect",timeout:3e4});async function Un(e,t,n,i,a,o){const s=await Dn.post("/device/add",{host:e,port:t,name:n,websocket_port:i,engine_port:a,file_server_port:o});if(201!=s.status)throw new Error("Failed to create pin: "+s.data);return s.data}async function zn(e){const t=await Dn.get("/device/pin/"+e);if(200!=t.status)throw new Error(t.data);return t.data}let Rn=!1,Ln=null,Vn=null,Hn=null,qn=!1,Wn=!1;const Gn=500;let Jn=null,Yn=null,Zn=null;const Kn=500,Qn=100,Xn={dashboard:"app-bar-dashboard",premium:"app-bar-premium",history:"app-bar-back",favorites:"app-bar-back","send-cast-server":"app-bar-back","account-signed-in":"app-bar-account-signed-in","account-signed-out":"app-bar-account-signed-out","external-player-tv":"button-go-premium","playlist-notification-tv":"button-go-premium"},ei={};let ti=null;function ni(){si(),Navigator.ignoreHiddenElement=!0,Navigator.navigableFilter=e=>!(e instanceof HTMLElement&&e.hasAttribute("disabled")),Navigator.follow("focus",e=>{li(e.elem)}),window.addEventListener("blur",()=>{oi()}),document.addEventListener("visibilitychange",()=>{document.hidden&&oi()})}function ii(e){var t,n,i;const a=!(null===(t=Vn)||void 0===t||!t.down),o=!(null===(n=Vn)||void 0===n||!n.up),s=!(null===(i=Vn)||void 0===i||!i.right);switch(console.log(`controller:performNavigation: key=${e} hasDown=${a} hasUp=${o} hasRight=${s}`),e){case"ArrowDown":Vn&&Vn.down?Vn.down({target:Ln}):Navigator.move("down");break;case"ArrowUp":Vn&&Vn.up?Vn.up({target:Ln}):Navigator.move("up");break;case"ArrowLeft":Navigator.move("left");break;case"ArrowRight":Vn&&Vn.right?Vn.right({target:Ln}):Navigator.move("right");break}}function ai(e){oi(),Zn=e,ii(e),Jn=setTimeout(()=>{Yn=setInterval(()=>{ii(e)},Qn)},Kn)}function oi(){Jn&&(clearTimeout(Jn),Jn=null),Yn&&(clearInterval(Yn),Yn=null),Zn=null}function si(){window.addEventListener("keydown",(function(e){if(e.preventDefault(),!Rn){if("Enter"===e.key&&Ln){if(Wn)return;Hn||(qn=!1,Hn=setTimeout(()=>{var e;(qn=!0,Wn=!0,Hn=null,Vn&&Vn.longPress)&&(console.log("controller:longPress: target="+(null===(e=Ln)||void 0===e?void 0:e.id)),Vn.longPress({target:Ln}))},Gn))}["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(e.key)&&Zn!==e.key&&ai(e.key)}})),window.addEventListener("keyup",(function(e){if(e.preventDefault(),!Rn)switch(e.key){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":Zn===e.key&&oi();break;case"Enter":var t,n;if(Hn&&(clearTimeout(Hn),Hn=null),!qn&&!Wn&&Ln)if(ci(Ln,"click"),Vn&&Vn.enter)console.log("controller:enter: calling handler.enter for "+(null===(t=Ln)||void 0===t?void 0:t.id)),Vn.enter({target:Ln});else console.log(`controller:enter: no handler or no enter callback. handler=${!!Vn} hasEnter=${!(null===(n=Vn)||void 0===n||!n.enter)}`);qn=!1,Wn=!1;break}}))}function ri(e){Navigator._collection&&Navigator._collection.forEach(t=>{e.forEach(e=>{let n=!1;"focus"===e&&(n=t.classList.contains(e)),t.classList.remove(e),n&&ci(t,"unfocus")})})}function ci(e,t){let n=document.createEvent("Event");n.initEvent(t,!1,!0),e.dispatchEvent(n)}function li(e){ri(["focus"]),e.classList.add("focus"),e.focus(),Ln=e}function ui({pageId:e}){ti=e,setTimeout(()=>{e===ti?di({pageId:e}):console.log(`controller:setupNavigationImpl: skip: pageId=${e} pendingPageId=${ti}`)},0)}function di({pageId:e}){if(!e)throw new Error("setupNavigation: missing page id");let t=ei[e],n=null;t||(t=Xn[e]),t&&(n=document.getElementById(t));const i=document.querySelectorAll(".selector");console.log(`controller:setupNavigation: pageId=${e} elems=${i.length} lastFocusedId=${t}`),Navigator.setCollection(i),n&&Navigator.focus(n)}function pi({pageId:e,elementId:t}){console.log(`controller:setLastFocused: pageId=${e} elementId=${t}`),ei[e]=t}function mi(e,t){console.log(`controller:setHandler: name=${e} hasEnter=${!(null===t||void 0===t||!t.enter)}`),Vn=t}function vi(e){console.log("controller:removeHandler: name="+e),Vn=null,oi()}function fi(){Rn=!0}function _i(){Rn=!1}var gi={init:ni,pause:fi,removeHandler:vi,resume:_i,setupNavigation:ui,setLastFocused:pi,setHandler:mi},hi={__name:"AceCastServerScreen",setup(e){const t=N(),n=!1,a=t.sendAndCastEnabled?"/connect":"/acecast",o=Object(i["ref"])(null),s=Object(i["ref"])(!1),r=Object(i["computed"])(()=>!1),c=Object(i["computed"])(()=>{var e;return null===(e=t.state)||void 0===e?void 0:e.aceCastServer}),l=Object(i["computed"])(()=>{var e,n;return null!==(e=null===(n=t.state)||void 0===n?void 0:n.enginePort)&&void 0!==e?e:0}),u=Object(i["computed"])(()=>{var e,n,i;return null!==(e=null===(n=t.state)||void 0===n||null===(i=n.aceCastServer)||void 0===i?void 0:i.fileServerPort)&&void 0!==e?e:0}),d=Object(i["computed"])(()=>{var e;return`http://${null===(e=c.value)||void 0===e?void 0:e.host}:${u.value}${a}`}),p=Object(Mn["a"])(d);function m(e,t){return(null===e||void 0===e?void 0:e.host)!==(null===t||void 0===t?void 0:t.host)||(null===e||void 0===e?void 0:e.fileServerPort)!==(null===t||void 0===t?void 0:t.fileServerPort)}async function v(){s.value=!0;try{if(!c.value)throw new Error("AceCast server is not running");{const e=await Un(c.value.host,c.value.port,c.value.name,c.value.websocketPort,l.value,u.value);o.value=e.pin}}catch(i){var e,n;console.log(i),t.showErrorSnackbar(null!==(e=null===(n=i.response)||void 0===n?void 0:n.data)&&void 0!==e?e:i.message)}finally{s.value=!1}}return Object(i["onMounted"])(()=>{ui({pageId:"send-cast-server"})}),Object(i["watch"])(c,(e,t)=>{m(t,e)&&(console.log(`acecast state updated: old=${JSON.stringify(t)} new=${JSON.stringify(e)}`),v())},{immediate:!0}),{__sfc:!0,mainStore:t,SHOW_MANUAL_CONNECT_INFO:n,URL_PATH:a,pinCode:o,loadingPinCode:s,showDebugInfo:r,acecastState:c,enginePort:l,fileServerPort:u,qrCodeUrl:d,qrCodeImage:p,isAcecastStateChanged:m,getPinCode:v}}},bi=hi,yi=(n("1433"),Object(ne["a"])(bi,Bn,Fn,!1,null,"5e41e168",null)),wi=yi.exports,Ci=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"fill-height"},[t(J["a"],{attrs:{dense:""}},[t(W["a"],{staticClass:"d-flex justify-center flex-column pa-4",attrs:{cols:"12"}},[t("p",[e._v(" You can stream playback from the smartphone directly to your Android TV device using AceCast technology. ")]),t("p",[e._v(' To do this install Ace Stream app on your Android TV device and run it. After this choose "Remote devices" when starting playback. ')]),t("p",[e._v(" You should see your TV device automatically, but if something went wrong you can add it manually: ")]),t("ul",[t("li",[e._v("Run Ace Stream app on the TV device")]),t("li",[e._v('Press "Ace Cast" button on the main screen')]),t("li",[e._v('Press "Connect phone"')]),t("li",[e._v("Enter PIN code from the TV screen in the field below")])])]),t(W["a"],{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[t(On["a"],{staticStyle:{"max-width":"50vw"},attrs:{label:"PIN",outlined:"",dense:""},model:{value:n.pin,callback:function(e){n.pin=e},expression:"pin"}})],1),t(W["a"],{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[t(he["a"],{attrs:{outlined:""},on:{click:n.addDevice}},[e._v(" Add device ")])],1)],1)],1)},ki=[],xi={__name:"AceCastClientScreen",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a=Object(i["ref"])(null);async function o(){try{const e=await zn(a.value);console.log(`got device info: host=${e.host} port=${e.port} name=${e.name}`),await c.addAceCastDevice({host:e.host,port:e.port,name:e.name}),t.push({name:n.mainRouteName})}catch(i){var e;console.log(i),n.showErrorSnackbar((null===(e=i.response)||void 0===e?void 0:e.data)||i.message)}}return{__sfc:!0,router:t,mainStore:n,pin:a,addDevice:o}}},ji=xi,Si=Object(ne["a"])(ji,Ci,ki,!1,null,"0dc68199",null),Ii=Si.exports,Oi=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.authStore.hasPremium?t(n.PremiumStatusScreenTv):t(n.LinkPremiumScreenTv)},Pi=[],$i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column justify-start"},[t("div",{staticClass:"top-container"},[t("div",{staticClass:"as-info as-info-top as-main-text"},[e._v(" "+e._s(e.$t("premium_title"))+" ")]),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("premium_account"))+" ")])]),t("div",{staticClass:"center-container"},[t("div",{staticClass:"left-container"},[t("ul",[t("li",[t("b",[e._v("No ADs")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_no_ads.description")))])]),t("li",[t("b",[e._v("Premium Pool")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_premium_pool.description")))])]),t("li",[t("b",[e._v("No Limits")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_no_limits.description")))])])])]),e._m(0),t("div",{staticClass:"right-container"},[t("div",{staticClass:"qr-code-info as-main-text"},[e._v(" "+e._s(e.$t("connect_premium"))+" ")]),t("div",{staticClass:"qr-code"},[t("div",{staticClass:"qr-code-holder"},[n.loading?t(de["a"],{attrs:{indeterminate:"",width:"1"}}):[t("img",{attrs:{src:n.qrCodeImage}}),t("div",{staticClass:"qr-code-url as-main-text"},[e._v(" "+e._s(n.linkUrl)+" ")])]],2)])])])])},Ei=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vertical-separator"},[t("div",{staticClass:"vertical-separator-line"})])}];const Ti=["https://link.acestream.org","https://link.acestream.me","https://link.acestream.net","https://link.acestream.media","https://link.acestream.tv"];let Ni=null;const Ai=6e4;let Bi=null;function Fi(){const e=[];Ni&&e.push(Ni);for(const t of Ti)t!==Ni&&e.push(t);return e}async function Mi(e){try{const t=`${e}/api/v1/ping?${Math.random()}`,n=5e3,i={};window.AbortSignal&&window.AbortSignal.timeout?i.signal=AbortSignal.timeout(n):i.timeout=n;const a=await l["a"].get(t,i);return console.log(`ping response: domain=${e} status=${a.status} data=${JSON.stringify(a.data)}`),"ok"===a.data.status}catch(t){return console.log(`ping failed: domain=${e} error=${t}`),!1}}async function Di(){if(Bi){const e=Date.now()-Bi.createdAt;if(e<Ai)return console.log("getLinkBackendDomain: use cached domain"),Bi.value}for(const e of Fi()){const t=await Mi(e);if(t)return Ni=e,Bi={createdAt:Date.now(),value:e},e}return null}async function Ui(){const e=await Di();if(!e)throw new Error("Failed to get link backend domain");return l["a"].create({baseURL:e+"/api/v1",timeout:3e4})}async function zi(e,t){const n=await Ui(),i=await n.post("/link",{device_ip:e,device_name:t});if(200!=i.status)throw new Error("Failed to link code: "+i.data);return i.data}async function Ri(e){const t=await Ui(),n=await t.get("/link/"+e);if(200!=n.status)throw new Error("Failed to get link: "+n.data);return n.data}const Li=Object(o["c"])("linkDevice",{state:()=>({linkCode:null,linkCodeExpiresAt:null}),getters:{linkCodePremium:e=>e.linkCode?"P"+e.linkCode:null},actions:{async requestCode({force:e=!1}={}){if(this.linkCode&&!e)return;const t=N();try{var n;const e=null===(n=t.state)||void 0===n?void 0:n.aceCastServer,i=null===e||void 0===e?void 0:e.host,a=null===e||void 0===e?void 0:e.name,o=await zi(i,a);this.linkCode=o.code,this.linkCodeExpiresAt=Date.now()+1e3*o.ttl}catch(i){t.showError("Failed to get link code: "+i)}}}});var Vi={__name:"LinkPremiumScreenTv",setup(e){const t=Li(),n=Object(i["ref"])(null),a=Object(i["computed"])(()=>!n.value||!t.linkCodePremium),o=Object(i["computed"])(()=>`${n.value}/${t.linkCodePremium}`),s=Object(Mn["a"])(o);return Object(i["onMounted"])(async()=>{ui({pageId:"premium"}),t.requestCode();let e=await Di();e||(e="https://link.acestream.me"),n.value=e}),{__sfc:!0,linkDeviceStore:t,linkBackendDomain:n,loading:a,linkUrl:o,qrCodeImage:s}}},Hi=Vi,qi=(n("4ce1"),Object(ne["a"])(Hi,$i,Ei,!1,null,"8b030502",null)),Wi=qi.exports,Gi=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column justify-start"},[t("div",{staticClass:"top-container"},[t("div",{staticClass:"as-info as-info-top as-main-text"}),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("premium"))+" ")])]),t("div",{staticClass:"center-container"},[t("div",{staticClass:"left-container"},[t("ul",[t("li",[t("b",[e._v("No ADs")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_no_ads.description")))])]),t("li",[t("b",[e._v("Premium Pool")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_premium_pool.description")))])]),t("li",[t("b",[e._v("No Limits")]),e._v(": "),t("span",{staticClass:"as-main-text"},[e._v(e._s(e.$t("premium_options.option_no_limits.description")))])])])]),e._m(0),t("div",{staticClass:"right-container"},[t("div",{staticClass:"qr-code-info as-main-text"},[e._v(" "+e._s(e.$t("upgrade"))+" ")]),t("div",{staticClass:"qr-code"},[t("div",{staticClass:"qr-code-holder"},[n.loading?t(de["a"],{attrs:{indeterminate:"",width:"1"}}):[t("img",{attrs:{src:n.qrCodeImage}}),t("div",{staticClass:"qr-code-url as-main-text"},[e._v(" "+e._s(n.displayUrlRef)+" ")])]],2)])])])])},Ji=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"vertical-separator"},[t("div",{staticClass:"vertical-separator-line"})])}],Yi={__name:"PremiumStatusScreenTv",setup(e){const t="https://m.acestream.org/premium",n=B(),a=Object(i["ref"])(null),o=Object(i["ref"])(null),s=Object(i["ref"])(!0),r=Object(i["ref"])(null);return Object(i["onMounted"])(async()=>{ui({pageId:"premium"});try{const{displayUrl:e,url:t}=await n.getPremiumLink();o.value=e,a.value=t,s.value=!1}catch(e){console.log("premium-tv: failed to get link: "+e.message),o.value=t,a.value=t,s.value=!1}r.value=Object(Mn["a"])(a.value)}),{__sfc:!0,DEFAULT_PREMIUM_LINK:t,authStore:n,qrCodeUrlRef:a,displayUrlRef:o,loading:s,qrCodeImage:r}}},Zi=Yi,Ki=(n("5d07"),Object(ne["a"])(Zi,Gi,Ji,!1,null,"583f9e6d",null)),Qi=Ki.exports,Xi={__name:"PremiumScreen",setup(e){const t=B();return{__sfc:!0,authStore:t,LinkPremiumScreenTv:Wi,PremiumStatusScreenTv:Qi}}},ea=Xi,ta=Object(ne["a"])(ea,Oi,Pi,!1,null,null,null),na=ta.exports,ia=n("67b6"),aa=n("43a6"),oa=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"align-top"},[n.loadingBackendState?t("div",{staticClass:"loading-overlay"},[t(de["a"],{attrs:{indeterminate:"",size:"48",width:"1"}})],1):e._e(),t("div",{staticClass:"premium-welcome-page"},[t("div",{staticClass:"as-title-container"},[e._v(" "+e._s(e.$t("premium_title"))+" ")]),t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(n.optionName)+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(n.optionDescription)+" ")])]),t("div",{staticClass:"as-options-container"},e._l(n.options,(function(i){return t("div",{key:i.id,staticClass:"as-option",class:{"as-selected":i.id==n.selectedOption},on:{click:function(e){n.selectedOption=i.id}}},[e._v(" "+e._s(i.name)+" ")])})),0),t("div",{staticClass:"actions-container"},[t(n.MulticolorButton,{on:{click:function(e){return n.showDialog()}}},[e._v(" "+e._s(e.$t("buy_premium"))+" ")])],1),t("div",{staticClass:"as-vertical-fill"}),t(Bt["a"],{model:{value:n.dialogVisible,callback:function(e){n.dialogVisible=e},expression:"dialogVisible"}},[t(Je["a"],[t(Ye["c"],{staticClass:"text-h6"},[e._v(" "+e._s(e.$t("select_subscription_type"))+" ")]),t(Ye["b"],{staticClass:"as-card-text"},[t(aa["a"],{attrs:{mandatory:""},model:{value:n.subscriptionType,callback:function(e){n.subscriptionType=e},expression:"subscriptionType"}},[t(ia["a"],{staticClass:"subscription-type-radio",attrs:{value:"month"}},[t("template",{slot:"label"},[n.mainStore.isGooglePlayVersion?t("div",[t("div",{domProps:{innerHTML:e._s(e.$t("subscription_dialog_month",{price:n.fullPriceMonth}))}}),n.promoPriceMonth?t("div",{staticClass:"discount-highlight pt-1"},[e._v(" "+e._s(e.$t("first_month"))+" "+e._s(n.promoPriceMonth)+" ")]):e._e(),n.promoFreeDaysMonth?t("div",{staticClass:"discount-highlight pt-1"},[e._v(" "+e._s(e.$t("first_x_days_free",{days:n.promoFreeDaysMonth}))+" ")]):e._e()]):t("div",[t("div",{domProps:{innerHTML:e._s(e.$t(n.promoPriceMonth?"subscription_dialog_month_web":"subscription_dialog_month",{price:n.fullPriceMonth,promoPrice:n.promoPriceMonth}))}})])])],2),t(ia["a"],{staticClass:"subscription-type-radio",attrs:{value:"year"}},[t("template",{slot:"label"},[n.mainStore.isGooglePlayVersion?t("div",[t("div",{domProps:{innerHTML:e._s(e.$t("subscription_dialog_year",{price:n.fullPriceYear}))}}),n.promoPriceYear?t("div",{staticClass:"discount-highlight pt-1"},[e._v(" "+e._s(e.$t("first_year"))+" "+e._s(n.promoPriceYear)+" ")]):e._e(),n.promoFreeDaysYear?t("div",{staticClass:"discount-highlight pt-1"},[e._v(" "+e._s(e.$t("first_x_days_free",{days:n.promoFreeDaysYear}))+" ")]):e._e()]):t("div",[t("div",{domProps:{innerHTML:e._s(e.$t(n.promoPriceYear?"subscription_dialog_year_web":"subscription_dialog_year",{price:n.fullPriceYear,promoPrice:n.promoPriceYear}))}})])])],2),t(ia["a"],{staticClass:"subscription-type-radio",attrs:{value:"lifetime"}},[t("template",{slot:"label"},[t("div",[t("div",{domProps:{innerHTML:e._s(n.lifetimeOptionDescription)}}),n.promoPriceLifetime?t("div",{staticClass:"discount-highlight pt-1"},[e._v(" "+e._s(e.$t("subscription_dialog_lifetime_promo_note"))+" ")]):e._e()])])],2)],1),n.mainStore.isGooglePlayVersion?t("div",{staticClass:"subscription-details"},[e._v(" "+e._s(n.subscriptionDetails)+" ")]):e._e()],1),t(Ye["a"],[t(Ke["a"]),t(he["a"],{attrs:{text:""},on:{click:function(e){return n.hideDialog()}}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),t(he["a"],{attrs:{text:""},on:{click:function(e){return n.proceed()}}},[e._v(" OK ")])],1)],1)],1)],1)])},sa=[],ra=function(){var e=this,t=e._self._c;return t(he["a"],e._g(e._b({staticClass:"multicolor-button bg-multi-color"},"v-btn",e.$attrs,!1),e.$listeners),[e._t("default")],2)},ca=[],la=(n("97ff"),{}),ua=Object(ne["a"])(la,ra,ca,!1,null,"11591626",null),da=ua.exports,pa={__name:"PremiumWelcome",props:["mode"],setup(e){const t=e,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=Object(i["getCurrentInstance"])().proxy.$root.$router,o=Object(i["getCurrentInstance"])().proxy.$root.$route,s=B(),r=N(),c=Object(i["ref"])(!1),l=Object(i["ref"])("option_no_ads"),u=Object(i["ref"])(!1),d=Object(i["ref"])("year"),m=Object(i["ref"])(null),v=Object(i["ref"])(null),f=Object(i["ref"])(null),_=Object(i["ref"])(null),h=Object(i["ref"])(null),b=Object(i["ref"])(null),k=Object(i["ref"])(null),x=Object(i["ref"])(null),j=Object(i["computed"])(()=>b.value?n.t("subscription_dialog_lifetime_with_promo",{price:f.value,promoPrice:b.value}):n.t("subscription_dialog_lifetime_no_promo",{price:f.value})),S=Object(i["computed"])(()=>{const e=n.t(d.value);switch(d.value){case"year":return k.value?n.t("subscription_details_promo_free_first_days",{freeDays:k.value,fullPrice:m.value,period:e}):_.value?n.t("subscription_details_promo_discount_first_period",{promoPrice:_.value,fullPrice:m.value,period:e}):n.t("subscription_details_no_promo",{fullPrice:m.value,period:e});case"month":return x.value?n.t("subscription_details_promo_free_first_days",{freeDays:x.value,fullPrice:v.value,period:e}):h.value?n.t("subscription_details_promo_discount_first_period",{promoPrice:h.value,fullPrice:v.value,period:e}):n.t("subscription_details_no_promo",{fullPrice:v.value,period:e});case"lifetime":return b.value?n.t("subscription_details_lifetime_with_promo",{promoPrice:b.value}):n.t("subscription_details_lifetime_no_promo",{price:f.value});default:return console.error("Unknown subscription type: "+d.value),""}}),I=Object(i["computed"])(()=>{for(const e of P)if(e.id===l.value)return e.name;return"Premium"}),O=Object(i["computed"])(()=>n.t(`premium_options.${l.value}.description`)),P=[{id:"option_no_ads",name:"No ADs"},{id:"option_premium_pool",name:"Premium Pool"},{id:"option_no_limits",name:"No Limits"}];function $(){u.value=!0}function E(){u.value=!1}function T(){E(),r.currentSubscriptionType=d.value,s.signedIn?r.isGooglePlayVersion?a.push({name:"premium-payment"}):A():a.push({name:"sign-in-premium"})}async function A(){try{if(c.value)return;c.value=!0;const e=await g();if(console.log("openExternalPaymentPage: domain="+e),!e)throw new Error("failed to get backend domain");const t=await s.getAuthTokenForDomain(e);console.log("openExternalPaymentPage: token="+t);let n="y1";switch(r.currentSubscriptionType){case"month":n="m1";break;case"year":n="y1";break;case"lifetime":n="lifetime";break}const i={locale:r.locale,target:"premium-buy",service:"packagePremium",period:n},a=p(e,t,i);console.log(`openExternalPaymentPage: period=${n} url=${a}`),window.open(a)}catch(e){console.error("Failed to open external payment page: "+e),r.showError(n.t("error")+". "+n.t("try_again"))}finally{setTimeout(()=>c.value=!1,1e3)}}return Object(i["onMounted"])(()=>{const e=r.getSubscriptionInfo(y),n=r.getSubscriptionInfo(w),i=r.getProductInfo(C);v.value=e.fullPrice,h.value=e.promoPrice,x.value=e.freeDays,m.value=n.fullPrice,_.value=n.promoPrice,k.value=n.freeDays,f.value=i.fullPrice,b.value=i.promoPrice,"payment"==t.mode&&A(),"true"!==o.query.showDialog&&!0!==o.query.showDialog||$()}),{__sfc:!0,props:t,$i18n:n,$router:a,$route:o,authStore:s,mainStore:r,loadingBackendState:c,selectedOption:l,dialogVisible:u,subscriptionType:d,fullPriceYear:m,fullPriceMonth:v,fullPriceLifetime:f,promoPriceYear:_,promoPriceMonth:h,promoPriceLifetime:b,promoFreeDaysYear:k,promoFreeDaysMonth:x,lifetimeOptionDescription:j,subscriptionDetails:S,optionName:I,optionDescription:O,options:P,showDialog:$,hideDialog:E,proceed:T,openExternalPaymentPage:A,MulticolorButton:da}}},ma=pa,va=(n("13e7"),n("3434"),Object(ne["a"])(ma,oa,sa,!1,null,"3a82513a",null)),fa=va.exports,_a=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"align-top"},[n.loading?t("div",{staticClass:"loading"},[t(de["a"],{attrs:{indeterminate:"",width:"1",size:"48"}})],1):[n.backendDomain?t(n.PremiumPaymentOnline,{attrs:{backendDomain:n.backendDomain}}):t(n.PremiumPaymentOffline,{on:{"update-backend-state":function(e){return n.updateBackendState()}}})]],2)},ga=[],ha=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"frame-container"},[t("iframe",{staticClass:"payment-page-frame",attrs:{src:n.paymentPageUrl}})])},ba=[],ya={__name:"PremiumPaymentOnline",props:["backendDomain"],setup(e){const t=e,n=B(),a=N();function o(e){if("month"===e)return"m1";if("year"===e)return"y1";if("lifetime"===e)return"lifetime";throw new Error("Unknown subscription type: "+e)}const s="/plan/init",r={upgrade:1,service:"packagePremium",period:o(a.currentSubscriptionType),premium:1,use_internal_auth:2,lang:a.locale,x_acestream_auth_method:n.webViewAuthMethod,x_acestream_auth_token:n.webViewAuthToken},c=Object.keys(r).map(e=>`${e}=${encodeURIComponent(r[e])}`).join("&"),l=Object(i["computed"])(()=>`${t.backendDomain}${s}?${c}`);return{__sfc:!0,props:t,authStore:n,mainStore:a,getPeriodId:o,baseUrl:s,params:r,paramsStr:c,paymentPageUrl:l}}},wa=ya,Ca=(n("54b8"),Object(ne["a"])(wa,ha,ba,!1,null,"f1e22032",null)),ka=Ca.exports,xa=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page"},[t("div",{staticClass:"no-connection-message"},[e._v(" "+e._s(e.$t("premium_no_connection"))+" ")]),t(n.MainButton,{staticClass:"try-again-button",on:{click:n.updateBackendState}},[e._v(" "+e._s(e.$t("try_again"))+" ")])],1)},ja=[],Sa={__name:"PremiumPaymentOffline",emits:["update-backend-state"],setup(e,{emit:t}){function n(){t("update-backend-state")}return{__sfc:!0,emit:t,updateBackendState:n,MainButton:ae}}},Ia=Sa,Oa=(n("be8c"),Object(ne["a"])(Ia,xa,ja,!1,null,"349464ac",null)),Pa=Oa.exports,$a={__name:"PremiumPayment",setup(e){const t=Object(i["ref"])(!0),n=Object(i["ref"])(null);async function a(){t.value=!0;const e=await g();console.log("updateBackendState: domain="+e),n.value=e,t.value=!1}return Object(i["onMounted"])(()=>{a()}),{__sfc:!0,loading:t,backendDomain:n,updateBackendState:a,PremiumPaymentOnline:ka,PremiumPaymentOffline:Pa}}},Ea=$a,Ta=(n("d269"),Object(ne["a"])(Ea,_a,ga,!1,null,"21020e58",null)),Na=Ta.exports,Aa=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"as-page fill-height"},[t(J["a"],{attrs:{dense:""}},[t(W["a"],{staticClass:"d-flex justify-center notification-text",attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("need_premium"))+" ")]),t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(n.MainButton,{on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("activate"))+" ")])],1)],1)],1)},Ba=[],Fa={__name:"NeedPremium",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}return{__sfc:!0,$router:t,mainStore:n,goPremium:a,MainButton:ae}}},Ma=Fa,Da=(n("d807"),Object(ne["a"])(Ma,Aa,Ba,!1,null,"6a054b4c",null)),Ua=Da.exports,za=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.authStore.signedIn?t(n.AccountScreen):t(n.SignInScreen)},Ra=[],La=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column justify-center align-center"},[n.googleServiceAvailable?[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-sign-in-google",enabled:!n.mainStore.preventFocus},expression:"{\n        id: 'button-sign-in-google',\n        enabled: !mainStore.preventFocus,\n      }"}],key:"button-sign-in-google",staticClass:"selector",attrs:{id:"button-sign-in-google",text:"",withBorder:""},on:{click:function(e){return n.authStore.signInGoogle()}}},[t(Ot["a"],{attrs:{left:""}},[e._v(" mdi-google ")]),e._v(" "+e._s(e.$t("sign_in_google"))+" ")],1),t("div",{staticClass:"or-separator"},[e._v(" "+e._s(e.$t("or"))+" ")])]:e._e(),n.loading?t("div",[e._v(" "+e._s(e.$t("link_account.loading"))+" ")]):[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("link_account.title"))+" ")]),t("div",{staticClass:"qr-code"},[t("img",{attrs:{src:n.qrCodeImage}})]),t("div",{staticClass:"as-link"},[e._v(" "+e._s(n.linkUrl)+" ")]),t("div",{staticClass:"timer"},[e._v(" "+e._s(e.$t("link_account.link_will_refresh",{time:n.formatTime(1e3*n.codeExpiresInReadble)}))+" ")])]],2)},Va=[],Ha=n("2c28"),qa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(he["a"],e._g(e._b({class:{"as-selected":e.$attrs.selected,"as-outlined":e.withBorder,"as-blue":e.blue}},"v-btn",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Wa=[],Ga={__name:"TheButton",props:{withBorder:{type:Boolean,default:!1},blue:{type:Boolean,default:!1}},setup(e){return{__sfc:!0}}},Ja=Ga,Ya=(n("dcac"),Object(ne["a"])(Ja,qa,Wa,!1,null,"5bc22774",null)),Za=Ya.exports,Ka={__name:"SignInScreen",setup(e){const t="account-signed-out";let n=["app-bar-account-signed-out","button-sign-in-google"];const a=B(),o=N(),s=Li(),r=Object(i["ref"])(null),c=Object(i["computed"])(()=>o.state.googleServiceAvailable),l=Object(Ha["useTimestamp"])(),u=Object(i["computed"])(()=>!r.value||!s.linkCode),d=Object(i["computed"])(()=>`${r.value}/${s.linkCode}`),p=Object(i["computed"])(()=>s.linkCodeExpiresAt-l.value),m=Object(i["computed"])(()=>Math.round(p.value/1e3)),v=Object(Mn["a"])(d);function f(e){console.log("account:focus: id="+e.elem.id),-1!==n.indexOf(e.elem.id)&&gi.setLastFocused({pageId:t,elementId:e.elem.id})}function _(){Navigator.follow("focus",f),gi.setHandler(t,{down:e=>{var t,n;console.log("account: move down",e),"app-bar-account-signed-out"===(null===(t=e.target)||void 0===t?void 0:t.id)||"button-main-menu"===(null===(n=e.target)||void 0===n?void 0:n.id)?Navigator.focus(document.getElementById("button-sign-in-google")):Navigator.move("down")},up:e=>{var t;console.log("account: move up",e),"button-sign-in-google"===(null===(t=e.target)||void 0===t?void 0:t.id)?Navigator.focus(document.getElementById("app-bar-account-signed-out")):Navigator.move("up")},enter:e=>{var t;"app-bar-account-signed-out"===(null===(t=e.target)||void 0===t?void 0:t.id)&&Navigator.focus(document.getElementById("button-sign-in-google"))}})}function g(){Navigator.removeListener("focus",f),gi.removeHandler(t)}function h(e){let t="";e<0&&(e*=-1,t="-"),e=Math.floor(e/1e3);const n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),a=Math.floor(e-3600*n-60*i);return n>0?`${t}${n}:${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${t}${i}:${a.toString().padStart(2,"0")}`}return Object(i["onMounted"])(async()=>{gi.setupNavigation({pageId:t}),_(),s.requestCode();let e=await Di();e||(e="https://link.acestream.me"),r.value=e}),Object(i["onBeforeUnmount"])(()=>{g()}),{__sfc:!0,PAGE_ID:t,canSaveFocus:n,authStore:a,mainStore:o,linkDeviceStore:s,linkBackendDomain:r,googleServiceAvailable:c,timestamp:l,loading:u,linkUrl:d,codeExpiresIn:p,codeExpiresInReadble:m,qrCodeImage:v,onFocus:f,bindEvents:_,unbindEvents:g,formatTime:h,TheButton:Za}}},Qa=Ka,Xa=(n("2845"),Object(ne["a"])(Qa,La,Va,!1,null,"243619fa",null)),eo=Xa.exports,to=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(G["a"],{staticClass:"fill-height"},[t(J["a"],{attrs:{dense:""}},[t(W["a"],{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[t("img",{attrs:{src:n("fd85"),height:"96"}})]),t(W["a"],{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[e._v(" "+e._s(i.authStore.username)+" ")]),t(W["a"],{staticClass:"d-flex align-center justify-center my-1",attrs:{cols:"12"}},[i.authStore.packageDaysLeft>=43e3?t("div",[e._v(" "+e._s(e.$t("lifetime"))+" ")]):i.authStore.packageDaysLeft>=0?t("div",[e._v(" "+e._s(e.$tc("days_left",i.authStore.packageDaysLeft,{count:i.authStore.packageDaysLeft}))+" ")]):e._e(),t("div",{staticClass:"package-circle mx-2",class:i.authStore.packageColor}),t("div",[e._v(" "+e._s(i.authStore.packageName)+" ")])]),t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(i.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-upgrade",enabled:!i.mainStore.preventFocus},expression:"{ id: 'button-upgrade', enabled: !mainStore.preventFocus }"}],key:"button-upgrade",staticClass:"selector account-button",attrs:{id:"button-upgrade",text:"",withBorder:"",blue:""},on:{click:function(e){return i.upgrade()}}},[e._v(" "+e._s(e.$t("upgrade"))+" ")])],1),t(W["a"],{staticClass:"d-flex justify-center my-1",attrs:{cols:"12"}},[t(i.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-sign-out",enabled:!i.mainStore.preventFocus},expression:"{ id: 'button-sign-out', enabled: !mainStore.preventFocus }"}],key:"button-sign-out",staticClass:"selector account-button",attrs:{id:"button-sign-out",text:"",withBorder:""},on:{click:function(e){return i.signOut()}}},[e._v(" "+e._s(e.$t("sign_out"))+" ")])],1)],1)],1)},no=[],io={__name:"AccountScreen",setup(e){const t="account-signed-in";let n=["app-bar-account-signed-in","button-upgrade","button-sign-out"];const a=Object(i["getCurrentInstance"])().proxy.$root.$router,o=B(),s=N(),r=Li();async function c(){r.requestCode({force:!0}),await o.signOut()}function l(){a.replace({name:"premium-tv"})}function u(e){console.log("account:focus: id="+e.elem.id),-1!==n.indexOf(e.elem.id)&&gi.setLastFocused({pageId:t,elementId:e.elem.id})}function d(){Navigator.follow("focus",u),gi.setHandler(t,{down:e=>{var t,n;console.log("account: move down",e),"app-bar-account-signed-in"===(null===(t=e.target)||void 0===t?void 0:t.id)||"button-main-menu"===(null===(n=e.target)||void 0===n?void 0:n.id)?Navigator.focus(document.getElementById("button-upgrade")):Navigator.move("down")},up:e=>{var t;console.log("account: move up",e),"button-upgrade"===(null===(t=e.target)||void 0===t?void 0:t.id)?Navigator.focus(document.getElementById("app-bar-account-signed-in")):Navigator.move("up")},enter:e=>{var t;"app-bar-account-signed-in"===(null===(t=e.target)||void 0===t?void 0:t.id)&&Navigator.focus(document.getElementById("button-upgrade"))}})}function p(){Navigator.removeListener("focus",u),gi.removeHandler(t)}return Object(i["onMounted"])(()=>{gi.setupNavigation({pageId:t}),d()}),Object(i["onBeforeUnmount"])(()=>{p()}),{__sfc:!0,PAGE_ID:t,canSaveFocus:n,router:a,authStore:o,mainStore:s,linkDeviceStore:r,signOut:c,upgrade:l,onFocus:u,bindEvents:d,unbindEvents:p,TheButton:Za}}},ao=io,oo=(n("b777"),Object(ne["a"])(ao,to,no,!1,null,"590a6918",null)),so=oo.exports,ro={__name:"TvAccountScreen",setup(e){const t=B();return{__sfc:!0,authStore:t,SignInScreen:eo,AccountScreen:so}}},co=ro,lo=Object(ne["a"])(co,za,Ra,!1,null,null,null),uo=lo.exports,po=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column justify-center align-center"},[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"open-live-tv",enabled:!n.mainStore.preventFocus},expression:"{ id: 'open-live-tv', enabled: !mainStore.preventFocus }"}],attrs:{text:""},on:{click:n.openLiveTv}},[e._v(" Live TV ")])],1)},mo=[],vo=n("ade3");const fo=!1;let _o=null;function go(...e){fo&&console.log(...e)}const ho={install(e,t){_o=new bo(t),e.directive("focus",{bind(e,t,n){var i;if(go("bind: id="+(null===(i=t.value)||void 0===i?void 0:i.id)),!(t.value instanceof Object))throw new Error('v-focus value must be an object with at least "id" property');if(!t.value.id)throw new Error("focus element must have id");const a=new yo(_o,e,n,t.value);_o.registerElement(a),e.addEventListener("keydown",e=>e.preventDefault())},inserted(e,t){const n=_o.findById(t.value.id);n&&(n.isDefault?n.focus():n.focused&&setTimeout(()=>e.focus(),0))},update(e,t,n){if(t.oldValue&&t.value.id!==t.oldValue.id){const i=_o.findById(t.oldValue.id);i&&_o.unregisterElement(i);const a=new yo(_o,e,n,t.value);_o.registerElement(a)}if(t.value.enabled!==t.oldValue.enabled){const e=_o.findById(t.value.id);null===e||void 0===e||e.setEnabled(t.value.enabled)}},unbind(e,t){go("unbind: id="+t.value.id);const n=_o.findById(t.value.id);n&&_o.unregisterElement(n)}})}};class bo{constructor(e){Object(vo["a"])(this,"defaults",{navigationMap:{},defaultFocusElements:{},restoreFocusInterval:100}),this.started=!1,this.active=!0,this.paused=!1,this.restoreTimer=null,this.elements=[],this.unwatchFocusedElement=null,this.longPressTimer=null,this.longPressDelay=800,this.longPressDetected=!1,this.configure(e),this.focusedElementId=Object(i["ref"])(this.defaultFocusElements.length>0?this.defaultFocusElements[0]:null),this.actions={13:"click",38:"moveUp",40:"moveDown",37:"moveLeft",39:"moveRight"}}configure(e){e=Object.assign({},this.defaults,e),this.navigationMap=e.navigationMap,this.navigationMapFunc=e.navigationMapFunc,this.defaultFocusElementFunc=e.defaultFocusElementFunc,this.defaultFocusElements=e.defaultFocusElements,this.restoreFocusInterval=e.restoreFocusInterval,this.focusedElementId&&(this.focusedElementId.value=null),this.started&&this.watchFocusedElement()}start(){go("NavigationService:start"),this.started||(this.started=!0,this.initKeyboardListener(),this.watchFocusedElement(),this.initBackwardHandler())}pause(){this.paused=!0}resume(){this.paused=!1}isPaused(){return this.paused}setActive(e){this.started&&(go("NavigationService:setActive: active="+e),this.active=e,e?setTimeout(()=>this.restoreFocus(),0):this._stopRestoreTimer())}restoreFocus(){if(!this.started)return;go("restoreFocus: active="+this.active);let e=!1,t=!0,n=this.defaultFocusElementFunc?this.defaultFocusElementFunc():this.defaultFocusElements;if(this.active)if(this.focusedElementId.value)e=!0,t=!1;else if(n.length>0){for(const t of n){const n=this.findById(t);if(n&&go(`restoreFocus: id=${n.id} canFocus=${n.canFocus()}`),n&&n.canFocus()){n.focus(),e=!0;break}}t=!e}else t=!1;else t=!1;return t?this._startRestoreTimer():this._stopRestoreTimer(),e}_startRestoreTimer(){this.restoreTimer&&clearTimeout(this.restoreTimer),this.restoreTimer=setTimeout(this.restoreFocus.bind(this),this.restoreFocusInterval)}_stopRestoreTimer(){this.restoreTimer&&(clearTimeout(this.restoreTimer),this.restoreTimer=null)}initBackwardHandler(){}createEmptyHistory(){window.history.pushState(null,null,window.location.pathname)}initKeyboardListener(){document.addEventListener("keydown",e=>{if(!this.active)return void go("keydown: not active");if(this.paused)return void go("keydown: paused");const t=this.getKeyCode(e);if(this.isEnter(t))e.preventDefault(),this.longPressTimer||(this.longPressDetected=!1,this.longPressTimer=setTimeout(()=>{this.performAction("longPress"),this.longPressDetected=!0},this.longPressDelay));else{const n=this.actions[t];n&&this.performAction(n)&&e.preventDefault()}}),document.addEventListener("keyup",e=>{if(this.paused)return;const t=this.getKeyCode(e);this.isEnter(t)&&(e.preventDefault(),this.longPressDetected?this.longPressDetected=!1:(console.log("nav: click on keyup"),this.performAction("click")),clearTimeout(this.longPressTimer),this.longPressTimer=null)})}getKeyCode(e){let t;return window.event?t=e.keyCode:e.which&&(t=e.which),t}isEnter(e){return 13==e||29443==e||117==e||65385==e}watchFocusedElement(){this.unwatchFocusedElement&&this.unwatchFocusedElement(),this.unwatchFocusedElement=Object(i["watch"])(this.focusedElementId,e=>{go("focusedElementId: "+e),null===e&&this.restoreFocus()},{immediate:!0})}registerElement(e){this.started&&(this.elements.push(e),e.id===this.focusedElementId.value&&(go("registerElement: focus: id="+e.id),e.focus()))}unregisterElement(e){if(!this.started)return;const t=this.elements.indexOf(e);if(t>-1){const e=this.elements.splice(t,1);e.length&&e[0].destroy()}}unregisterElementById(e){const t=this.findById(e);t&&this.unregisterElement(t)}setFocusedById(e){this.focusedElementId.value=e;const t=this.findById(e);t?(go("setFocusedById: found: id="+e),t.focus()):go("setFocusedById: not found: id="+e)}onFocused(e){this.focusedElementId.value=e}updateState(){go("updateState");let e=!1;for(let t of this.elements)if(t.focused){this.focusedElementId.value=t.id,e=!0;break}e||(this.focusedElementId.value=null)}findById(e){for(let t of this.elements)if(t.id===e)return t;return null}findFocusedElement(){for(let e of this.elements)if(e.focused)return e;return null}performAction(e){go("nav:performAction: action="+e);const t=this.findFocusedElement();return t?(t[e](),!0):!!this.restoreFocus()}blurAll(){this.focusedElementId.value=null;for(let e of this.elements)e.focused&&e.blur()}}class yo{constructor(e,t,n,i){if(Object(vo["a"])(this,"defaults",{enabled:!0,refocusInterval:0}),i=Object.assign({},this.defaults,i),this.focused=!1,this.destroyed=!1,this.navigationService=e,this.el=t,this.id=i.id,this.vnode=n,this.enabled=i.enabled,this.options=i,this.isDefault=""===t.dataset.focusDefault||"true"===t.dataset.focusDefault,this.next={up:t.dataset.focusUp,down:t.dataset.focusDown,left:t.dataset.focusLeft,right:t.dataset.focusRight},i.onclick&&(this.onclick=i.onclick),i.onLongPress&&(this.onLongPress=i.onLongPress),this.nextFunc=i.nextFunc,i.focusElementSelector){if(this.el=t.querySelector(i.focusElementSelector),!this.el)throw new Error(`focus element not found: id=${this.id} selector=${i.focusElementSelector}`)}else this.el=t}destroy(){this.blur(),this.destroyed=!0,this.el=null,this.onclick=null}setEnabled(e){this.enabled=e,this.enabled||this.blur()}canFocus(){return!this.destroyed&&this.enabled&&!this.el.disabled}focus(){this.destroyed||(go(`focus: id=${this.id} focused=${this.focused}`),this.focused||(this.navigationService.blurAll(),this.navigationService.onFocused(this.id),this.focused=!0,this.el.classList.add("focus"),setTimeout(()=>{var e;return null===(e=this.el)||void 0===e?void 0:e.focus()},0),this.options.refocusInterval>0&&setTimeout(()=>{document.activeElement!==this.el&&(go("refocus: id="+this.id),this.el.focus())},this.options.refocusInterval)))}blur(){go(`blur: id=${this.id} focused=${this.focused}`),this.destroyed||this.focused&&(this.focused=!1,this.el.blur(),this.el.classList.remove("focus"),this.navigationService.updateState())}click(){if(this.destroyed)return;go("click: "+this.id);const e=new Event("click");this.el.dispatchEvent(e),this.onclick&&this.onclick.call(null)}longPress(){this.destroyed||(go("long-press: "+this.id),console.log("nav:long-press: "+this.id),this.onLongPress&&this.onLongPress.call(null))}getNextElement(e,t){var n;const i=this.navigationService.navigationMap;let a,o,s,r=null===(n=i[e])||void 0===n?void 0:n[t];if(r instanceof Object?(a=r.id,o=r.direction||t,s=r.action):(a=r,o=t),s){if(a=s.call(null),!a)return null;o=t}if(a){const e=this.navigationService.findById(a);return e&&e.canFocus()?e:this.getNextElement(a,o)}}move(e){var t;let n;if(this.nextFunc){const t=this.nextFunc(e);n=this.navigationService.findById(t)}else if(this.next[e]){const t=this.next[e];n=this.navigationService.findById(t)}else n=this.getNextElement(this.id,e);go(`move:${e}: id=${this.id} target=${n} canFocus=${null===(t=n)||void 0===t?void 0:t.canFocus()}`),n&&n.canFocus()?(go(`move:${e}: ${this.id} -> ${n.id}`),n.focus()):go(`move:${e}: skip for ${this.id}`)}moveDown(){this.move("down")}moveUp(){this.move("up")}moveLeft(){this.move("left")}moveRight(){this.move("right")}}var wo=ho;const Co=["app-update-install","app-update-dismiss","menu-item-0","menu-item-1","menu-item-2","menu-item-3"],ko={"app-update-install":{left:"app-update-dismiss"},"app-update-dismiss":{right:"app-update-install"}};function xo(){_o.configure({defaultFocusElements:["app-bar-livetv","open-live-tv",...Co],navigationMap:{...ko,"app-bar-livetv":{right:"app-bar-premium",down:"open-live-tv"},"open-live-tv":{up:"app-bar-livetv"}}})}var jo={__name:"LiveTvScreen",setup(e){const t=N();async function n(){await c.startLiveTv()}return Object(i["onMounted"])(()=>{xo()}),{__sfc:!0,mainStore:t,openLiveTv:n,TheButton:Za}}},So=jo,Io=(n("cdc4"),Object(ne["a"])(So,po,mo,!1,null,"0c7fcf0a",null)),Oo=Io.exports,Po=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fill-height pa-4",on:{click:function(t){return e.hideHints()}}},[t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",attrs:{type:"text",placeholder:"Enter a link or content ID"},domProps:{value:e.input},on:{keydown:e.onKeyDown,input:function(t){t.target.composing||(e.input=t.target.value)}}}),t("div",{staticClass:"right-actions"},[e.loading?t(de["a"],{attrs:{indeterminate:"",size:"24",width:"1"}}):t(he["a"],{attrs:{icon:""},on:{click:e.handleInput}},[t(Ot["a"],[e._v(" mdi-send ")])],1)],1)]),e.showHint?t("div",{staticClass:"as-typeit typeit-hint",staticStyle:{height:"270px"},domProps:{innerHTML:e._s(e.$t("onboarding.universal_input_2"))},on:{click:function(t){e.showHint=!1}}}):e._e(),t(Ze["a"],{attrs:{bottom:"",timeout:"5000"},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t(he["a"],e._b({attrs:{text:""},on:{click:function(t){return e.resetError()}}},"v-btn",n,!1),[e._v(" "+e._s(e.$t("close"))+" ")])]}}]),model:{value:e.error.visible,callback:function(t){e.$set(e.error,"visible",t)},expression:"error.visible"}},[e._v(" "+e._s(e.error.message)+" ")]),e.mainStore.showTestLinks?t("div",{staticClass:"test-links"},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("sintel_mp4_1")}}},[e._v("sintel mp4 1")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("sintel_mp4_2")}}},[e._v("sintel mp4 2")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_long_vod")}}},[e._v("youtube_long_vod")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_short_vod")}}},[e._v("youtube_short_vod")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_audio")}}},[e._v("youtube_audio")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_live")}}},[e._v("youtube_live")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_protected")}}},[e._v("youtube_protected")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("youtube_sober")}}},[e._v("youtube_sober")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("twitch_live_1")}}},[e._v("twitch_live_1")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("twitch_live_2")}}},[e._v("twitch_live_2")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("twitch_live_3")}}},[e._v("twitch_live_3")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("vimeo_1")}}},[e._v("vimeo_1")]),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.testInput("dailymotion_1")}}},[e._v("dailymotion_1")])]):e._e()],1)},$o=[],Eo={data(){return{input:"",loading:!1,showHint:!1,error:{visible:!1,message:null}}},computed:{mainStore:()=>N(),prefsStore:()=>O()},methods:{hideHints(){this.showHint=!1},disableOnboarding(){this.prefsStore.setOnboardingInputPanel(!1)},waitEngine(){const e=N();return new Promise(t=>{e.engineReady?t():Object(i["watch"])(()=>e.engineReady,()=>{e.engineReady&&t()})})},focusInput(){this.$refs.input.focus()},onKeyDown(e){13==e.keyCode&&this.handleInput()},resetError(){this.setError(null)},setError(e){"Error: youtube_plugin_disabled"==e&&(e=this.$t("youtube_disabled")),this.error.message=e,this.error.visible=!!e},async handleInput(){try{this.loading=!0,await this.waitEngine(),await this.analyzeAndPlay(this.input),this.loading=!1}catch(e){this.loading=!1,this.setError(e)}},async analyzeAndPlay(e){try{await c.play({uri:e,streamIndex:-1}),this.close()}catch(t){console.log("play error",t),this.setError(t)}},close(){this.$router.go(-1)},testInput(e){switch(e){case"infohash":this.input="acestream:?infohash=3a43c9534e29fe4bced0b6b52d84208e8731a1c6";break;case"content_id":this.input="acestream:?content_id=21fcd8e73936b64435d07832c2d8382609f48d6d";break;case"content_id_deprecated":this.input="acestream://21fcd8e73936b64435d07832c2d8382609f48d6d";break;case"sintel_torrent":this.input="https://download.acestream.media/sintel/sintel.torrent";break;case"sintel_mp4_1":this.input="https://download.acestream.media/sintel/sintel-1024-surround.mp4";break;case"sintel_mp4_2":this.input="https://commondatastorage.googleapis.com/gtv-videos-bucket/CastVideos/mp4/Sintel.mp4";break;case"playlist_vod":this.input="https://acestream.org/test/playlists/vod.m3u";break;case"playlist_redirect":this.input="http://acestream.org/test/playlists/vod.m3u";break;case"infinite_recurse":this.input="https://acestream.org/test/playlists/infinite_recursive_playlist.m3u8";break;case"playlist_p2p":this.input="https://acestream.org/test/playlists/test_content_playlist_5.m3u8";break;case"youtube_long_vod":this.input="https://www.youtube.com/watch?v=MnLjYJyrNc0";break;case"youtube_sober":this.input="https://www.youtube.com/watch?v=nspxAG12Cpc";break;case"youtube_short_vod":this.input="https://www.youtube.com/watch?v=_UjTPjCO4SA";break;case"youtube_audio":this.input="https://www.youtube.com/watch?v=nnevVBbPSao";break;case"youtube_live":this.input="https://www.youtube.com/watch?v=w9uJg68CV4g&ab_channel=SkyNews";break;case"youtube_protected":this.input="https://www.youtube.com/watch?v=Nxl4tY7uNNI";break;case"twitch_live_1":this.input="https://www.twitch.tv/gamesdonequick";break;case"twitch_live_2":this.input="https://www.twitch.tv/esl_csgo";break;case"twitch_live_3":this.input="https://www.twitch.tv/wudijo";break;case"vimeo_1":this.input="https://vimeo.com/76979871";break;case"dailymotion_1":this.input="https://www.dailymotion.com/video/x9njgk4";break}}},mounted(){this.focusInput(),this.prefsStore.onboarding.inputPanel&&(this.showHint=!0,this.disableOnboarding())}},To=Eo,No=(n("1ca5"),Object(ne["a"])(To,Po,$o,!1,null,"36763250",null)),Ao=No.exports,Bo=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"as-page"},[t("div",{staticStyle:{"margin-bottom":"24px","text-align":"center"}},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" cast_warning ")])]),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("external_player_notification.text_1"))+" ")]),t("div",{staticClass:"as-block"},[t(n.MainButton,{staticClass:"as-button",attrs:{white:""},on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("external_player_notification.activate_premium"))+" ")])],1),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("external_player_notification.text_2"))+" ")]),t("div",{staticClass:"as-block"},[t(n.MainButton,{staticClass:"as-button",on:{click:function(e){return n.startPlayback()}}},[e._v(" "+e._s(e.$t("external_player_notification.test_feature"))+" ")])],1)])},Fo=[],Mo={__name:"ExternalPlayer",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){c.stopEngineSession();const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}function o(){try{var e,i;const a=null===(e=n.lastIntent)||void 0===e||null===(i=e.extras)||void 0===i?void 0:i.extra;if(!a)throw new Error("failed to start playback");c.restorePlayback({sessionId:a.sessionId,uri:a.uri,player:a.player,playbackUrl:a.playbackUrl,mime:a.mime}),t.replace({name:n.mainRouteName})}catch(a){n.showError("Error: "+a.message)}}return Object(i["onMounted"])(()=>{c.keepEngineSession({value:!0})}),Object(i["onUnmounted"])(()=>{c.keepEngineSession({value:!1})}),{__sfc:!0,$router:t,mainStore:n,goPremium:a,startPlayback:o,MainButton:ae}}},Do=Mo,Uo=(n("e840"),Object(ne["a"])(Do,Bo,Fo,!1,null,"11897bf4",null)),zo=Uo.exports,Ro=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column align-center justify-center"},[e._m(0),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("external_player_notification.text_1"))+" ")]),t("div",{staticClass:"as-block"},[t(n.TheButton,{staticClass:"selector",attrs:{text:"",id:"button-go-premium"},on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("external_player_notification.activate_premium"))+" ")])],1),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("external_player_notification.text_2"))+" ")]),t("div",{staticClass:"as-block"},[t(n.TheButton,{staticClass:"selector",attrs:{text:"",id:"button-test-feature"},on:{click:function(e){return n.startPlayback()}}},[e._v(" "+e._s(e.$t("external_player_notification.test_feature"))+" ")])],1)])},Lo=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{"margin-bottom":"24px","text-align":"center"}},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" cast_warning ")])])}],Vo={__name:"ExternalPlayerTv",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a="external-player-tv";function o(){gi.setHandler(a,{down:e=>{var t;"button-go-premium"===(null===(t=e.target)||void 0===t?void 0:t.id)?Navigator.focus(document.getElementById("button-test-feature")):Navigator.move("down")},up:e=>{var t;"button-test-feature"===(null===(t=e.target)||void 0===t?void 0:t.id)?Navigator.focus(document.getElementById("button-go-premium")):Navigator.move("up")},enter:e=>{var t,n;"button-go-premium"===(null===(t=e.target)||void 0===t?void 0:t.id)?r():"button-test-feature"===(null===(n=e.target)||void 0===n?void 0:n.id)&&l()}})}function s(){gi.removeHandler(a)}function r(){c.stopEngineSession();const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}function l(){try{var e,i;const a=null===(e=n.lastIntent)||void 0===e||null===(i=e.extras)||void 0===i?void 0:i.extra;if(!a)throw new Error("failed to start playback");c.restorePlayback({sessionId:a.sessionId,uri:a.uri,player:a.player,playbackUrl:a.playbackUrl,mime:a.mime}),t.replace({name:n.mainRouteName})}catch(a){n.showError("Error: "+a.message)}}return Object(i["onMounted"])(()=>{c.keepEngineSession({value:!0}),gi.setupNavigation({pageId:a}),o()}),Object(i["onBeforeUnmount"])(()=>{c.keepEngineSession({value:!1}),s()}),{__sfc:!0,$router:t,mainStore:n,PAGE_ID:a,bindEvents:o,unbindEvents:s,goPremium:r,startPlayback:l,TheButton:Za}}},Ho=Vo,qo=(n("05f1"),Object(ne["a"])(Ho,Ro,Lo,!1,null,"21801da6",null)),Wo=qo.exports,Go=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"as-page"},[t("div",{staticStyle:{"margin-bottom":"24px","text-align":"center"}},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" cast_warning ")])]),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("select_external_player_notification.text_1"))+" ")]),t("div",{staticClass:"as-block as-button-container"},[t(n.MainButton,{staticClass:"as-button",attrs:{white:""},on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("external_player_notification.activate_premium"))+" ")])],1)])},Jo=[],Yo={__name:"SelectExternalPlayer",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}function o(){t.replace({name:n.mainRouteName}),c.showPreferencesClicked({type:"player"})}return Object(i["onMounted"])(()=>{n.navBackHook=()=>o(),n.currentInteractive={cancel(){o()}}}),Object(i["onUnmounted"])(()=>{n.navBackHook=null,n.currentInteractive=null}),{__sfc:!0,$router:t,mainStore:n,goPremium:a,openPlayerPreferences:o,MainButton:ae}}},Zo=Yo,Ko=(n("ab0b"),Object(ne["a"])(Zo,Go,Jo,!1,null,"c1c632ba",null)),Qo=Ko.exports,Xo=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"as-page"},[t("div",{staticStyle:{"margin-bottom":"24px","text-align":"center"}},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" cast_warning ")])]),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("playlist_notification.text_1"))+" ")]),t("div",{staticClass:"as-block as-button-container"},[t(n.MainButton,{staticClass:"as-button",attrs:{white:""},on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("external_player_notification.activate_premium"))+" ")])],1)])},es=[],ts={__name:"PlaylistNotification",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}return{__sfc:!0,$router:t,mainStore:n,goPremium:a,MainButton:ae}}},ns=ts,is=(n("7a19"),Object(ne["a"])(ns,Xo,es,!1,null,"8d0192d2",null)),as=is.exports,os=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column align-center justify-center"},[e._m(0),t("div",{staticClass:"as-block"},[e._v(" "+e._s(e.$t("playlist_notification.text_1"))+" ")]),t("div",{staticClass:"as-block as-button-container"},[t(n.TheButton,{staticClass:"selector",attrs:{text:"",id:"button-go-premium"},on:{click:function(e){return n.goPremium()}}},[e._v(" "+e._s(e.$t("external_player_notification.activate_premium"))+" ")])],1)])},ss=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{"margin-bottom":"24px","text-align":"center"}},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" cast_warning ")])])}],rs={__name:"PlaylistNotificationTv",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a="playlist-notification-tv";function o(){gi.setHandler(a,{enter:e=>{var t;"button-go-premium"===(null===(t=e.target)||void 0===t?void 0:t.id)&&r()}})}function s(){gi.removeHandler(a)}function r(){const e=n.isTv?"premium-tv":"premium-welcome";t.replace({name:e})}return Object(i["onMounted"])(()=>{gi.setupNavigation({pageId:a}),o()}),Object(i["onBeforeUnmount"])(()=>{s()}),{__sfc:!0,$router:t,mainStore:n,PAGE_ID:a,bindEvents:o,unbindEvents:s,goPremium:r,TheButton:Za}}},cs=rs,ls=(n("bf7c"),Object(ne["a"])(cs,os,ss,!1,null,"434cbd74",null)),us=ls.exports,ds=function(){var e,t,n=this,i=n._self._c,a=n._self._setupProxy;return i("div",{staticClass:"as-page"},[i("div",{staticClass:"as-title"},[n._v(" "+n._s(n.$t(a.deviceDetected?"acecast_troubleshooting.problem_solved.title":"acecast_troubleshooting.step_4.title"))+" ")]),i("div",{staticClass:"page-container"},[i("div",{staticClass:"overlapping-container device-connected-container",class:{"as-visible":a.deviceDetected}},[n._m(0),i("div",{staticClass:"as-description"},[i("div",{staticClass:"d-flex align-center justify-center"},[i("span",{staticClass:"as-icon material-symbols-outlined"},[n._v(" check ")]),i("span",[n._v(" "+n._s(n.$t("acecast_troubleshooting.problem_solved.list_item_1",{deviceName:null===(e=a.mainStore.availableAceCastDevice)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.replace(" (AceCast)","")}))+" ")])]),i("div",{staticClass:"d-flex align-center justify-center"},[i("span",{staticClass:"as-icon material-symbols-outlined"},[n._v(" check ")]),i("span",[n._v(" "+n._s(n.$t("acecast_troubleshooting.problem_solved.list_item_2"))+" ")])])])]),i("div",{staticClass:"overlapping-container connect-container",class:{"as-visible":!a.deviceDetected}},[i("div",{staticClass:"code-input-container"},[i(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",type:"number",label:n.$t("acecast_troubleshooting.step_4.enter_code"),disabled:a.connecting,loading:a.connecting},on:{keydown:a.onKeydown},model:{value:a.pinCode,callback:function(e){a.pinCode=e},expression:"pinCode"}})],1),i("div",{staticClass:"as-subtitle"},[n._v(" "+n._s(n.$t("acecast_troubleshooting.step_4.subtitle"))+": ")]),i("div",{staticClass:"instructions"},[i("ul",[i("ol",[i("li",[n._v(" "+n._s(n.$t("acecast_troubleshooting.step_4.list_item_1"))+" ")]),i("li",[n._v(" "+n._s(n.$t("acecast_troubleshooting.step_4.list_item_2"))+" ")]),i("li",[n._v(" "+n._s(n.$t("acecast_troubleshooting.step_4.list_item_3"))+" ")]),i("li",[n._v(" "+n._s(n.$t("acecast_troubleshooting.step_4.list_item_4"))+" ")])])])])])]),i("div",{staticClass:"actions-container d-flex justify-center"},[a.deviceDetected?i(a.MainButton,{attrs:{white:""},on:{click:function(e){return a.doPlay()}}},[n._v(" Play ")]):i(a.MainButton,{attrs:{white:"",disabled:a.connecting},on:{click:function(e){return a.connectDevice()}}},[n._v(" "+n._s(n.$t("acecast_troubleshooting.connect"))+" ")])],1)])},ps=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-success-icon-container"},[t("span",{staticClass:"as-success-icon material-symbols-outlined"},[e._v(" task_alt ")])])}];const ms=1;async function vs(e,t,n){try{var i;if(console.log("continuePlayback: intent="+JSON.stringify(e.lastIntent)),null!==(i=e.lastIntent)&&void 0!==i&&i.data){const i={id1:e.availableAceCastDevice.id,type:2,name:e.availableAceCastDevice.name};await t.play({uri:e.lastIntent.data,streamIndex:-1,player:JSON.stringify(i)}),n.replace({name:e.mainRouteName})}}catch(a){console.error("Failed to continue playback: "+a)}}async function fs(e,t,n){n.replace({name:e.mainRouteName});try{var i;null!==(i=e.lastIntent)&&void 0!==i&&i.data&&await t.play({uri:e.lastIntent.data,streamIndex:-1,flags:ms})}catch(a){console.error("Failed to play on back: "+a)}}var _s={__name:"AceCastManualConnect",setup(e){let t=null;const n=Object(i["getCurrentInstance"])().proxy.$i18n,a=Object(i["getCurrentInstance"])().proxy.$root.$router,o=N(),s=Object(i["ref"])(""),r=Object(i["ref"])(!1),l=Object(i["ref"])(0),u=Object(i["ref"])(!1);async function d(){try{if(!s.value)throw new Error(n.t("acecast_troubleshooting.empty_pin_code"));const e=await zn(s.value);console.log(`got device info: host=${e.host} port=${e.port} name=${e.name}`),l.value=e.port,p(),u.value||(r.value=!0,t=setTimeout(()=>{r.value=!1,o.showError(n.t("acecast_troubleshooting.failed_to_connect"))},5e3),await c.addAceCastDevice({host:e.host,port:e.port,name:e.name}))}catch(i){var e;console.log(i),o.showError((null===(e=i.response)||void 0===e?void 0:e.data)||i.message)}}function p(){console.log("checkConnection: watchPort="+l.value);for(const e of o.allAvailableAceCastDevices)console.log("device: port="+e.port),e.port==l.value&&(u.value=!0,t&&(clearTimeout(t),t=null))}function m(e){"Enter"===e.key&&d()}function v(){vs(o,c,a)}return Object(i["onMounted"])(()=>{o.currentInteractive={cancel(){fs(o,c,a)}},o.navBackHook=()=>fs(o,c,a)}),Object(i["onUnmounted"])(()=>{o.currentInteractive=null,o.navBackHook=null,t&&(clearTimeout(t),t=null)}),Object(i["watch"])(()=>o.allAvailableAceCastDevices,e=>{console.log("watch: devices="+JSON.stringify(e)),p()},{immediate:!0}),{__sfc:!0,connectingTimer:t,$i18n:n,$router:a,mainStore:o,pinCode:s,connecting:r,watchPort:l,deviceDetected:u,connectDevice:d,checkConnection:p,onKeydown:m,doPlay:v,MainButton:ae}}},gs=_s,hs=(n("ee2c"),Object(ne["a"])(gs,ds,ps,!1,null,"6fef6fd1",null)),bs=hs.exports,ys=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page"},[t("div",{staticClass:"as-floating-close",on:{click:function(e){return n.goBack()}}},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" close ")])]),t("div",{staticClass:"as-top-container"},[t("div",{staticClass:"as-page-title as-pb-4"},[e._v("Ace Cast")]),t("div",{staticClass:"as-subtitle-1 as-pb-4"},[e._v(" "+e._s(e.$t("about_acecast.text_1"))+" ")]),t("div",{staticClass:"as-pb-4"},[e._v(" "+e._s(e.$t("about_acecast.text_2"))+" ")]),t("div",{staticClass:"as-subtitle-2 as-pb-4"},[e._v(" "+e._s(e.$t("about_acecast.text_3"))+" ")])]),t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title as-pb-4"},[e._v(" "+e._s(n.optionName)+" ")]),t("div",{ref:"optionDescriptionContainer",staticClass:"as-description"},[e._v(" "+e._s(n.optionDescription)+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"as-pb-4"},[e._v(e._s(e.$t("about_acecast.text_4"))+":")]),t("div",{staticClass:"as-options-container as-pb-8"},e._l(n.options,(function(i){return t("div",{key:i.id,staticClass:"as-option",class:{"as-selected":i.id==n.selectedOption},on:{click:function(e){return n.selectOption(i.id)}}},[e._v(" "+e._s(i.name)+" ")])})),0)]),t("div",{staticClass:"as-vertical-fill"})])},ws=[],Cs={__name:"AceCastAbout",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=[{id:"option_1",name:"1"},{id:"option_2",name:"2"},{id:"option_3",name:"3"},{id:"option_4",name:"4"},{id:"option_5",name:"5"}],s=Object(i["ref"])("option_1"),r=Object(i["ref"])(!1),l=Object(i["computed"])(()=>n.t(`about_acecast.options.${s.value}.title`)),u=Object(i["computed"])(()=>n.t(`about_acecast.options.${s.value}.description`));async function d(){t.replace({name:a.mainRouteName});try{var e;null!==(e=a.lastIntent)&&void 0!==e&&e.data&&await c.play({uri:a.lastIntent.data,streamIndex:-1,flags:ms})}catch(n){console.error("Failed to play on back: "+n)}}function p(e){s.value=e}return Object(i["onMounted"])(()=>{a.currentInteractive={cancel(){d()}},a.navBackHook=()=>d()}),Object(i["onUnmounted"])(()=>{a.currentInteractive=null,a.navBackHook=null}),{__sfc:!0,$router:t,$i18n:n,mainStore:a,options:o,selectedOption:s,optionDescriptionContainer:r,optionName:l,optionDescription:u,goBack:d,selectOption:p}}},ks=Cs,xs=(n("b1a0"),Object(ne["a"])(ks,ys,ws,!1,null,"63fd412a",null)),js=xs.exports,Ss=n("8e36"),Is=function(){var e,t,n=this,i=n._self._c,a=n._self._setupProxy;return i("div",{staticClass:"as-page as-page-acecast-troubleshooting"},[i("div",{staticClass:"as-top-container"},[a.mainStore.availableAceCastDevice?[n._m(0)]:[n._v(" "+n._s(n.$t("acecast_troubleshooting.message_error"))+" ")]],2),a.mainStore.availableAceCastDevice?[i("div",{staticClass:"as-description-container"},[i("div",{staticClass:"as-title"},[n._v(" "+n._s(n.$t("acecast_troubleshooting.problem_solved.title"))+" ")]),i("div",{staticClass:"as-description"},[i("div",{staticClass:"d-flex align-center"},[i("span",{staticClass:"as-icon material-symbols-outlined"},[n._v(" check ")]),i("span",[n._v(" "+n._s(n.$t("acecast_troubleshooting.problem_solved.list_item_1",{deviceName:null===(e=a.mainStore.availableAceCastDevice)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.replace(" (AceCast)","")}))+" ")])]),i("div",{staticClass:"d-flex align-center"},[i("span",{staticClass:"as-icon material-symbols-outlined"},[n._v(" check ")]),i("span",[n._v(" "+n._s(n.$t("acecast_troubleshooting.problem_solved.list_item_2"))+" ")])])])]),i("div",{staticClass:"as-bottom-container"},[i("div",{staticClass:"wizard-actions-container"},[i("div",{staticClass:"as-full-screen next-button"},[i(a.MainButton,{attrs:{white:""},on:{click:function(e){return a.doPlay()}}},[n._v(" Play ")])],1)])])]:i("router-view"),i("div",{staticClass:"as-vertical-fill"},[a.mainStore.availableAceCastDevice?n._e():i("div",{staticClass:"progress-container"},[i("div",{staticClass:"pb-2"},[n._v(" "+n._s(n.$t("acecast_troubleshooting.searching_devices"))+" ")]),i("div",[i(Ss["a"],{attrs:{indeterminate:"",height:"1"}})],1)])])],2)},Os=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-success-icon-container"},[t("span",{staticClass:"as-success-icon material-symbols-outlined"},[e._v(" task_alt ")])])}],Ps={__name:"AceCastTroubleshooting",setup(e){let t=null;const n=Object(i["getCurrentInstance"])().proxy.$root.$router,a=N();function o(){vs(a,c,n)}return Object(i["onMounted"])(()=>{a.navBackHook=()=>fs(a,c,n),t=setInterval(()=>{c.discoverDevices()},3e4)}),Object(i["onUnmounted"])(()=>{a.navBackHook=null,t&&(clearInterval(t),t=null)}),{__sfc:!0,discoveryTimer:t,$router:n,mainStore:a,doPlay:o,MainButton:ae}}},$s=Ps,Es=(n("ef04"),n("85c4"),Object(ne["a"])($s,Is,Os,!1,null,"41e8faa0",null)),Ts=Es.exports,Ns=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-description-container d-flex align-center justify-center"},[t(n.MainButton,{on:{click:function(e){return n.$router.push({name:"acecast-troubleshooting-step2"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_1.start_check"))+" ")])],1)},As=[],Bs={__name:"WizardStep1",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();return Object(i["onMounted"])(()=>{n.currentInteractive={cancel(){fs(n,c,t)}}}),Object(i["onUnmounted"])(()=>{n.currentInteractive=null}),{__sfc:!0,$router:t,mainStore:n,MainButton:ae}}},Fs=Bs,Ms=Object(ne["a"])(Fs,Ns,As,!1,null,"cd11d18e",null),Ds=Ms.exports,Us=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_2.title"))+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_2.main_text"))+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{on:{click:function(t){return e.$router.push({name:"acecast-troubleshooting-step3"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("acecast_troubleshooting.step_3.title"))+" ")])])])])},zs=[],Rs={__name:"WizardStep2",setup(e){return{__sfc:!0,MainButton:ae}}},Ls=Rs,Vs=Object(ne["a"])(Ls,Us,zs,!1,null,"6cf3bbe0",null),Hs=Vs.exports,qs=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_3.title"))+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_3.main_text"))+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{on:{click:function(t){return e.$router.push({name:"acecast-troubleshooting-step4"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("acecast_troubleshooting.step_4.title"))+" ")])])])])},Ws=[],Gs={__name:"WizardStep3",setup(e){return{__sfc:!0,MainButton:ae}}},Js=Gs,Ys=Object(ne["a"])(Js,qs,Ws,!1,null,"9ca4213e",null),Zs=Ys.exports,Ks=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.title"))+" ")]),t("div",{staticClass:"code-input-container"},[t(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",type:"number",label:e.$t("acecast_troubleshooting.step_4.enter_code"),disabled:n.connecting,loading:n.connecting},on:{keydown:n.onKeydown},model:{value:n.pinCode,callback:function(e){n.pinCode=e},expression:"pinCode"}})],1),t("div",{staticClass:"as-subtitle"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.subtitle"))+" ")]),t("ul",[t("ol",[t("li",[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.list_item_1"))+" ")]),t("li",[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.list_item_2"))+" ")]),t("li",[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.list_item_3"))+" ")]),t("li",[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_4.list_item_4"))+" ")])])])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",disabled:n.connecting},on:{click:function(e){return n.connectDevice()}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.connect"))+" ")])],1),t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{on:{click:function(t){return e.$router.push({name:"acecast-troubleshooting-step5"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.next"))+" ")])],1)])])])},Qs=[],Xs={__name:"WizardStep4",setup(e){let t=null;const n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=Object(i["ref"])(""),s=Object(i["ref"])(!1);async function r(){try{if(!o.value)throw new Error(n.t("acecast_troubleshooting.empty_pin_code"));const e=await zn(o.value);console.log(`got device info: host=${e.host} port=${e.port} name=${e.name}`),s.value=!0,t=setTimeout(()=>{s.value=!1,a.showError(n.t("acecast_troubleshooting.failed_to_connect"))},5e3),await c.addAceCastDevice({host:e.host,port:e.port,name:e.name})}catch(i){var e;console.log(i),a.showError((null===(e=i.response)||void 0===e?void 0:e.data)||i.message)}}function l(e){"Enter"===e.key&&r()}return Object(i["onUnmounted"])(()=>{t&&(clearTimeout(t),t=null)}),{__sfc:!0,connectingTimer:t,$i18n:n,mainStore:a,pinCode:o,connecting:s,connectDevice:r,onKeydown:l,MainButton:ae}}},er=Xs,tr=(n("26dd"),Object(ne["a"])(er,Ks,Qs,!1,null,"03e3e160",null)),nr=tr.exports,ir=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_5.title"))+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_5.main_text"))+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{on:{click:function(t){return e.$router.push({name:"acecast-troubleshooting-step6"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("acecast_troubleshooting.step_6.title"))+" ")])])])])},ar=[],or={__name:"WizardStep5",setup(e){return{__sfc:!0,MainButton:ae}}},sr=or,rr=Object(ne["a"])(sr,ir,ar,!1,null,"3b225663",null),cr=rr.exports,lr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_6.title"))+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_6.main_text"))+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{on:{click:function(t){return e.$router.push({name:"acecast-troubleshooting-step7"})}}},[e._v(" "+e._s(e.$t("acecast_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("acecast_troubleshooting.step_7.title"))+" ")])])])])},ur=[],dr={__name:"WizardStep6",setup(e){return{__sfc:!0,MainButton:ae}}},pr=dr,mr=Object(ne["a"])(pr,lr,ur,!1,null,"7fdc89e4",null),vr=mr.exports,fr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-description-container"},[t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_7.title"))+" ")]),t("div",{staticClass:"as-description"},[e._v(" "+e._s(e.$t("acecast_troubleshooting.step_7.main_text"))+" ")])]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-full-screen next-button"},[t(n.MainButton,{on:{click:function(e){return n.closeWizard()}}},[e._v(" OK ")])],1)])])])},_r=[],gr={__name:"WizardStep7",setup(e){const t=N();function n(){t.navBackHook&&t.navBackHook()}return{__sfc:!0,mainStore:t,closeWizard:n,MainButton:ae}}},hr=gr,br=Object(ne["a"])(hr,fr,_r,!1,null,"126d6829",null),yr=br.exports,wr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page as-page-engine-activation"},[n.loading?[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_welcome.engine_downloading"))+" ")])]),t("div",{staticClass:"as-center-container d-flex flex-column"},[e._v(" "+e._s(e.$t("activation_welcome.permissions_hint"))+" "),e._m(1)]),t("div",{staticClass:"as-vertical-fill d-flex align-center justify-center"},[n.loading?t(de["a"],{attrs:{size:"48",width:"2",indeterminate:n.waitingForState||100==n.updateProgress,value:n.updateProgress}},[100!=n.updateProgress?t("span",[e._v(" "+e._s(n.updateProgress)+" ")]):e._e()]):e._e()],1)]:[t("div",{staticClass:"as-top-container"},[e._m(2),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.select_server_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[t("div",[e._v(e._s(e.$t("remote_engine.current_server"))+":")]),t("div",{staticClass:"pt-1"},[e._v(e._s(n.selectedEngineName))])]),t("div",{staticClass:"as-bottom-container"},[n.isLocalEngineSelected?e._e():t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button mb-5",on:{click:n.useLocalServer}},[e._v(" "+e._s(e.$t("remote_engine.use_local_engine"))+" ")]),e._l(n.filteredRemoteEngineList,(function(i,a){return t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],key:a,staticClass:"selector-button mb-5",on:{click:function(e){return n.useRemoteServer(i)}}},[e._v(" "+e._s(i.host)+":"+e._s(i.port)+" ")])})),t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button mb-6",on:{click:n.connectRemote}},[e._v(" "+e._s(e.$t("remote_engine.use_remote_engine"))+" ")])],2),t("div",{staticClass:"as-vertical-fill"})]],2)},Cr=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" system_update_alt ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-image flex-grow d-flex flex-column align-center justify-end"},[t("img",{attrs:{src:n("b573")}})])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("img",{attrs:{src:n("fd85"),height:"96"}})])}],kr={__name:"SelectServer",props:{autoInstall:{type:Boolean,default:!1}},setup(e){const t=e,n=Object(i["getCurrentInstance"])().proxy.$root.$router,a=Object(i["getCurrentInstance"])().proxy.$i18n,o=N(),s=Object(i["ref"])(!1),r=Object(i["ref"])(!1),l=Object(i["computed"])(()=>"IN_QUEUE"===u.value||"ACTIVE"===u.value||"STANDBY"===u.value&&s.value||m.value&&r.value),u=Object(i["computed"])(()=>{var e;return null===(e=o.pendingAppUpdate)||void 0===e?void 0:e.status}),d=Object(i["computed"])(()=>{var e;return null===(e=o.pendingAppUpdate)||void 0===e?void 0:e.progress}),p=Object(i["computed"])(()=>!!o.appUpdateError),m=Object(i["computed"])(()=>!u.value&&!p.value),v=Object(i["computed"])(()=>o.state.selectedEngineState),f=Object(i["computed"])(()=>v.value.useRemote?v.value.remoteState:null),_=Object(i["computed"])(()=>v.value.hasLocal&&!v.value.useRemote),g=Object(i["computed"])(()=>{var e,t;return v.value.useRemote?`${null===(e=v.value.remoteState)||void 0===e?void 0:e.host}:${null===(t=v.value.remoteState)||void 0===t?void 0:t.port}`:v.value.hasLocal?a.t("remote_engine.local_server_is_used"):"?"}),h=Object(i["computed"])(()=>{var e,t;return null!==(e=null===(t=o.state.remoteEngineList)||void 0===t?void 0:t.list)&&void 0!==e?e:[]}),b=Object(i["computed"])(()=>h.value.filter(e=>{var t,n;return!(e.host===(null===(t=f.value)||void 0===t?void 0:t.host)&&e.port===(null===(n=f.value)||void 0===n?void 0:n.port))}));function y(){n.push({name:"activation-connect-welcome"})}function w(e){n.push({name:"select-server-remote",params:{server:e}})}async function C(){try{o.isBaseApp?(await c.enableLocalEngine(),await k()):await c.enableLocalEngine()}catch(e){console.error("Failed to activate local server: "+e)}}async function k(){try{var e;if(m.value){console.log("install: wait for state"),r.value=!0;const e=Object(i["watch"])(m,e=>{console.log("install: state update: available="+e),e||(r.value=!1,t&&clearTimeout(t),k())},{immediate:!0}),t=setTimeout(()=>{e(),r.value=!1},3e4)}else if(p.value)n.push({name:"activation-install-error"});else{if(null===(e=o.pendingAppUpdate)||void 0===e||!e.canInstall)throw new Error("internal_error");100!=d.value&&(s.value=!0,await Object(i["nextTick"])()),await c.selfUpdateClicked(),s.value&&setTimeout(()=>s.value=!1,3500)}}catch(t){const e=t.toString();o.showError(e)}}return Object(i["onMounted"])(()=>{t.autoInstall&&k()}),{__sfc:!0,props:t,$router:n,$i18n:a,mainStore:o,waitingForDownload:s,installClicked:r,loading:l,updateStatus:u,updateProgress:d,gotError:p,waitingForState:m,selectedEngine:v,selectedRemoteEngine:f,isLocalEngineSelected:_,selectedEngineName:g,remoteEngineList:h,filteredRemoteEngineList:b,connectRemote:y,useRemoteServer:w,useLocalServer:C,install:k}}},xr=kr,jr=(n("466e"),Object(ne["a"])(xr,wr,Cr,!1,null,"1495de5c",null)),Sr=jr.exports,Ir=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(e._s(e.$t("remote_engine.select_server_title")))])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine.connect_to_server"))+" "+e._s(e.server.host)+":"+e._s(e.server.port)+"? ")]),t("div",{staticClass:"as-bottom-container d-flex flex-column align-center justify-center"},[t(n.MainButton,{staticClass:"mb-5",attrs:{disabled:n.connecting},on:{click:function(t){return n.connectServer(e.server)}}},[e._v(" "+e._s(e.$t("remote_engine.connect"))+" ")]),t(n.MainButton,{attrs:{disabled:n.connecting},on:{click:function(t){return n.forgetServer(e.server)}}},[e._v(" "+e._s(e.$t("remote_engine.forget_server"))+" ")]),t("div",{staticClass:"mt-4",staticStyle:{width:"50%"}},[n.connecting?t(Ss["a"],{attrs:{indeterminate:"",height:"2"}}):e._e()],1)],1),t("div",{staticClass:"as-vertical-fill"})])},Or=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("img",{attrs:{src:n("fd85"),height:"96"}})])}];function Pr(e){const t=/^(?:\d{1,3}\.){3}\d{1,3}:\d{1,5}$/;if(t.test(e)){const t=e.split(":"),n=t[0],i=parseInt(t[1]);return{host:n,port:i}}return null}async function $r(e,t){try{var n,i;const a=`http://${e}:${t}/webui/api/service`,o={method:"get_version"};console.log("getEngineVersion: url="+a);const s=await l["a"].get(a,{params:o});if(console.log("getEngineVersion: response="+JSON.stringify(s.data)),null!==(n=s.data)&&void 0!==n&&n.error)throw console.error("getEngineVersion: got error from remote engine: "+s.data.error),new Error("malformed_response");if(null===(i=s.data)||void 0===i||!i.result)throw console.error("getEngineVersion: missing response body"),new Error("malformed_response");if(!s.data.result.code)throw console.error("getEngineVersion: missing version in response"),new Error("malformed_response");const r=parseInt(s.data.result.code);if(isNaN(r))throw console.error("getEngineVersion: non-numeric version in response"),new Error("malformed_response");return r}catch(a){throw console.error("getEngineVersion:error: "+a),"AxiosError"===(null===a||void 0===a?void 0:a.name)?new Error("network_error"):"malformed_response"==a.message?new Error("port_error"):new Error("network_error")}}async function Er(e,t,n){try{var i;const a=`http://${e}:${t}/webui/api/service`,o={method:"check_access_token",access_token:n},s=await l["a"].get(a,{params:o});if(null===(i=s.data)||void 0===i||!i.result)throw new Error("bad_token")}catch(a){throw console.log("checkAccessToken:error: "+a),"bad_token"==a.message?a:new Error("network_error")}}var Tr={__name:"SelectServerRemote",props:["server"],setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a=Object(i["ref"])(!1);async function o(e){try{a.value=!0;const i=await $r(e.host,e.port);if(console.log("got version: "+i),i<n.minRemoteEngineVersionCode)throw new Error("old version");await Er(e.host,e.port,e.token),await c.enableRemoteEngine({host:e.host,port:e.port,token:e.token}),t.push({name:n.mainRouteName})}catch(i){console.error("Failed to get version: "+i),n.showError(" ")}finally{a.value=!1}}async function s(e){try{await c.removeRemoteEngine({host:e.host,port:e.port,token:e.token}),t.back()}catch(n){console.error("Failed to forget remote server: "+n)}}return{__sfc:!0,$router:t,mainStore:n,connecting:a,connectServer:o,forgetServer:s,MainButton:ae}}},Nr=Tr,Ar=Object(ne["a"])(Nr,Ir,Or,!1,null,null,null),Br=Ar.exports,Fr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_help.title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("activation_help.description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{directives:[{def:K["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"selector-button mb-5",on:{click:n.startInstall}},[e._v(" "+e._s(e.$t("activation_welcome.use_local"))+" ")]),t("div",{staticClass:"selector-button mb-6",staticStyle:{visibility:"hidden"}},[e._v(" "+e._s(e.$t("activation_welcome.use_remote"))+" ")]),t("div",{staticClass:"help-container"},[t("div",{staticClass:"as-text"},[e._v(" "+e._s(e.$t("activation_help.learn_more"))+" ")]),t("div",{staticClass:"selector-button as-icon",on:{click:n.openForum}},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" contact_support ")])])])]),t("div",{staticClass:"as-vertical-fill"})])},Mr=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" contact_support ")])])}],Dr={__name:"ActivationHelp",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){window.open(n.forumLink)}function o(){t.replace({name:"main",params:{autoInstall:!0}})}return{__sfc:!0,$router:t,mainStore:n,openForum:a,startInstall:o}}},Ur=Dr,zr=(n("9aad"),Object(ne["a"])(Ur,Fr,Mr,!1,null,"60ce0a0c",null)),Rr=zr.exports,Lr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_install_error.title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("activation_install_error.description"))+" ")]),t("div",{staticClass:"as-bottom-container d-flex flex-column align-center justify-center pt-8"},[t(n.MainButton,{attrs:{disabled:n.loading},on:{click:n.retry}},[e._v(" "+e._s(e.$t("activation_install_error.repeat"))+" ")]),t("div",{staticClass:"mt-4",staticStyle:{width:"50%"}},[n.loading?t(Ss["a"],{attrs:{indeterminate:"",height:"2"}}):e._e()],1)],1),t("div",{staticClass:"as-vertical-fill"})])},Vr=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" warning ")])])}],Hr={__name:"ActivationInstallError",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a=Object(i["ref"])(!1),o=Object(i["computed"])(()=>{var e;return null===(e=n.pendingAppUpdate)||void 0===e?void 0:e.status}),s=Object(i["computed"])(()=>!!n.appUpdateError);async function r(){try{if(a.value)return;a.value=!0,await c.checkSelfUpdate()}catch(e){console.error("Failed to retry install: "+e)}finally{a.value=!1}}function l(){t.replace({name:"main",params:{autoInstall:!0}})}return Object(i["onMounted"])(()=>{Object(i["watch"])(()=>({status:o.value,gotError:s.value}),e=>{console.log("retry install: state changed: "+JSON.stringify(e)),e.gotError||l()})}),{__sfc:!0,$router:t,mainStore:n,loading:a,updateStatus:o,gotError:s,retry:r,retryInstall:l,MainButton:ae}}},qr=Hr,Wr=(n("6545"),Object(ne["a"])(qr,Lr,Vr,!1,null,"49470046",null)),Gr=Wr.exports,Jr=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation as-scrollable"},[t("div",{staticClass:"as-top-container"},[n.connecting?t("div",{staticClass:"d-flex flex-column fill-height align-center justify-center"},[t("div",{staticClass:"text-center pb-2"},[e._v(" "+e._s(e.$t("remote_engine.connecting"))+" ")]),t("div",{staticStyle:{width:"50vw"}},[t(Ss["a"],{attrs:{indeterminate:"",height:"1"}})],1)]):[t("div",{staticClass:"as-input-container d-flex flex-row align-end"},[t(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",label:e.$t("remote_engine.enter_address_and_port"),placeholder:"127.0.0.1:6878","error-messages":n.showConnectButton?n.inputError:null},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.connect.apply(null,arguments)},focus:function(e){n.inputFocused=!0},blur:function(e){n.inputFocused=!1},change:n.resetErrors},model:{value:n.remoteAddress,callback:function(e){n.remoteAddress=e},expression:"remoteAddress"}})],1),n.showConnectButton?t("div",{staticClass:"d-flex align-center justify-center"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:n.connect}},[e._v(" "+e._s(e.$t("remote_engine.connect"))+" ")])],1):t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.welcome_title"))+" ")])]],2),t("div",{staticClass:"as-center-container"},[t("div",{staticClass:"as-title"},[e._v(e._s(e.$t("remote_engine.welcome_hint_title"))+":")]),t("ol",[t("li",[e._v(" "+e._s(e.$t("remote_engine.welcome_hint_1"))+" ")]),t("li",[e._v(" "+e._s(e.$t("remote_engine.welcome_hint_2",{minRemoteEngineVersion:n.mainStore.minRemoteEngineVersionName}))+" ")]),t("li",[e._v(" "+e._s(e.$t("remote_engine.welcome_hint_3"))+" ")]),t("li",[e._v(" "+e._s(e.$t("remote_engine.welcome_hint_4"))+" ")])])]),t("div",{staticClass:"as-vertical-fill"})])},Yr=[],Zr={__name:"ConnectWelcome",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=Object(i["ref"])(""),s=Object(i["ref"])(null),r=Object(i["ref"])(!1),c=Object(i["ref"])(!1),l=Object(i["computed"])(()=>r.value||o.value);async function u(){if(console.log("connect to "+o.value),d(),!o.value)return;const e=Pr(o.value);if(null!==e)try{console.log("got address: "+JSON.stringify(e)),c.value=!0,a.engineActivation.host=e.host,a.engineActivation.port=e.port;const t=await $r(e.host,e.port);console.log("got version: "+t),t<a.minRemoteEngineVersionCode?m("version"):p()}catch(t){console.error("Failed to get version: "+t),"port_error"===t.message?m("port"):m("network")}finally{c.value=!1}else s.value=n.t("remote_engine.invalid_address_format")}function d(){s.value=null}function p(){t.push({name:"activation-connect-token"})}function m(e){if("network"===e)t.push({name:"activation-connect-error-network-step1"});else if("port"===e)t.push({name:"activation-connect-error-port"});else{if("version"!==e)throw new Error("Unknown error reason: "+e);t.push({name:"activation-connect-error-version"})}}return{__sfc:!0,$router:t,$i18n:n,mainStore:a,remoteAddress:o,inputError:s,inputFocused:r,connecting:c,showConnectButton:l,connect:u,resetErrors:d,onConnected:p,onError:m,MainButton:ae}}},Kr=Zr,Qr=(n("0bde"),Object(ne["a"])(Kr,Jr,Yr,!1,null,"3b6fae35",null)),Xr=Qr.exports,ec=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation as-scrollable"},[t("div",{staticClass:"as-top-container"},[n.connecting?t("div",{staticClass:"d-flex flex-column fill-height align-center justify-center"},[t("div",{staticClass:"text-center pb-2"},[e._v(" "+e._s(e.$t("remote_engine.initializing"))+" ")]),t("div",{staticStyle:{width:"50vw"}},[t(Ss["a"],{attrs:{indeterminate:"",height:"1"}})],1)]):[t("div",{staticClass:"as-input-container d-flex flex-row align-end"},[t(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",label:e.$t("remote_engine.enter_access_token"),"error-messages":n.showConnectButton?n.inputError:null},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.setToken.apply(null,arguments)},focus:function(e){n.inputFocused=!0},blur:function(e){n.inputFocused=!1},change:n.resetErrors},model:{value:n.token,callback:function(e){n.token=e},expression:"token"}})],1),n.showConnectButton?t("div",{staticClass:"d-flex align-center justify-center"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:n.setToken}},[e._v(" "+e._s(e.$t("remote_engine.initialize"))+" ")])],1):t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.initializing"))+" ")])]],2),t("div",{staticClass:"as-center-container"},[t("div",[e._v(" "+e._s(e.$t("remote_engine.token_description"))+" ")]),t("div",{staticClass:"as-title"},[e._v(e._s(e.$t("remote_engine.token_hint_title"))+":")]),t("ol",[t("li",[e._v(" "+e._s(e.$t("remote_engine.token_hint_1"))+" ")]),t("li",[e._v(" "+e._s(e.$t("remote_engine.token_hint_2"))+" ")]),t("li",[e._v(" "+e._s(e.$t("remote_engine.token_hint_3"))+" ")])])]),t("div",{staticClass:"as-vertical-fill"})])},tc=[],nc={__name:"ConnectToken",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=Object(i["ref"])(""),s=Object(i["ref"])(null),r=Object(i["ref"])(!1),l=Object(i["ref"])(!1),u=Object(i["computed"])(()=>r.value||o.value);async function d(){if(console.log("set token to "+o.value),p(),o.value)try{l.value=!0,await Er(a.engineActivation.host,a.engineActivation.port,o.value),m(o.value)}catch(e){"bad_token"===e.message?v("token"):"activation_failed"===e.message?v("activation"):v("network")}finally{l.value=!1}}function p(){s.value=null}async function m(e){a.engineActivation.token=e;try{await c.enableRemoteEngine({host:a.engineActivation.host,port:a.engineActivation.port,token:a.engineActivation.token}),t.push({name:"activation-connect-success"})}catch(n){throw new Error("activation_failed")}}function v(e){s.value="token"===e?n.t("remote_engine.invalid_token"):"token"===e?n.t("internal_error_try_later"):n.t("remote_engine.connection_error_check_address")}return{__sfc:!0,$router:t,$i18n:n,mainStore:a,token:o,inputError:s,inputFocused:r,connecting:l,showConnectButton:u,setToken:d,resetErrors:p,onConnected:m,onError:v,MainButton:ae}}},ic=nc,ac=(n("efd3"),Object(ne["a"])(ic,ec,tc,!1,null,"6153af22",null)),oc=ac.exports,sc=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.success_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[t("div",{staticClass:"d-flex align-center pb-4"},[t("span",{staticClass:"as-icon material-symbols-outlined"},[e._v(" check ")]),t("span",[e._v(" "+e._s(e.$t("remote_engine.success_init_done"))+" ")])]),t("div",[e._v(" "+e._s(e.$t("remote_engine.success_hint"))+" ")])]),t("div",{staticClass:"as-bottom-container d-flex align-center justify-center pt-8"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:n.close}},[e._v(" OK ")])],1),t("div",{staticClass:"as-vertical-fill"})])},rc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" task_alt ")])])}],cc={__name:"ConnectSuccess",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){t.replace({name:n.mainRouteName})}return{__sfc:!0,$router:t,mainStore:n,close:a,MainButton:ae}}},lc=cc,uc=(n("b59d"),Object(ne["a"])(lc,sc,rc,!1,null,"a5c8cb04",null)),dc=uc.exports,pc=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[n.connecting?t("div",{staticClass:"d-flex flex-column fill-height align-center justify-center"},[t("div",{staticClass:"text-center pb-2"},[e._v(" "+e._s(e.$t("remote_engine.connecting"))+" ")]),t("div",{staticStyle:{width:"50vw"}},[t(Ss["a"],{attrs:{indeterminate:"",height:"1"}})],1)]):[t("div",{staticClass:"as-input-container d-flex flex-row align-end"},[t(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",label:e.$t("remote_engine.enter_address_and_port"),placeholder:"127.0.0.1:6878","error-messages":n.showConnectButton?n.inputError:null},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.connect.apply(null,arguments)},focus:function(e){n.inputFocused=!0},blur:function(e){n.inputFocused=!1},change:n.resetErrors},model:{value:n.remoteAddress,callback:function(e){n.remoteAddress=e},expression:"remoteAddress"}})],1),n.showConnectButton?t("div",{staticClass:"d-flex align-center justify-center"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:n.connect}},[e._v(" "+e._s(e.$t("remote_engine.connect"))+" ")])],1):t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.connection_error"))+" ")])]],2),t("div",{staticClass:"as-center-container"},[t("div",{staticClass:"pb-5"},[e._v(" "+e._s(e.$t("remote_engine.bad_port_description"))+" ")]),t("div",[e._v(" "+e._s(e.$t("remote_engine.bad_port_hint"))+" ")])]),t("div",{staticClass:"as-vertical-fill"})])},mc=[],vc={__name:"ConnectErrorPort",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=Object(i["ref"])(""),s=Object(i["ref"])(null),r=Object(i["ref"])(!1),c=Object(i["ref"])(!1),l=Object(i["computed"])(()=>r.value||o.value);async function u(){if(console.log("connect to "+o.value),d(),!o.value)return;const e=Pr(o.value);if(null!==e)try{console.log("got address: "+JSON.stringify(e)),c.value=!0,a.engineActivation.host=e.host,a.engineActivation.port=e.port;const t=await $r(e.host,e.port);console.log("got version: "+t),t<a.minRemoteEngineVersionCode?m("version"):p()}catch(t){console.error("Failed to get version: "+t),"port_error"===t.message?m("port"):m("network")}finally{c.value=!1}else s.value=n.t("remote_engine.invalid_address_format")}function d(){s.value=null}function p(){t.push({name:"activation-connect-success"})}function m(e){if("network"===e)t.push({name:"activation-connect-error-network-step1"});else if("port"===e)t.push({name:"activation-connect-error-port"});else{if("version"!==e)throw new Error("Unknown error reason: "+e);t.push({name:"activation-connect-error-version"})}}return{__sfc:!0,$router:t,$i18n:n,mainStore:a,remoteAddress:o,inputError:s,inputFocused:r,connecting:c,showConnectButton:l,connect:u,resetErrors:d,onConnected:p,onError:m,MainButton:ae}}},fc=vc,_c=Object(ne["a"])(fc,pc,mc,!1,null,null,null),gc=_c.exports,hc=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine.connection_error"))+" ")])]),t("div",{staticClass:"as-center-container"},[t("div",{staticClass:"pb-5"},[e._v(" "+e._s(e.$t("remote_engine.bad_version_description"))+" ")]),t("div",[e._v(" "+e._s(e.$t("remote_engine.bad_version_hint",{minRemoteEngineVersion:n.mainStore.minRemoteEngineVersionName}))+" "),t("a",{attrs:{href:"https://acestream.org/",target:"_blank"}},[e._v("acestream.org")]),e._v(" "+e._s(e.$t("or"))+" "),t("a",{attrs:{href:"https://acestream.media/",target:"_blank"}},[e._v("acestream.media")])])]),t("div",{staticClass:"as-vertical-fill"})])},bc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" warning ")])])}],yc={__name:"ConnectErrorVersion",setup(e){const t=N();return{__sfc:!0,mainStore:t}}},wc=yc,Cc=(n("245c"),Object(ne["a"])(wc,hc,bc,!1,null,"88406768",null)),kc=Cc.exports,xc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-page-engine-activation"},[t("router-view"),t("div",{staticClass:"as-vertical-fill"})],1)},jc=[],Sc={__name:"ConnectErrorNetwork",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();return Object(i["onMounted"])(()=>{n.navBackHook=()=>t.push({name:n.mainRouteName})}),Object(i["onUnmounted"])(()=>{n.navBackHook=null}),{__sfc:!0,$router:t,mainStore:n}}},Ic=Sc,Oc=Object(ne["a"])(Ic,xc,jc,!1,null,null,null),Pc=Oc.exports,$c=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_1_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_1_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step2"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.start"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_2_title"))+" ")])])])])},Ec=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],Tc={__name:"ConnectErrorNetworkStep1",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},Nc=Tc,Ac=Object(ne["a"])(Nc,$c,Ec,!1,null,"222976c3",null),Bc=Ac.exports,Fc=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_2_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_2_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step3"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_3_title"))+" ")])])])])},Mc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],Dc={__name:"ConnectErrorNetworkStep2",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},Uc=Dc,zc=Object(ne["a"])(Uc,Fc,Mc,!1,null,"d51ba462",null),Rc=zc.exports,Lc=function(){var e,t,n,i=this,a=i._self._c,o=i._self._setupProxy;return a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"as-top-container"},[o.connecting?a("div",{staticClass:"d-flex flex-column fill-height align-center justify-center"},[a("div",{staticClass:"text-center pb-2"},[i._v(" ")]),a("div",{staticStyle:{width:"50vw"}},[a(Ss["a"],{attrs:{indeterminate:"",height:"1"}})],1)]):[a("div",{staticClass:"as-input-container d-flex flex-row align-end"},[a(On["a"],{staticClass:"code-input",attrs:{outlined:"",clearable:"",label:i.$t("remote_engine.enter_address_and_port"),placeholder:"127.0.0.1:6878","error-messages":o.showConnectButton?o.inputError:null},on:{keydown:function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:o.connect.apply(null,arguments)},focus:function(e){o.inputFocused=!0},blur:function(e){o.inputFocused=!1},change:o.resetErrors},model:{value:o.remoteAddress,callback:function(e){o.remoteAddress=e},expression:"remoteAddress"}})],1),o.showConnectButton?a("div",{staticClass:"d-flex align-center justify-center"},[a(o.MainButton,{attrs:{white:"",rounded:""},on:{click:o.connect}},[i._v(" "+i._s(i.$t("remote_engine.connect"))+" ")])],1):a("div",{staticClass:"as-title"},[i._v(" "+i._s(i.$t("remote_engine_troubleshooting.step_3_title"))+" ")])]],2),a("div",{staticClass:"as-center-container"},[a("div",{staticClass:"pb-4"},[i._v(" "+i._s(i.$t("remote_engine_troubleshooting.step_3_description_1"))+" ")]),a("div",{staticClass:"pb-4"},[i._v(" "+i._s(i.$t("remote_engine_troubleshooting.step_3_description_2"))+": "),null!==(e=o.mainStore.engineActivation)&&void 0!==e&&e.host?a("span",[i._v(" "+i._s(o.mainStore.engineActivation.host)+":"+i._s(o.mainStore.engineActivation.port)+" ")]):a("span",[i._v(" "+i._s(null===(t=o.selectedRemoteEngine)||void 0===t?void 0:t.host)+":"+i._s(null===(n=o.selectedRemoteEngine)||void 0===n?void 0:n.port)+" ")])]),a("div",[i._v(" "+i._s(i.$t("remote_engine_troubleshooting.step_3_description_3"))+" ")])]),a("div",{staticClass:"as-bottom-container"},[a("div",{staticClass:"wizard-actions-container"},[a("div",{staticClass:"as-half-screen next-button"},[a(o.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return o.$router.push({name:"activation-connect-error-network-step4"})}}},[i._v(" "+i._s(i.$t("remote_engine_troubleshooting.next"))+" ")])],1),a("div",{staticClass:"as-half-screen next-title"},[i._v(" - "+i._s(i.$t("remote_engine_troubleshooting.step_4_title"))+" ")])])])])},Vc=[],Hc={__name:"ConnectErrorNetworkStep3",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=Object(i["getCurrentInstance"])().proxy.$i18n,a=N(),o=Object(i["ref"])(""),s=Object(i["ref"])(null),r=Object(i["ref"])(!1),c=Object(i["ref"])(!1),l=Object(i["computed"])(()=>r.value||o.value),u=Object(i["computed"])(()=>a.state.selectedEngineState),d=Object(i["computed"])(()=>u.value.useRemote?u.value.remoteState:null);async function p(){if(console.log("connect to "+o.value),m(),!o.value)return;const e=Pr(o.value);if(null!==e)try{console.log("got address: "+JSON.stringify(e)),c.value=!0;const t=await $r(e.host,e.port);console.log("got version: "+t),t<a.minRemoteEngineVersionCode?f("version"):v(e.host,e.port)}catch(t){console.error("Failed to get version: "+t),"port_error"===t.message?f("port"):f("network")}finally{c.value=!1}else s.value=n.t("remote_engine.invalid_address_format")}function m(){s.value=null}function v(e,n){a.engineActivation.host=e,a.engineActivation.port=n,t.push({name:"activation-connect-token"})}function f(e){if("network"===e)s.value=n.t("remote_engine.connection_error");else if("port"===e)t.push({name:"activation-connect-error-port"});else{if("version"!==e)throw new Error("Unknown error reason: "+e);t.push({name:"activation-connect-error-version"})}}return{__sfc:!0,$router:t,$i18n:n,mainStore:a,remoteAddress:o,inputError:s,inputFocused:r,connecting:c,showConnectButton:l,selectedEngine:u,selectedRemoteEngine:d,connect:p,resetErrors:m,onConnected:v,onError:f,MainButton:ae}}},qc=Hc,Wc=Object(ne["a"])(qc,Lc,Vc,!1,null,"6c1dbfb6",null),Gc=Wc.exports,Jc=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_4_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_4_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step5"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_5_title"))+" ")])])])])},Yc=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],Zc={__name:"ConnectErrorNetworkStep4",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},Kc=Zc,Qc=Object(ne["a"])(Kc,Jc,Yc,!1,null,"14bad50d",null),Xc=Qc.exports,el=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_5_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_5_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step6"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_6_title"))+" ")])])])])},tl=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],nl={__name:"ConnectErrorNetworkStep5",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},il=nl,al=Object(ne["a"])(il,el,tl,!1,null,"545f28ac",null),ol=al.exports,sl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_6_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_6_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step7"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_7_title"))+" ")])])])])},rl=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],cl={__name:"ConnectErrorNetworkStep6",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},ll=cl,ul=Object(ne["a"])(ll,sl,rl,!1,null,"d7f9076a",null),dl=ul.exports,pl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_7_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_7_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:function(e){return n.$router.push({name:"activation-connect-error-network-step8"})}}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.next"))+" ")])],1),t("div",{staticClass:"as-half-screen next-title"},[e._v(" - "+e._s(e.$t("remote_engine_troubleshooting.step_8_title"))+" ")])])])])},ml=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],vl={__name:"ConnectErrorNetworkStep7",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router;return{__sfc:!0,$router:t,MainButton:ae}}},fl=vl,_l=Object(ne["a"])(fl,pl,ml,!1,null,"58b0602c",null),gl=_l.exports,hl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_8_title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_8_description"))+" ")]),t("div",{staticClass:"as-bottom-container"},[t("div",{staticClass:"wizard-actions-container"},[t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{white:"",rounded:""},on:{click:n.openForum}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_8_go_forum"))+" ")])],1),t("div",{staticClass:"as-half-screen next-button"},[t(n.MainButton,{attrs:{rounded:""},on:{click:n.openMainPage}},[e._v(" "+e._s(e.$t("remote_engine_troubleshooting.step_8_go_home"))+" ")])],1)])])])},bl=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"as-warning material-symbols-outlined"},[e._v(" warning ")])])}],yl={__name:"ConnectErrorNetworkStep8",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N();function a(){window.open("https://forum.acestream.media")}function o(){t.push({name:n.mainRouteName})}return{__sfc:!0,$router:t,mainStore:n,openForum:a,openMainPage:o,MainButton:ae}}},wl=yl,Cl=Object(ne["a"])(wl,hl,bl,!1,null,"07054bc6",null),kl=Cl.exports,xl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"fill-height align-center justify-start flex-column",on:{click:n.hideMenu}},[t("div",{staticClass:"transfer-container"},[n.transfers.length>0?t("div",{staticClass:"transfer-list d-flex flex-column"},e._l(n.transfers,(function(i){return t("div",{directives:[{name:"focus",rawName:"v-focus",value:{id:"transfer-"+i.id,enabled:!n.mainStore.preventFocus,nextFunc:e=>n.getFocusFor(i.id,e)},expression:"{\n          id: `transfer-${transfer.id}`,\n          enabled: !mainStore.preventFocus,\n          nextFunc: (direction) => getFocusFor(transfer.id, direction),\n        }"}],key:i.id,staticClass:"transfer-item d-flex flex-row justify-space-between align-center",attrs:{tabindex:"0"},on:{click:function(e){return n.transferClicked(e,i)}}},[t("div",{staticClass:"left"},[t("div",{staticClass:"transfer-item-title"},[e._v(" "+e._s(i.filename)+" ")]),i.completed||i.failed?e._e():t("div",{staticClass:"transfer-item-progress"},[t(Ss["a"],{attrs:{value:i.progress,max:"100",height:"4"}})],1),i.failed?t("div",{staticClass:"transfer-item-error"},[e._v(" "+e._s(e.$t("error"))+": "+e._s(i.error)+" ")]):e._e()]),t("div",{staticClass:"right"},[t("div",{staticClass:"status-container"},[i.completed?[t(Ot["a"],{staticClass:"status-icon",attrs:{color:"green"}},[e._v("mdi-check-circle-outline")]),t("div",{staticClass:"status-text"},[e._v("Completed")])]:i.failed?[t(Ot["a"],{staticClass:"status-icon",attrs:{color:"red"}},[e._v("mdi-alert-circle-outline")]),t("div",{staticClass:"status-text"},[e._v("Failed")])]:[t(Ot["a"],{staticClass:"status-icon",attrs:{color:"yellow"}},[e._v("mdi-progress-helper")]),t("div",{staticClass:"status-text"},[e._v("Loading")])]],2)])])})),0):t("div",{staticClass:"no-transfers-container"},[t("div",{staticClass:"no-transfers-body"},[e._v(" "+e._s(e.$t("transfers.no_files"))+" ")])])]),n.menuVisible&&n.mainStore.isTv?t("div",{staticClass:"menu-container"},[t("div",{staticClass:"menu-overlay"}),t("div",{staticClass:"menu-body"},[t("div",{staticClass:"menu-items-container"},[n.selectedTransfer&&n.selectedTransfer.completed?t(n.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"context-menu-item-0"},expression:"{ id: 'context-menu-item-0' }"}],staticClass:"menu-item",attrs:{tabindex:"0"},on:{click:n.openSelectedTransfer}},[e._v(" "+e._s(e.$t("transfers.open"))+" ")]):e._e(),n.selectedTransfer&&n.selectedTransfer.completed?t(n.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"context-menu-item-1"},expression:"{ id: 'context-menu-item-1' }"}],staticClass:"menu-item",attrs:{tabindex:"0"},on:{click:n.deleteSelectedTransfer}},[e._v(" "+e._s(e.$t("transfers.delete"))+" ")]):e._e(),n.selectedTransfer&&n.selectedTransfer.failed?t(n.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"context-menu-item-2"},expression:"{ id: 'context-menu-item-2' }"}],staticClass:"menu-item",attrs:{tabindex:"0"},on:{click:n.deleteSelectedTransfer}},[e._v(" "+e._s(e.$t("transfers.remove_from_list"))+" ")]):e._e(),!n.selectedTransfer||n.selectedTransfer.completed||n.selectedTransfer.failed?e._e():t(n.MainButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"context-menu-item-3"},expression:"{ id: 'context-menu-item-3' }"}],staticClass:"menu-item",attrs:{tabindex:"0"},on:{click:n.cancelSelectedTransfer}},[e._v(" "+e._s(e.$t("transfers.cancel"))+" ")])],1)])]):e._e()])},jl=[],Sl={__name:"TransfersScreen",setup(e){const t=N(),n=Object(i["ref"])(!1),a=Object(i["ref"])(null),o=Object(i["computed"])(()=>t.activeTransfers.concat(t.failedTransfers,t.completedTransfers));function s(){a.value&&r(a.value.id),h()}function r(e){console.log("cancelTransfer: id="+e),L.filetransfers.cancel(e)}function l(){a.value&&u(a.value.id),h()}function u(e){console.log("deleteTransfer: id="+e),L.filetransfers.delete(e)}function d(){a.value&&m(a.value),h()}function p(e){return e.startsWith("file://")?e:"file://"+e}async function m(e){console.log("openTransfer: id="+e.id);try{await c.startActivity({action:"android.intent.action.VIEW",data:p(e.path),type:e.mime})}catch(n){console.error("openTransfer: failed to start activity: "+n.message),n.message&&t.showErrorSnackbar(n.message)}}function v(e){return"transfer-"+e.id}function f(e,t){let n,i=o.value.findIndex(t=>t.id===e);return-1==i&&(i=0),"up"===t?n=0==i?"app-bar-my-files":v(o.value[i-1]):"down"===t&&(n=i===o.value.length-1?null:v(o.value[i+1])),n}function _(e,n){t.isTv&&(a.value=n,g())}function g(){n.value=!0,t.currentInteractive={cancel:()=>h()}}function h(){n.value=!1,t.currentInteractive=null}return Object(i["onMounted"])(()=>{_o.configure({defaultFocusElementFunc:()=>{let e=["app-bar-my-files"];return o.value.length>0&&e.push(v(o.value[0])),e=e.concat(["button-main-menu","context-menu-item-0","context-menu-item-1","context-menu-item-2","context-menu-item-3",...Co]),e},navigationMap:{...ko,"app-bar-connect":{right:"app-bar-my-files",down:{action:()=>o.value.length?v(o.value[0]):null}},"app-bar-my-files":{right:"button-main-menu",left:"app-bar-connect",down:{action:()=>o.value.length?v(o.value[0]):null}},"button-main-menu":{down:{action:()=>o.value.length?v(o.value[0]):null},left:"app-bar-my-files"},"context-menu-item-0":{down:"context-menu-item-1"},"context-menu-item-1":{up:"context-menu-item-0",down:"context-menu-item-2"},"context-menu-item-2":{up:"context-menu-item-1",down:"context-menu-item-3"},"context-menu-item-3":{up:"context-menu-item-2"}}})}),{__sfc:!0,mainStore:t,menuVisible:n,selectedTransfer:a,transfers:o,cancelSelectedTransfer:s,cancelTransfer:r,deleteSelectedTransfer:l,deleteTransfer:u,openSelectedTransfer:d,normalizePathUri:p,openTransfer:m,idForTransfer:v,getFocusFor:f,transferClicked:_,showMenu:g,hideMenu:h,MainButton:ae}}},Il=Sl,Ol=(n("01c7"),n("8e03"),Object(ne["a"])(Il,xl,jl,!1,null,"5b87ec20",null)),Pl=Ol.exports,$l=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{staticClass:"as-page",class:{invisible:n.loading}},[0===n.listItems.length?t("div",{staticClass:"history__empty"},[e._v(" "+e._s(e.$t("playback_history_empty"))+" ")]):e._l(n.listItems,(function(i,a){return t(J["a"],{key:i.uri},[t("div",{staticClass:"history__item",class:"history__item--"+i.type},[t("div",{staticClass:"history__item__body",on:{click:function(e){return n.openItem(i,a)}}},[t("div",{staticClass:"history__item__title"},[e._v(e._s(i.title))]),"item"===i.type&&n.isHttpUrl(i.uri)?t("div",{staticClass:"history__item__source"},[e._v(" "+e._s(i.uri)+" ")]):e._e()]),t("div",{staticClass:"history__item__actions"},[a===n.loadingItemIndex?t("div",{staticStyle:{width:"36px",height:"36px",display:"flex","align-items":"center","justify-content":"center"}},[t(de["a"],{attrs:{indeterminate:"",size:"24",width:"1"}})],1):"item"===i.type?t(he["a"],{attrs:{icon:""},on:{click:function(e){return n.removeItem(i.uri)}}},[t(Ot["a"],[e._v("mdi-close")])],1):e._e()],1)])])}))],2)},El=[];const Tl={items:[]};function Nl(){const e=Date.now();for(let t=0;t<100;t++){const n={title:`Item ${t} Padding text. Padding text. Padding text. Padding text. Padding text.`,uri:`acestream://${t}-zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz`,timestamp:e-3600*t*1e3};Tl.items.push(n)}}function Al(e){const t=Tl.items.findIndex(t=>t.uri===e);-1!==t&&Tl.items.splice(t,1)}Nl();const Bl=Object(o["c"])("history",{state:()=>({}),getters:{},actions:{async getHistory(){const e=N();return e.isMock?Tl:await c.getPlaybackHistory()},async remove(e){const t=N();t.isMock?Al(e):await c.removePlaybackHistoryItem({uri:e})}}});function Fl(e){if("string"!==typeof e)return!1;const t=e.trim().toLowerCase();return t.startsWith("http://")||t.startsWith("https://")}var Ml={__name:"HistoryScreen",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$i18n,n=N(),a=Bl(),o=Object(i["ref"])([]),s=Object(i["ref"])(!0),r=Object(i["ref"])(-1);let l=null;function u(){return new Promise(e=>{n.engineReady?e():Object(i["watch"])(()=>n.engineReady,()=>{n.engineReady&&e()})})}async function d(e,t){try{var i;if(console.log(`openItem: index=${t} uri=${e.uri}`),r.value===t)return void console.log("openItem: already opening, do nothing");l=setTimeout(()=>{r.value=t},100),await u(),null!==(i=e.uri)&&void 0!==i&&i.startsWith("content:")?await c.playDirectStream({uri:e.uri,title:e.title}):await c.play({uri:e.uri,streamIndex:-1}),setTimeout(m,3e3)}catch(a){n.showError(a)}finally{clearTimeout(l),r.value=-1}}async function p(e){await a.remove(e),await m()}async function m(){const e=await a.getHistory(),n=e.items;n.sort((e,t)=>t.timestamp-e.timestamp);const i={};for(const t of n){const e=f(t.timestamp);i[e]||(i[e]=[]),i[e].push(t)}o.value=[];for(const a in i){const e=t.t("history_group_"+a);o.value.push({type:"group",title:e});for(const t of i[a])o.value.push({type:"item",...t})}}function v(){const e=new Date,t=new Date(e.setHours(0,0,0,0)).getTime(),n=t-864e5,i=n-6048e5,a=i-19872e5,o=a-5184e6;return{today:{from:t},yesterday:{from:n,to:t},sevenDays:{from:i,to:n},thirtyDays:{from:a,to:i},ninetyDays:{from:o,to:a}}}function f(e){for(const[t,n]of Object.entries(v())){if(!n.to&&e>=n.from)return t;if(e>=n.from&&e<n.to)return t}}return Object(i["onMounted"])(async()=>{await m(),await Object(i["nextTick"])(),s.value=!1}),{__sfc:!0,$i18n:t,mainStore:n,historyStore:a,listItems:o,loading:s,loadingItemIndex:r,loadingItemTimer:l,waitEngine:u,openItem:d,removeItem:p,reloadHistory:m,getGroups:v,getGroup:f,isHttpUrl:Fl}}},Dl=Ml,Ul=(n("37a9"),Object(ne["a"])(Dl,$l,El,!1,null,"c566bd42",null)),zl=Ul.exports,Rl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.authStore.hasPremium?t(n.TvHistory):t(n.TvHistoryNeedPremium)},Ll=[],Vl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column align-center justify-center"},[t("div",{staticClass:"message-container"},[t("div",{staticClass:"message-title"},[e._v(" "+e._s(e.$t("need_premium_dialog.title"))+" ")]),t("div",{staticClass:"message-text"},[e._v(" "+e._s(e.$t("need_premium_dialog.text"))+" ")])])])},Hl=[],ql={__name:"TvHistoryNeedPremium",setup(e){return Object(i["onMounted"])(()=>{ui({pageId:"history"})}),{__sfc:!0}}},Wl=ql,Gl=(n("4f5d"),Object(ne["a"])(Wl,Vl,Hl,!1,null,"63925d8f",null)),Jl=Gl.exports,Yl=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{ref:"scrollContentRef",staticClass:"as-page scroll__content",class:{invisible:n.loading}},[0===n.historyItems.length?t("div",{staticClass:"history__empty"},[e._v(" "+e._s(e.$t("playback_history_empty"))+" ")]):t("div",{ref:"scrollBodyRef",staticClass:"scroll__body"},e._l(n.historyItems,(function(i){return t(J["a"],{directives:[{name:"focus",rawName:"v-focus",value:{id:n.idForItem(i),enabled:!n.mainStore.preventFocus,nextFunc:e=>n.getFocusFor(i.id,e)},expression:"{\n        id: idForItem(item),\n        enabled: !mainStore.preventFocus,\n        nextFunc: (direction) => getFocusFor(item.id, direction),\n      }"}],key:i.uri,staticClass:"history__item",class:"history__item--"+i.type+("group"!==i.type?" selector":""),attrs:{id:n.idForItem(i),tabindex:"0"},on:{focus:e=>n.onfocus(i,e)}},[t("div",{staticClass:"history__item__body"},[t("div",{staticClass:"history__item__title"},[e._v(e._s(i.title))]),"item"===i.type&&n.isHttpUrl(i.uri)?t("div",{staticClass:"history__item__source"},[e._v(" "+e._s(i.uri)+" ")]):e._e()])])})),1),t("transition",[n.mainStore.sidePanelVisible?t(n.SideMenu,{attrs:{scrollOnFocus:!1,animationDuration:100,items:n.menuItems},on:{"item-selected":n.onMenuItemSelected,cancel:n.closeMenu}}):e._e()],1)],1)},Zl=[];const Kl={items:[]};function Ql(){const e=Date.now();for(let t=0;t<50;t++){const n={title:`Favorite ${t} Padding text. Padding text. Padding text.`,uri:`acestream://favorite-${t}-zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz`,timestamp:e-3600*t*1e3};Kl.items.push(n)}}function Xl(e){const t=Kl.items.findIndex(t=>t.uri===e);-1!==t&&Kl.items.splice(t,1)}Ql();const eu=Object(o["c"])("favorites",{state:()=>({}),getters:{},actions:{async getFavorites(){const e=N();return e.isMock?Kl:await c.getFavorites()},async isFavorite(e){const t=N();if(t.isMock)return!1;{const t=await c.isFavorite({uri:e});return t.result}},async add({title:e,uri:t}){const n=N();n.isMock?Xl(t):await c.addFavorite({title:e,uri:t})},async remove(e){const t=N();t.isMock?Xl(e):await c.removeFavorite({uri:e})}}});var tu=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.SidePanel,e._g(e._b({tag:"component",staticClass:"side-menu",attrs:{rounded:"",title:null,items:e.items,watchItems:!1},on:{"item-clicked":n.itemSelected},scopedSlots:e._u([{key:"default",fn:function(i){return t("div",{staticClass:"item",on:{click:function(e){return n.itemSelected(i.item)}}},[t("div",{staticClass:"left-container"},[t("div",{staticClass:"item-title fade-text-right"},[e._v(" "+e._s(i.item.title)+" ")])])])}}])},"component",e.$attrs,!1),e.$listeners))},nu=[],iu=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"side-panel-screen",style:`--animation-duration: ${n.animationDuration};`},[t("div",{staticClass:"side-panel-overlay",class:{"overlay-visible":e.showOverlay},on:{click:n.cancel}}),t("div",{staticClass:"side-panel-container",class:{"side-panel-visible":e.bodyVisible},on:{click:n.cancel}},[e.showContent?t("div",{staticClass:"side-panel-content"},[t("div",{staticClass:"title"},[e._v("Content here")])]):e._e(),t("div",{staticClass:"side-panel-menu",on:{click:function(e){e.stopPropagation()}}},[e.title?t("div",{staticClass:"side-panel-title"},[e._v(" "+e._s(e.title)+" ")]):e._e(),t("div",{staticClass:"items",style:`transform: translateY(${n.itemsContainerOffset}px)`},e._l(e.items,(function(i,a){return t("div",{directives:[{name:"focus",rawName:"v-focus",value:{id:n.getItemId(a),enabled:!0,onclick:()=>n.onItemClicked(i)},expression:"{\n            id: getItemId(index),\n            enabled: true,\n            onclick: () => onItemClicked(item),\n          }"}],key:i.id,staticClass:"item-container",class:{focused:n.focusedItem===i.id},attrs:{tabindex:"0","data-focus-up":n.getItemId(a-1),"data-focus-down":n.getItemId(a+1)},on:{focus:function(e){return n.onFocus(e.target,i)}}},[e._t("default",null,{item:i})],2)})),0)])])])},au=[],ou={__name:"SidePanel",props:{title:{type:String},showOverlay:{type:Boolean,default:!1},watchItems:{type:Boolean,default:!0},showContent:{type:Boolean,default:!1},items:{type:Array},selectedItemId:{type:[String,Number]},bodyVisible:{type:Boolean,default:!0},animationDuration:{type:Number,default:200},scrollOnFocus:{type:Boolean,default:!0}},emits:["item-clicked","cancel"],setup(e,{emit:t}){const n=e,a=92,o=Object(i["ref"])(null),s=Object(i["ref"])(a),r=Object(i["computed"])(()=>n.animationDuration/1e3+"s");function c(e){"Escape"===e.code&&m()}function l(){m()}function u(){window.addEventListener("keydown",c),window.addEventListener("customBackPressed",l)}function d(){window.removeEventListener("keydown",c),window.removeEventListener("customBackPressed",l)}function p(){const e=v();if(console.log("setDefaultFocus",e),-1!==e){const t=_o.findById(_(e));null===t||void 0===t||t.focus()}}function m(){t("cancel")}function v(){return n.selectedItemId?n.items.findIndex(e=>e.id==n.selectedItemId):n.items.length?0:-1}function f(e,t){o.value=t.id,n.scrollOnFocus&&(s.value=a-e.offsetTop)}function _(e){return"side-panel-item-"+e}function g(e){t("item-clicked",e)}return Object(i["onMounted"])(()=>{p(),u()}),Object(i["onBeforeUnmount"])(()=>{d()}),Object(i["watch"])(()=>n.items,async()=>{n.watchItems&&(await Object(i["nextTick"])(),p())}),{__sfc:!0,DEFAULT_OFFSET:a,props:n,emit:t,focusedItem:o,itemsContainerOffset:s,animationDuration:r,onKeyDown:c,onBackPressed:l,bindEvents:u,unbindEvents:d,setDefaulFocus:p,cancel:m,getSelectedItemIndex:v,onFocus:f,getItemId:_,onItemClicked:g}}},su=ou,ru=(n("72f2"),Object(ne["a"])(su,iu,au,!1,null,"18807bd4",null)),cu=ru.exports,lu={__name:"SideMenu",props:{title:{type:String},items:{type:Array}},emits:["item-selected","cancel"],setup(e,{emit:t}){const n=e,a="side-menu",o=Object(i["ref"])(0),s=Object(i["ref"])([]);function r(e){t("item-selected",e,e.id)}function c(e){return"side-panel-item-"+e}function l(){gi.setHandler(a,{down:()=>{console.log("qqq:down"),Navigator.move("down")},up:()=>{console.log("qqq:up"),Navigator.move("up")},enter:()=>{console.log("qqq:enter"),n.items&&n.items[o.value]&&r(n.items[o.value])}});const e=e=>{"Escape"===e.key&&t("cancel")};window.addEventListener("keydown",e),window._sideMenuEscapeHandler=e}function u(){gi.removeHandler(a),window._sideMenuEscapeHandler&&(window.removeEventListener("keydown",window._sideMenuEscapeHandler),window._sideMenuEscapeHandler=null)}function d(e=0){Object(i["nextTick"])(()=>{setTimeout(()=>{const t=[],i=document.querySelector(".side-panel-menu");if(i){const e=i.querySelectorAll(".item-container");console.log(`SideMenu:setupNavigation: found ${e.length} item-containers in side-panel-menu`),e.forEach(e=>{e.classList.contains("selector")||e.classList.add("selector"),t.push(e)})}else console.warn("SideMenu:setupNavigation: side-panel-menu not found");if(0===t.length&&n.items){console.log("SideMenu:setupNavigation: Trying fallback by ID...");for(let e=0;e<n.items.length;e++){const n=document.getElementById(c(e));n&&(n.classList.contains("selector")||n.classList.add("selector"),t.push(n))}}console.log(`SideMenu:setupNavigation: found ${t.length} items (retry ${e})`),t.length>0?(s.value=t,Navigator.setCollection(t),Navigator.focus(t[0]),o.value=0):e<5?(console.log(`SideMenu:setupNavigation: Retrying... (${e+1}/5)`),d(e+1)):console.warn("SideMenu:setupNavigation: No menu items found after retries")},150+50*e)})}function p(e){const t=e.elem;if(t){if(t.id){const e=t.id.match(/side-panel-item-(\d+)/);if(e)return void(o.value=parseInt(e[1],10))}const e=s.value.indexOf(t);-1!==e?o.value=e:console.warn("SideMenu:onNavigatorFocus: Could not find element in menu items",t)}}return Object(i["watch"])(()=>n.items,()=>{n.items&&n.items.length>0&&d()},{deep:!0}),Object(i["onMounted"])(()=>{Navigator.follow("focus",p),setTimeout(()=>{l(),console.log("SideMenu: Handler set up")},350),d()}),Object(i["onBeforeUnmount"])(()=>{u(),Navigator.removeListener("focus",p)}),{__sfc:!0,SIDE_MENU_PAGE_ID:a,props:n,emit:t,selectedMenuItemIndex:o,menuItemsElements:s,itemSelected:r,getMenuItemId:c,bindEvents:l,unbindEvents:u,setupNavigation:d,onNavigatorFocus:p,SidePanel:cu}}},uu=lu,du=(n("9e3c"),Object(ne["a"])(uu,tu,nu,!1,null,"3ab38ca2",null)),pu=du.exports,mu={__name:"TvHistory",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$i18n,n="history";let a=null;const o=N(),s=Object(i["ref"])(!0),r=Bl(),l=eu(),u=Object(i["ref"])([]),d=Object(i["ref"])(null),p=Object(i["ref"])(null),m=Object(i["ref"])(null),v=Object(i["ref"])(null),f=Object(i["ref"])(null);function _(){return new Promise(e=>{o.engineReady?e():Object(i["watch"])(()=>o.engineReady,()=>{o.engineReady&&e()})})}function g(e){console.log("onItemPress: uri="+e.uri),b(e)}function h(e){console.log("onItemLongPress: uri="+e.uri),z()}async function b(e){try{var t;console.log("openItem: uri="+e.uri),await _(),null!==(t=e.uri)&&void 0!==t&&t.startsWith("content:")?await c.playDirectStream({uri:e.uri,title:e.title}):await c.play({uri:e.uri,streamIndex:-1}),setTimeout(j,3e3)}catch(n){o.showError(n)}}async function y(e){console.log("removeFromHistory: uri="+e.uri),await r.remove(e.uri),await j()}function w(e){let t=2166136261;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t^i)>>>0,t=16777619*t>>>0}return t}function C(e){return"item-"+e.id}function k(e,t){let n,i=null,a=-1;return e&&(a=u.value.findIndex(t=>t.id===e)),"up"===t?a<=0?n="app-bar-back":i=u.value[a-1]:"down"===t&&a<u.value.length-1&&(i=u.value[a+1]),n||(i?"group"===i.type?k(i.id,t):C(i):null)}function x(e){const t="group"===e.type?e.title:e.uri;return w(t)}async function j(){const e=await r.getHistory(),n=e.items;n.sort((e,t)=>t.timestamp-e.timestamp);const i={};for(const t of n){const e=I(t.timestamp);i[e]||(i[e]=[]),i[e].push(t)}u.value=[];for(const a in i){const e=t.t("history_group_"+a);u.value.push({type:"group",title:e});for(const t of i[a])u.value.push({type:"item",...t})}u.value.forEach(e=>e.id=x(e))}function S(){const e=new Date,t=new Date(e.setHours(0,0,0,0)).getTime(),n=t-864e5,i=n-6048e5,a=i-19872e5,o=a-5184e6;return{today:{from:t},yesterday:{from:n,to:t},sevenDays:{from:i,to:n},thirtyDays:{from:a,to:i},ninetyDays:{from:o,to:a}}}function I(e){for(const[t,n]of Object.entries(S())){if(!n.to&&e>=n.from)return t;if(e>=n.from&&e<n.to)return t}}function O(){gi.setHandler(n,{down:e=>{var t;if("app-bar-back"===(null===(t=e.target)||void 0===t?void 0:t.id)){const e=k(null,"down");Navigator.focus(document.getElementById(e))}else Navigator.move("down")},up:()=>{Navigator.canmove("up")?Navigator.move("up"):Navigator.focus(document.getElementById("app-bar-back"))},enter:e=>{var t;"app-bar-back"!==(null===(t=e.target)||void 0===t?void 0:t.id)&&d.value&&"item"===d.value.type&&g(d.value)},longPress:()=>{d.value&&"item"===d.value.type&&h(d.value)}})}function P(){gi.removeHandler(n)}Object(i["watch"])(()=>o.sidePanelVisible,e=>{if(e){const e=document.querySelectorAll(".history__item.selector");e.forEach(e=>{e.classList.remove("selector"),e.dataset.wasSelector="true"}),setTimeout(()=>{gi.removeHandler(n)},300)}else{const e=document.querySelectorAll('.history__item[data-was-selector="true"]');e.forEach(e=>{e.classList.add("selector"),e.removeAttribute("data-was-selector")}),setTimeout(()=>{if(O(),f.value){const e=f.value;f.value=null,m.value=null,v.value=null;const t=document.getElementById(e)?e:"app-bar-back";return gi.setLastFocused({pageId:n,elementId:t}),void gi.setupNavigation({pageId:n})}if(v.value){Navigator.setCollection(v.value);const e=v.value;if(v.value=null,m.value){const t=m.value;t&&document.contains(t)&&-1!==e.indexOf(t)?Navigator.focus(t):(console.warn("TvHistory: Saved element not available, using default focus"),gi.setupNavigation({pageId:n})),m.value=null}else gi.setupNavigation({pageId:n})}else gi.setupNavigation({pageId:n})},100)}}),Object(i["onMounted"])(async()=>{await j(),await Object(i["nextTick"])(),O();const e=u.value.find(e=>"group"!==(null===e||void 0===e?void 0:e.type));e&&gi.setLastFocused({pageId:n,elementId:C(e)}),gi.setupNavigation({pageId:n}),s.value=!1,a=setInterval(()=>j(),5e3)}),Object(i["onBeforeUnmount"])(()=>{P(),clearInterval(a)});const $=Object(i["ref"])(null),E=Object(i["ref"])(null);function T(e,t){var n;const i=$.value,a=E.value,o=null!==(n=e.scroll_adjust)&&void 0!==n?n:0;let s,r=e.horizontal?i.offsetWidth:i.offsetHeight,c=parseInt(window.getComputedStyle(a,null).getPropertyValue("padding-"+(e.horizontal?"left":"top"))),l=i[e.horizontal?"scrollWidth":"scrollHeight"];return isNaN(c)&&(c=0),t=Math.min(0,t),s=e.always_scroll_top?t+o:Math.max(-(Math.max(l+2*c,r)-r),t)+o,s}let A=null,B=null;function F(e,t,n=!1){d.value=e;const i=u.value.findIndex(t=>t.id===e.id);-1!==i&&i<u.value.length-1&&(p.value=u.value[i+1]);const a={horizontal:!1,fixed_offset:null,always_scroll_top:!0,scroll_adjust:0},o=!0,s=t.target,r=$.value,c=E.value,l=a.horizontal?"left":"top",m=a.horizontal?"offsetWidth":"offsetHeight",v=s.getBoundingClientRect()[l],f=r.getBoundingClientRect()[l];let _;if(a.fixed_offset){const e=f+a.fixed_offset;_=e-v}else{const e=f+(o?c[m]/2-s[m]/2:0);_=Math.min(0,e-v),_=T(a,_)}M(a,_),n||(clearTimeout(A),A=setTimeout(()=>c.scrollTop=0,200))}function M(e,t){null===B&&(B=t,requestAnimationFrame(()=>D(e)))}function D(e){if(null!==B){const t=E.value,n=$.value;t.scrollTop=0,n.style["-webkit-transform"]="translate3d("+Math.round(e.horizontal?B:0)+"px, "+Math.round(e.horizontal?0:B)+"px, 0px)",B=null}}const U=Object(i["ref"])([]);async function z(){var e;const n=null===(e=d.value)||void 0===e?void 0:e.uri;if(console.log("openMenu: uri="+n),n){const e=await l.isFavorite(n);e?(console.log(`openMenu: favorite=${e} uri=${n}`),U.value=[{id:"open",title:t.t("open")},{id:"remove-from-favorites",title:t.t("remove_from_favorites")},{id:"remove-from-history",title:t.t("remove_from_history")}]):U.value=[{id:"open",title:t.t("open")},{id:"add-to-favorites",title:t.t("add_to_favorites")},{id:"remove-from-history",title:t.t("remove_from_history")}]}else U.value=[{id:"open",title:t.t("open")},{id:"remove-from-history",title:t.t("remove_from_history")}];m.value=Navigator.getFocusedElement(),v.value=Navigator.getCollection().slice(),o.sidePanelVisible=!0}async function R(e){var t,n;const i=null===(t=d.value)||void 0===t?void 0:t.title,a=null===(n=d.value)||void 0===n?void 0:n.uri;if(console.log(`onMenuItemSelected: action=${e.id} title=${i} uri=${a}`),d.value)if("open"===e.id)b(d.value);else if("add-to-favorites"===e.id)await l.add({title:i,uri:a});else if("remove-from-favorites"===e.id)await l.remove(a);else if("remove-from-history"===e.id){const e=u.value.findIndex(e=>{var t;return e.id===(null===(t=d.value)||void 0===t?void 0:t.id)});let t=null;if(-1!==e){for(let n=e-1;n>=0;n--){var o;if("group"!==(null===(o=u.value[n])||void 0===o?void 0:o.type)){t=u.value[n];break}}if(!t)for(let n=e+1;n<u.value.length;n++){var s;if("group"!==(null===(s=u.value[n])||void 0===s?void 0:s.type)){t=u.value[n];break}}}f.value=t?C(t):"app-bar-back",await y(d.value)}setTimeout(L,0)}function L(){o.sidePanelVisible=!1}return{__sfc:!0,$i18n:t,PAGE_ID:n,updateHistoryTimer:a,mainStore:o,loading:s,historyStore:r,favoritesStore:l,historyItems:u,selectedItem:d,nextSelectedItem:p,savedFocusedElement:m,savedNavigatorCollection:v,pendingRestoreFocusId:f,waitEngine:_,onItemPress:g,onItemLongPress:h,openItem:b,removeFromHistory:y,generateNumericId:w,idForItem:C,getFocusFor:k,generateItemId:x,reloadHistory:j,getGroups:S,getGroup:I,bindEvents:O,unbindEvents:P,scrollBodyRef:$,scrollContentRef:E,maxOffset:T,scrollTimer:A,currentScrollTarget:B,onfocus:F,scrollTo:M,animateTo:D,menuItems:U,openMenu:z,onMenuItemSelected:R,closeMenu:L,isHttpUrl:Fl,SideMenu:pu}}},vu=mu,fu=(n("1b88"),Object(ne["a"])(vu,Yl,Zl,!1,null,"da03a2da",null)),_u=fu.exports;const gu={beforeRouteLeave(e,t,n){const i=N();i.sidePanelVisible?(window.dispatchEvent(new CustomEvent("customBackPressed")),n(!1)):n()}};var hu=Object.assign(gu,{__name:"TvHistoryScreen",setup(e){const t=B();return{__sfc:!0,authStore:t,TvHistoryNeedPremium:Jl,TvHistory:_u}}}),bu=hu,yu=Object(ne["a"])(bu,Rl,Ll,!1,null,null,null),wu=yu.exports,Cu=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.authStore.hasPremium?t(G["a"],{staticClass:"as-page",class:{invisible:n.loading}},[0===n.listItems.length?t("div",{staticClass:"history__empty"},[e._v(" "+e._s(e.$t("favorites_empty"))+" ")]):e._l(n.listItems,(function(i,a){return t(J["a"],{key:i.uri||i.title},[t("div",{staticClass:"history__item",class:"history__item--"+i.type},[t("div",{staticClass:"history__item__body",on:{click:function(e){return n.openItem(i,a)}}},[t("div",{staticClass:"history__item__title"},[e._v(e._s(i.title))]),"item"===i.type&&n.isHttpUrl(i.uri)?t("div",{staticClass:"history__item__source"},[e._v(" "+e._s(i.uri)+" ")]):e._e()]),t("div",{staticClass:"history__item__actions"},[a===n.loadingItemIndex?t("div",{staticStyle:{width:"36px",height:"36px",display:"flex","align-items":"center","justify-content":"center"}},[t(de["a"],{attrs:{indeterminate:"",size:"24",width:"1"}})],1):"item"===i.type?t(he["a"],{attrs:{icon:""},on:{click:function(e){return n.removeItem(i.uri)}}},[t(Ot["a"],[e._v("mdi-close")])],1):e._e()],1)])])}))],2):t(n.NeedPremium)},ku=[],xu={__name:"FavoritesScreen",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$i18n,n=N(),a=B(),o=eu(),s=Object(i["ref"])([]),r=Object(i["ref"])(!0),l=Object(i["ref"])(-1);let u=null;function d(){return new Promise(e=>{n.engineReady?e():Object(i["watch"])(()=>n.engineReady,()=>{n.engineReady&&e()})})}async function p(e,t){try{var i;if(console.log(`openItem: index=${t} uri=${e.uri}`),l.value===t)return void console.log("openItem: already opening, do nothing");u=setTimeout(()=>{l.value=t},100),await d(),null!==(i=e.uri)&&void 0!==i&&i.startsWith("content:")?await c.playDirectStream({uri:e.uri,title:e.title}):await c.play({uri:e.uri,streamIndex:-1})}catch(a){n.showError(a)}finally{clearTimeout(u),l.value=-1}}async function m(e){await o.remove(e),await v()}async function v(){const e=await o.getFavorites(),n=e.items;n.sort((e,t)=>t.timestamp-e.timestamp);const i={};for(const t of n){const e=_(t.timestamp);i[e]||(i[e]=[]),i[e].push(t)}s.value=[];for(const a in i){const e=t.t("history_group_"+a);s.value.push({type:"group",title:e});for(const t of i[a])s.value.push({type:"item",...t})}}function f(){const e=new Date,t=new Date(e.setHours(0,0,0,0)).getTime(),n=t-864e5,i=n-6048e5,a=i-19872e5,o=a-5184e6;return{today:{from:t},yesterday:{from:n,to:t},sevenDays:{from:i,to:n},thirtyDays:{from:a,to:i},ninetyDays:{from:o,to:a}}}function _(e){for(const[t,n]of Object.entries(f())){if(!n.to&&e>=n.from)return t;if(e>=n.from&&e<n.to)return t}}return Object(i["onMounted"])(async()=>{a.hasPremium&&(await v(),await Object(i["nextTick"])(),r.value=!1)}),{__sfc:!0,$i18n:t,mainStore:n,authStore:a,favoritesStore:o,listItems:s,loading:r,loadingItemIndex:l,loadingItemTimer:u,waitEngine:d,openItem:p,removeItem:m,reloadFavorites:v,getGroups:f,getGroup:_,NeedPremium:Ua,isHttpUrl:Fl}}},ju=xu,Su=(n("0ef6"),Object(ne["a"])(ju,Cu,ku,!1,null,"472e9158",null)),Iu=Su.exports,Ou=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.authStore.hasPremium?t(n.TvFavorites):t(n.TvFavoritesNeedPremium)},Pu=[],$u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"page-container fill-height d-flex flex-column align-center justify-center"},[t("div",{staticClass:"message-container"},[t("div",{staticClass:"message-title"},[e._v(" "+e._s(e.$t("need_premium_dialog.title"))+" ")]),t("div",{staticClass:"message-text"},[e._v(" "+e._s(e.$t("need_premium_dialog.text"))+" ")])])])},Eu=[],Tu={__name:"TvFavoritesNeedPremium",setup(e){return Object(i["onMounted"])(()=>{ui({pageId:"favorites"})}),{__sfc:!0}}},Nu=Tu,Au=(n("281f"),Object(ne["a"])(Nu,$u,Eu,!1,null,"4a3ad48f",null)),Bu=Au.exports,Fu=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(G["a"],{ref:"scrollContentRef",staticClass:"as-page scroll__content",class:{invisible:n.loading}},[n.loading||0!==n.favoritesItems.length?t("div",{ref:"scrollBodyRef",staticClass:"scroll__body"},e._l(n.favoritesItems,(function(i){return t("div",{directives:[{name:"focus",rawName:"v-focus",value:{id:n.idForItem(i),enabled:!n.mainStore.preventFocus,nextFunc:e=>n.getFocusFor(i.id,e)},expression:"{\n        id: idForItem(item),\n        enabled: !mainStore.preventFocus,\n        nextFunc: (direction) => getFocusFor(item.id, direction),\n      }"}],key:i.id,staticClass:"history-row selector",attrs:{id:n.idForItem(i),tabindex:"0"},on:{click:function(e){return n.onItemPress(i)},focus:e=>n.onfocus(i,e)}},[t("div",{staticClass:"history-row__title"},[e._v(e._s(i.title))]),n.isHttpUrl(i.uri)?t("div",{staticClass:"history-row__uri"},[e._v(e._s(i.uri))]):e._e()])})),0):t("div",{staticClass:"empty"},[e._v(" "+e._s(e.$t("favorites_empty"))+" ")]),t("transition",[n.mainStore.sidePanelVisible?t(n.SideMenu,{attrs:{scrollOnFocus:!1,animationDuration:100,items:n.menuItems},on:{"item-selected":n.onMenuItemSelected,cancel:n.closeMenu}}):e._e()],1)],1)},Mu=[],Du={__name:"TvFavorites",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$i18n,n="favorites";let a=null;const o=N(),s=Object(i["ref"])(!0),r=eu(),l=Object(i["ref"])([]),u=Object(i["ref"])(null),d=Object(i["ref"])(null),p=Object(i["ref"])(null),m=Object(i["ref"])(null),v=Object(i["ref"])(null),f=Object(i["ref"])(null),_=Object(i["ref"])(null);function g(e,t){var n;const i=f.value,a=_.value,o=null!==(n=e.scroll_adjust)&&void 0!==n?n:0;let s,r=e.horizontal?i.offsetWidth:i.offsetHeight,c=parseInt(window.getComputedStyle(a,null).getPropertyValue("padding-"+(e.horizontal?"left":"top"))),l=i[e.horizontal?"scrollWidth":"scrollHeight"];return isNaN(c)&&(c=0),t=Math.min(0,t),s=e.always_scroll_top?t+o:Math.max(-(Math.max(l+2*c,r)-r),t)+o,s}let h=null,b=null;function y(e,t){null===b&&(b=t,requestAnimationFrame(()=>w(e)))}function w(e){if(null!==b){const t=_.value,n=f.value;t.scrollTop=0,n.style["-webkit-transform"]="translate3d("+Math.round(e.horizontal?b:0)+"px, "+Math.round(e.horizontal?0:b)+"px, 0px)",b=null}}function C(e,t,n=!1){u.value=e;const i=l.value.findIndex(t=>t.id===e.id);-1!==i&&i<l.value.length-1&&(d.value=l.value[i+1]),d.value&&d.value.id===e.id&&(d.value=null);const a={horizontal:!1,fixed_offset:null,always_scroll_top:!0,scroll_adjust:0},o=!0,s=null===t||void 0===t?void 0:t.target,r=f.value,c=_.value;if(!s||!r||!c)return;const p=a.horizontal?"left":"top",m=a.horizontal?"offsetWidth":"offsetHeight",v=s.getBoundingClientRect()[p],b=r.getBoundingClientRect()[p];let w;if(a.fixed_offset){const e=b+a.fixed_offset;w=e-v}else{const e=b+(o?c[m]/2-s[m]/2:0);w=Math.min(0,e-v),w=g(a,w)}y(a,w),n||(clearTimeout(h),h=setTimeout(()=>c.scrollTop=0,200))}const k=Object(i["ref"])([{id:"open",title:t.t("open")},{id:"remove-from-favorites",title:t.t("remove_from_favorites")}]);function x(){return new Promise(e=>{o.engineReady?e():Object(i["watch"])(()=>o.engineReady,()=>{o.engineReady&&e()})})}function j(e){console.log("onItemPress: uri="+e.uri),I(e)}function S(e){console.log("onItemLongPress: uri="+e.uri),M()}async function I(e){try{var t;console.log("openItem: uri="+e.uri),await x(),null!==(t=e.uri)&&void 0!==t&&t.startsWith("content:")?await c.playDirectStream({uri:e.uri,title:e.title}):await c.play({uri:e.uri,streamIndex:-1})}catch(n){o.showError(n)}}async function O(e){console.log("removeFromFavorites: uri="+e.uri),await r.remove(e.uri),await A()}function P(e){let t=2166136261;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t^i)>>>0,t=16777619*t>>>0}return t}function $(e){var t,n;const i=null!==(t=null!==(n=e.uri)&&void 0!==n?n:e.title)&&void 0!==t?t:"";return P(i)}function E(e){return"item-"+e.id}function T(e,t){let n,i=null,a=-1;return e&&(a=l.value.findIndex(t=>t.id===e)),"up"===t?a<=0?n="app-bar-back":i=l.value[a-1]:"down"===t&&a<l.value.length-1&&(i=l.value[a+1]),n||(i?E(i):null)}async function A(){const e=await r.getFavorites(),t=e.items;t.sort((e,t)=>t.timestamp-e.timestamp),l.value=t.map(e=>({type:"item",...e})),l.value.forEach(e=>e.id=$(e))}function B(){gi.setHandler(n,{down:e=>{var t;if("app-bar-back"===(null===(t=e.target)||void 0===t?void 0:t.id)){const e=T(null,"down");if(!e)return;const t=document.getElementById(e);t&&Navigator.focus(t)}else Navigator.move("down")},up:()=>{Navigator.canmove("up")?Navigator.move("up"):Navigator.focus(document.getElementById("app-bar-back"))},longPress:()=>{u.value&&S(u.value)}})}function F(){gi.removeHandler(n)}function M(){o.sidePanelVisible||(p.value=Navigator.getFocusedElement(),m.value=Navigator.getCollection().slice(),o.sidePanelVisible=!0)}function D(){o.sidePanelVisible=!1}async function U(e){var t;if(console.log(`onMenuItemSelected: action=${e.id} uri=${null===(t=u.value)||void 0===t?void 0:t.uri}`),u.value)if("open"===e.id)I(u.value);else if("remove-from-favorites"===e.id){const e=l.value.findIndex(e=>{var t;return e.id===(null===(t=u.value)||void 0===t?void 0:t.id)});let t=null;e>0?t=l.value[e-1]:0===e&&l.value.length>1&&(t=l.value[1]),v.value=t?E(t):"app-bar-back",await O(u.value),await Object(i["nextTick"])()}setTimeout(D,0)}return Object(i["watch"])(()=>o.sidePanelVisible,e=>{if(e){const e=document.querySelectorAll(".history-row.selector");e.forEach(e=>{e.classList.remove("selector"),e.dataset.wasSelector="true"}),setTimeout(()=>{gi.removeHandler(n)},300)}else{const e=document.querySelectorAll('.history-row[data-was-selector="true"]');e.forEach(e=>{e.classList.add("selector"),e.removeAttribute("data-was-selector")}),setTimeout(()=>{if(B(),v.value){const e=v.value;v.value=null,p.value=null,m.value=null;const t=document.getElementById(e)?e:"app-bar-back";return gi.setLastFocused({pageId:n,elementId:t}),void gi.setupNavigation({pageId:n})}if(m.value){Navigator.setCollection(m.value);const e=m.value;if(m.value=null,p.value){const t=p.value;t&&document.contains(t)&&-1!==e.indexOf(t)?Navigator.focus(t):(console.warn("TvFavorites: Saved element not available, using default focus"),gi.setupNavigation({pageId:n})),p.value=null}else gi.setupNavigation({pageId:n})}else gi.setupNavigation({pageId:n})},100)}}),Object(i["onMounted"])(async()=>{await A(),await Object(i["nextTick"])(),B(),l.value.length>0&&gi.setLastFocused({pageId:n,elementId:E(l.value[0])}),gi.setupNavigation({pageId:n}),s.value=!1,a=setInterval(A,1e4)}),Object(i["onBeforeUnmount"])(()=>{F(),a&&(clearInterval(a),a=null)}),{__sfc:!0,$i18n:t,PAGE_ID:n,updateFavoritesTimer:a,mainStore:o,loading:s,favoritesStore:r,favoritesItems:l,selectedItem:u,nextSelectedItem:d,savedFocusedElement:p,savedNavigatorCollection:m,pendingRestoreFocusId:v,scrollBodyRef:f,scrollContentRef:_,maxOffset:g,scrollTimer:h,currentScrollTarget:b,scrollTo:y,animateTo:w,onfocus:C,menuItems:k,waitEngine:x,onItemPress:j,onItemLongPress:S,openItem:I,removeFromFavorites:O,generateNumericId:P,generateItemId:$,idForItem:E,getFocusFor:T,reloadFavorites:A,bindEvents:B,unbindEvents:F,openMenu:M,closeMenu:D,onMenuItemSelected:U,isHttpUrl:Fl,SideMenu:pu}}},Uu=Du,zu=(n("9947"),Object(ne["a"])(Uu,Fu,Mu,!1,null,"f5e1301a",null)),Ru=zu.exports;const Lu={beforeRouteLeave(e,t,n){const i=N();i.sidePanelVisible?(window.dispatchEvent(new CustomEvent("customBackPressed")),n(!1)):n()}};var Vu=Object.assign(Lu,{__name:"TvFavoritesScreen",setup(e){const t=B();return{__sfc:!0,authStore:t,TvFavoritesNeedPremium:Bu,TvFavorites:Ru}}}),Hu=Vu,qu=Object(ne["a"])(Hu,Ou,Pu,!1,null,null,null),Wu=qu.exports,Gu=function(){var e,t,n,i=this,a=i._self._c,o=i._self._setupProxy;return a("div",{staticClass:"page-container fill-height d-flex flex-column justify-center align-center"},[o.hasNotification?a("div",{staticClass:"notification-container"},[a("div",{staticClass:"notification"},[o.mainStore.appNotification.contentUrl?a("iframe",{staticClass:"notification__iframe",style:{height:null!==(e=o.mainStore.appNotification.contentHeight)&&void 0!==e?e:"96px"},attrs:{src:o.mainStore.appNotification.contentUrl}}):i._e(),a("div",{staticClass:"notification__buttons"},[null!==(t=o.mainStore.appNotification.actions)&&void 0!==t&&t.button_1?a(o.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"notification-button-1",enabled:!o.mainStore.preventFocus},expression:"{ id: 'notification-button-1', enabled: !mainStore.preventFocus }"}],staticClass:"selector",attrs:{text:"",id:"notification-button-1"},on:{click:function(e){return o.notificationButtonClicked(o.mainStore.appNotification,1)}}},[i._v(" "+i._s(o.mainStore.appNotification.actions.button_1.title)+" ")]):i._e(),null!==(n=o.mainStore.appNotification.actions)&&void 0!==n&&n.button_2?a(o.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"notification-button-2",enabled:!o.mainStore.preventFocus},expression:"{ id: 'notification-button-2', enabled: !mainStore.preventFocus }"}],staticClass:"selector",attrs:{text:"",id:"notification-button-2"},on:{click:function(e){return o.notificationButtonClicked(o.mainStore.appNotification,2)}}},[i._v(" "+i._s(o.mainStore.appNotification.actions.button_2.title)+" ")]):i._e()],1)])]):i._e(),a("div",{staticClass:"buttons-container"},[a(o.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"dashboard-button-play",enabled:!o.mainStore.preventFocus},expression:"{ id: 'dashboard-button-play', enabled: !mainStore.preventFocus }"}],key:"dashboard-button-play",class:["selector","button",{"button-last":!o.mainStore.historySupported&&!o.mainStore.favoritesSupported}],attrs:{id:"dashboard-button-play"},on:{click:function(e){return o.openSendCast()}}},[a("div",{staticClass:"icon icon--play"}),a("div",{staticClass:"label"},[i._v(" Play ")])]),o.mainStore.favoritesSupported?a(o.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"dashboard-button-favorites",enabled:!o.mainStore.preventFocus},expression:"{ id: 'dashboard-button-favorites', enabled: !mainStore.preventFocus }"}],key:"dashboard-button-favorites",class:["selector","button",{"button-last":!o.mainStore.historySupported}],attrs:{id:"dashboard-button-favorites"},on:{click:function(e){return o.openFavorites()}}},[a("div",{staticClass:"icon icon--favorites"}),a("div",{staticClass:"label"},[i._v(" "+i._s(i.$t("favorites"))+" ")])]):i._e(),o.mainStore.historySupported?a(o.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"dashboard-button-history",enabled:!o.mainStore.preventFocus},expression:"{ id: 'dashboard-button-history', enabled: !mainStore.preventFocus }"}],key:"dashboard-button-history",staticClass:"selector button button-last",attrs:{id:"dashboard-button-history"},on:{click:function(e){return o.openHistory()}}},[a("div",{staticClass:"icon icon--history"}),a("div",{staticClass:"label"},[i._v(" "+i._s(i.$t("history"))+" ")])]):i._e()],1),o.externalPageVisible?a(o.ExternalPage,{attrs:{url:o.externalPageUrl},on:{close:function(e){return o.hideExternalPage()}}}):i._e()],1)},Ju=[],Yu=n("d5e4"),Zu=n("9bd1"),Ku=n("5364"),Qu=n("2ecb"),Xu=n("f9c7");const ed=0,td=4,nd=td;function id(e,t,n,i={}){if(e<=nd){let a=`${t}:${n}`;e===ed&&(a="ERROR:"+a);const o=[];for(const e in i){let t;t=i[e]instanceof Error?i[e].message:JSON.stringify(i[e]),o.push(`${e}=${t}`)}o.length>0&&(a+=": "+o.join(" "));const s=e===ed?"error":"log";console[s](a)}}function ad(e,t,n={}){nd>=ed&&id(ed,e,t,n)}function od(e,t,n={}){nd>=td&&id(td,e,t,n)}const sd="AppNotificationManager",rd=!0,cd="app_notifications",ld=36e5;var ud=new WeakMap,dd=new WeakMap,pd=new WeakMap;class md{static getInstance(){return null===Object(Xu["a"])(md,md,vd)&&Object(Qu["a"])(md,md,vd,new md),Object(Xu["a"])(md,md,vd)}constructor(){Object(Yu["a"])(this,ud,{writable:!0,value:void 0}),Object(Yu["a"])(this,dd,{writable:!0,value:void 0}),Object(Yu["a"])(this,pd,{writable:!0,value:void 0})}async init(){this.load(),await this.update();const e=this.getFromBackend();if(Object(Ku["a"])(this,dd))od(sd,"init: do not wait for sync");else{od(sd,"init: wait for sync");const t=Date.now();await e,od(sd,`init: wait for sync done in ${Date.now()-t}ms`)}setInterval(()=>this.getFromBackend(),ld)}async getFromBackend(){const e=["notifications.acestream.media","android.acestream.net"];for(const t of e){const e=await this.getFromBackendImpl(t);if(e)break}}async getFromBackendImpl(e){try{const t=B(),n=N(),i={appId:n.applicationId,appVersion:n.applicationVersionCode,locale:n.locale,isTv:n.isTv?1:0,hasBrowser:n.hasBrowser?1:0,hasMarketApp:n.hasMarketApp?1:0,hasPremium:t.hasPremium?1:0,type:"banner,fullscreen"},a=await l["a"].get(`https://${e}/api/v1/app-notifications`,{params:i});return this.sync(a.data.notifications),Object(Zu["a"])(this,pd,a.data.events),!0}catch(t){return ad(sd,"getAppNotifications:error: "+t.message),!1}}sync(e){od(sd,`sync: got ${e.length} notifications`);const t=new Set(Object.keys(Object(Ku["a"])(this,ud)));for(const n of e)Object(Ku["a"])(this,ud)[n.id]?this.updateNotification(n):this.addNotification(n),t.delete(n.id);for(const n of t)this.removeNotification(n);this.persist(),this.update()}async update(){const e=N(),t=[],n=[];for(const i of Object.values(Object(Ku["a"])(this,ud)))await this.shouldShow(i)&&(rd&&od(sd,`update: add notification: id=${i.notification.id} type=${i.notification.type}`),"banner"===i.notification.type?t.push(i):"fullscreen"===i.notification.type?n.push(i):ad(sd,"update: unknown notification type: "+i.notification.type));e.setBannerNotifications(t),e.setFullscreenNotifications(n)}async shouldShow(e){try{return await this.shouldShowUnsafe(e)}catch(t){return ad(sd,"shouldShow:error: "+t.message),!1}}async shouldShowUnsafe(e){const t=e.notification;if(e.dismissedCount>0)return rd&&od(sd,`skip dismissed notification: id=${t.id} dismissedCount=${e.dismissedCount}`),!1;if(t.conditions){if(!await this.checkConditions(t.conditions))return rd&&od(sd,`shouldShowUnsafe: conditions are not met: id=${t.id} conditions=${JSON.stringify(t.conditions)}`),!1;rd&&od(sd,`shouldShowUnsafe: conditions are met: id=${t.id} conditions=${JSON.stringify(t.conditions)}`)}return!0}async checkConditions(e){if(e.or){for(const t of e.or)if(await this.checkSingleCondition(t))return!0;return!1}if(e.and){for(const t of e.or)if(!await this.checkSingleCondition(t))return!1;return!0}throw new Error("Unsupported conditions")}async checkSingleCondition(e){switch(e.type){case"app-not-installed":{const{result:t}=await c.isAppInstalled({packageName:e.value});return!t}case"app-installed":{const{result:t}=await c.isAppInstalled({packageName:e.value});return t}default:throw new Error("Unknown condition type: "+e.type)}}addNotification(e){if(od(sd,"addNotification: id="+e.id),Object(Ku["a"])(this,ud)[e.id])throw new Error("addNotification: already exists: id="+e.id);Object(Ku["a"])(this,ud)[e.id]={notification:e,dismissedAt:0,dismissedCount:0}}updateNotification(e){od(sd,"updateNotification: id="+e.id),this.assertExists(e.id),Object(Ku["a"])(this,ud)[e.id].notification=e}assertExists(e){if(!Object(Ku["a"])(this,ud)[e])throw new Error("assertExists: not exists: id="+e)}removeNotification(e){od(sd,"update: remove notification "+e),delete Object(Ku["a"])(this,ud)[e]}dismissNotification(e){od(sd,"dismissNotification: id="+e),this.assertExists(e),Object(Ku["a"])(this,ud)[e].dismissedAt=Date.now(),Object(Ku["a"])(this,ud)[e].dismissedCount+=1,this.persist(),this.update()}load(){Object(Zu["a"])(this,ud,{}),Object(Zu["a"])(this,dd,0);try{const e=window.localStorage.getItem(cd);if(e){const t=JSON.parse(e);Object(Zu["a"])(this,ud,t.notifications),Object(Zu["a"])(this,dd,t.updatedAt)}}catch(e){ad(sd,"load:error: "+e.message)}}persist(){try{const e={version:1,updatedAt:Date.now(),notifications:Object(Ku["a"])(this,ud)},t=JSON.stringify(e);window.localStorage.setItem(cd,t)}catch(e){ad(sd,"persist:error: "+e.message)}}registerNotificationImpression(e,t){this.sendEvent("impression",e,t)}registerNotificationClick(e,t,n){this.sendEvent("click",e,t,n)}sendEvent(e,t,n,i=null){const a=[...this.getEventUrls(Object(Ku["a"])(this,pd),e),...this.getEventUrls(n.events,e)];for(const o of a){let e=o;e=e.replace("[where]",t),e=e.replace("[unitId]",n.id),e=e.replace("[action]",null!==i&&void 0!==i?i:""),l["a"].get(e).then(()=>{od(sd,"sendEvent:done: url="+e)}).catch(e=>{ad(sd,"sendEvent:error: "+e)})}}getEventUrls(e,t){var n,i;if(!e)return[];switch(t){case"impression":return null!==(n=e.impression)&&void 0!==n?n:[];case"click":return null!==(i=e.click)&&void 0!==i?i:[];default:return[]}}}var vd={writable:!0,value:null},fd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"external-page-container fill-height"},[t("div",{staticClass:"as-overlay"}),t("iframe",{ref:"iframeRef",attrs:{src:e.url}})])},_d=[],gd={__name:"ExternalPage",props:["url","closeOnBack"],emits:["close"],setup(e,{emit:t}){const n=e,a=H(),o=N(),s=Object(i["ref"])(null),r=Object(i["computed"])(()=>{const e=new URL(n.url);return e.origin});async function l(e){if(e.origin===r.value)if(e.data.type)switch(e.data.type){case"ready":break;case"close":v();break;case"openIntent":{const t=e.data.data;c.startActivity({action:t.action,category:t.category,data:t.data,type:t.type});break}case"install":{const t=e.data.data;await c.installAppClicked({packageName:t.packageId}),a.installingPackageId=t.packageId,v();break}case"openBrowser":{const t=e.data.data;c.openBrowser({url:t.url});break}case"installFromMarket":{const t=e.data.data;c.installFromMarket({packageId:t.packageId});break}default:console.error("iframe-event: unknown event: "+e.data.type);break}else console.error("iframe-event: missing event type");else console.error("iframe-event: block event from unknown origin: "+e.origin)}function u(e){d({type:e.type,key:e.key,code:e.code})}function d(e){s.value?s.value.contentWindow.postMessage(e,r.value):console.error("sendFrameMessage: missing iframe")}function p(){window.addEventListener("message",l),window.addEventListener("keydown",u),window.addEventListener("keyup",u)}function m(){window.removeEventListener("message",l),window.removeEventListener("keydown",u),window.removeEventListener("keyup",u)}function v(){t("close")}return Object(i["onMounted"])(()=>{console.log("ext-page:mounted: time="+(Date.now()-window.appStartTime)),p(),gi.pause(),n.closeOnBack&&(o.currentInteractive={cancel:()=>v()})}),Object(i["onBeforeUnmount"])(()=>{console.log("ext-page:unmount"),m(),gi.resume(),n.closeOnBack&&(o.currentInteractive=null)}),{__sfc:!0,props:n,emit:t,appsStore:a,mainStore:o,iframeRef:s,targetOrigin:r,frameEventListener:l,keyboardEventListener:u,sendFrameMessage:d,bindEvents:p,unbindEvents:m,close:v}}},hd=gd,bd=(n("03b0"),Object(ne["a"])(hd,fd,_d,!1,null,"4979ca24",null)),yd=bd.exports,wd={__name:"DashboardScreen",setup(e){const t="dashboard";let n=["app-bar-dashboard","dashboard-button-play","dashboard-button-history","dashboard-button-favorites"];const a=Object(i["getCurrentInstance"])().proxy.$root.$router,o=H(),s=N(),r=B(),l=Object(i["ref"])(!1),u=Object(i["ref"])(""),d=Object(i["computed"])(()=>s.appNotification);function p(e){console.log("dash:focus: id="+e.elem.id),-1!==n.indexOf(e.elem.id)&&gi.setLastFocused({pageId:t,elementId:e.elem.id})}function m(){Navigator.follow("focus",p),gi.setHandler(t,{down:e=>{var t,n;if("app-bar-dashboard"===(null===(t=e.target)||void 0===t?void 0:t.id)){const e=document.getElementById("notification-button-1");d.value&&e?(Navigator.add(e),Navigator.focus(e)):Navigator.focus(document.getElementById("dashboard-button-play"))}else"notification-button-1"===(null===(n=e.target)||void 0===n?void 0:n.id)&&Navigator.focus(document.getElementById("dashboard-button-play"))},up:e=>{var t,n,i,a;if("dashboard-button-play"===(null===(t=e.target)||void 0===t?void 0:t.id)||"dashboard-button-history"===(null===(n=e.target)||void 0===n?void 0:n.id)||"dashboard-button-favorites"===(null===(i=e.target)||void 0===i?void 0:i.id)){const e=document.getElementById("notification-button-1");d.value&&e?(Navigator.add(e),Navigator.focus(e)):Navigator.focus(document.getElementById("app-bar-dashboard"))}else"notification-button-1"===(null===(a=e.target)||void 0===a?void 0:a.id)&&Navigator.focus(document.getElementById("app-bar-dashboard"))},enter:e=>{var t;"app-bar-dashboard"===(null===(t=e.target)||void 0===t?void 0:t.id)&&Navigator.focus(document.getElementById("dashboard-button-play"))}})}function v(){Navigator.removeListener("focus",p),gi.removeHandler(t)}async function f(){try{Kt(),await Qt(),window.__tcfapi("addEventListener",2,(e,t)=>{if(t)if("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)gi.resume();else if("cmpuishown"===e.eventStatus){gi.pause();const e=document.querySelector(".fc-cta-consent");e&&e.focus()}})}catch(e){console.log("handleGdprConsent:error: "+(null===e||void 0===e?void 0:e.message))}}async function _(e,t){try{const n=e.actions["button_"+t];if(console.log(`notificationButtonClicked: buttonId=${t} action=${JSON.stringify(n)}`),md.getInstance().registerNotificationClick("dashboard",e,t),n)switch(n.type){case"open-external-page":g(n.url);break;case"open-intent":await c.startActivity({action:n.action,category:n.category,data:n.data,type:n.dataType});break;case"install":o.installingPackageId=n.packageId,o.installingPackageName=n.packageName;break;case"dismiss":md.getInstance().dismissNotification(e.id);break;default:throw new Error("Unknown action type: "+n.type)}}catch(n){console.error("notificationButtonClicked:error: "+n.message)}}function g(e){u.value=e,l.value=!0}function h(){l.value=!1,u.value=""}function b(){a.push({name:"acecast-server"})}function y(){r.hasPremium?a.push({name:"tv-history"}):c.openResolverActivity({mode:"history"})}function w(){r.hasPremium?a.push({name:"tv-favorites"}):c.openResolverActivity({mode:"favorites"})}return Object(i["onMounted"])(()=>{gi.setupNavigation({pageId:t}),c.homeScreenReady(),f(),m()}),Object(i["onBeforeUnmount"])(()=>{v()}),{__sfc:!0,PAGE_ID:t,canSaveFocus:n,$router:a,appsStore:o,mainStore:s,authStore:r,externalPageVisible:l,externalPageUrl:u,hasNotification:d,onFocus:p,bindEvents:m,unbindEvents:v,handleGdprConsent:f,notificationButtonClicked:_,showExternalPage:g,hideExternalPage:h,openSendCast:b,openHistory:y,openFavorites:w,ExternalPage:yd,TheButton:Za}}},Cd=wd,kd=(n("2765"),Object(ne["a"])(Cd,Gu,Ju,!1,null,"5d5ef454",null)),xd=kd.exports;const jd=[{name:"main",path:"/",component:bn,props:!0},{name:"input-panel",path:"/input",component:Ao},{name:"sign-in",path:"/signin",component:Sn,props:{target:"default"}},{name:"sign-in-premium",path:"/signin/premium",component:Sn,props:{target:"premium"}},{name:"sign-in-username",path:"/signin/username",component:An,props:{target:"default"}},{name:"sign-in-username-premium",path:"/signin/username/premium",component:An,props:{target:"premium"}},{name:"account",path:"/account",component:ce},{name:"acecast-server",path:"/acecast/server",component:wi},{name:"acecast-dashboard",path:"/acecast/dashboard",component:xd},{name:"acecast-client",path:"/acecast/client",component:Ii},{name:"premium-tv",path:"/premium/tv",component:na},{name:"premium-notification",path:"/notification/premium",component:Ua},{name:"premium-welcome",path:"/premium/welcome",component:fa,props:{mode:"default"}},{name:"premium-payment-external",path:"/premium/payment/external",component:fa,props:{mode:"payment"}},{name:"premium-payment",path:"/premium/payment",component:Na},{name:"tv-account",path:"/account/tv",component:uo},{name:"livetv",path:"/livetv",component:Oo},{name:"external-player-notification",path:"/notification/external-player",component:zo},{name:"external-player-notification-tv",path:"/notification/external-player/tv",component:Wo},{name:"select-external-player-notification",path:"/notification/select-external-player",component:Qo},{name:"playlist-notification",path:"/notification/playlist",component:as},{name:"playlist-notification-tv",path:"/notification/playlist/tv",component:us},{name:"history",path:"/history",component:zl},{name:"tv-history",path:"/history/tv",component:wu},{name:"favorites",path:"/favorites",component:Iu},{name:"tv-favorites",path:"/favorites/tv",component:Wu},{path:"/acecast/troubleshooting",component:Ts,children:[{name:"acecast-troubleshooting-step1",path:"",component:Ds},{name:"acecast-troubleshooting-step2",path:"step2",component:Hs},{name:"acecast-troubleshooting-step3",path:"step3",component:Zs},{name:"acecast-troubleshooting-step4",path:"step4",component:nr},{name:"acecast-troubleshooting-step5",path:"step5",component:cr},{name:"acecast-troubleshooting-step6",path:"step6",component:vr},{name:"acecast-troubleshooting-step7",path:"step7",component:yr}]},{name:"acecast-manual-connect",path:"/acecast/manual-connect",component:bs},{name:"acecast-about",path:"/acecast/about",component:js},{name:"activation-help",path:"/activation/help",component:Rr},{name:"activation-install-error",path:"/activation/install/error",component:Gr},{name:"activation-connect-welcome",path:"/activation/connect/welcome",component:Xr},{name:"activation-connect-token",path:"/activation/connect/token",component:oc},{name:"activation-connect-success",path:"/activation/connect/success",component:dc},{path:"/activation/connect/error-network",component:Pc,children:[{name:"activation-connect-error-network-step1",path:"",component:Bc},{name:"activation-connect-error-network-step2",path:"step2",component:Rc},{name:"activation-connect-error-network-step3",path:"step3",component:Gc},{name:"activation-connect-error-network-step4",path:"step4",component:Xc},{name:"activation-connect-error-network-step5",path:"step5",component:ol},{name:"activation-connect-error-network-step6",path:"step6",component:dl},{name:"activation-connect-error-network-step7",path:"step7",component:gl},{name:"activation-connect-error-network-step8",path:"step8",component:kl}]},{name:"activation-connect-error-port",path:"/activation/connect/error-port",component:gc},{name:"activation-connect-error-version",path:"/activation/connect/error-version",component:kc},{name:"select-server",path:"/select-server",component:Sr},{name:"transfers",path:"/transfers",component:Pl},{name:"select-server-remote",path:"/select-server/remote",component:Br,props:!0}],Sd={isMock:!0,googleServiceAvailable:!0,isEngineInstalled:!0,historySupported:!0,favoritesSupported:!0,locale:"ru",isTv:!0,applicationId:"org.acestream.node",applicationVersionCode:302170011,engineState:"RUNNING",engineHost:"127.0.0.1",enginePort:6878,engineAccessToken:"a",engineApiAccessToken:"60a5960d0bf76c8fe4ff911fd2df412963f7037b917355b651f00fe4afcf214e",useRemoteEngine:!0,auth:{isAuthInProgress:!1,googleSignedIn:!1,googleLogin:null,engineLogin:"test2@acestream.net",authData:{auth_level:999,package_name:"Premium",package_color:"blue",package_days_left:27,purse_amount:350,got_error:0},webViewAuthMethod:"google",webViewAuthToken:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjU1YzE4OGE4MzU0NmZjMTg4ZTUxNTc2YmE3MjgzNmUwNjAwZThiNzMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3NzA5Njk4NTI2OS1jbjRlazNia3E0bDMxOXNrM2YwOHEzaDQyOTQzN2wwdi5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImF1ZCI6Ijc3MDk2OTg1MjY5LTRpcm4za3BkaHFvdmNnc2EyOHAxZzVkZnBxZmRwNjB1LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTA1MjgxMjI1OTcwNjk3OTMwOTE5IiwiZW1haWwiOiJhcGlzaGVsQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQW50b24gUGlzaGVsIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0p2endfLXNDMUI5Q0pzbVVuenllMks4eC05emJvQTRUTWhFM3ZmVy1CUD1zOTYtYyIsImdpdmVuX25hbWUiOiJBbnRvbiIsImZhbWlseV9uYW1lIjoiUGlzaGVsIiwibG9jYWxlIjoiZW4iLCJpYXQiOjE3MDg2MDk0MzUsImV4cCI6MTcwODYxMzAzNX0.pNQZv-e-eJREBwv-x-_Z8Igj2CdqVQw0CZobZp5BiG8FWnISCDdvALquW3XnChcU7nc-J5AdPW8D9Pi5npNGe_opkdU0PqCe-eirnDjBU8saVs6eXJlMPYG8GqxRNHv5yZk5yd_DIi_8hFTKziczK8irfryY2rTvTTC9M6cCJd8IcW_WmQ0Dfukzojsw6RywfQ2pgPp16MNp78vsphn9YD6uFWI0YA_-HO_7cGGrC9NzsHnPIpSxjtrGrlr3zH13humbU8q7OlufzPydCvuY-4kia52h9_DhH_TNujTuMvnLzhSjpOBFfsG3aBPzjypHXmhJ2T6ZVhGPiDMewuTxzQ"},aceCastServer:{host:"192.168.1.126",port:44011,name:"Mibox (AceCast)",websocketPort:12345},fileReceiver:{transfers:[{id:"transfer-1",filename:"test_1.mp4",progress:13,completed:!1,failed:!1,created_at:1e3},{id:"transfer-2",filename:"test_2.mp4",progress:100,completed:!0,failed:!1,created_at:2e3},{id:"transfer-3",filename:"test_3.mp4",progress:100,completed:!0,failed:!1,created_at:3e3}]},videoPlayerState:{running:!0,pip:!0}};var Id=n("f309"),Od=n("fcf4");i["default"].use(Id["a"]);var Pd=new Id["a"]({theme:{dark:!0,themes:{dark:{primary:Od["a"].grey.lighten5}}}}),$d=n("a925"),Ed=n("edd4");i["default"].use($d["a"]);const Td={en:{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}}},Nd=new $d["a"]({numberFormats:Td,locale:"en",messages:{en:Ed}}),Ad=["en"];function Bd(e){return Nd.locale=e,e}async function Fd(e){if(Nd.locale===e)return Promise.resolve(Bd(e));if(Ad.includes(e))return Promise.resolve(Bd(e));const t=await n("39c3")(`./${e}.json`);return Nd.setLocaleMessage(e,t.default),Ad.push(e),Bd(e)}let Md=null,Dd=null;function Ud(){Md&&clearInterval(Md),Dd&&clearTimeout(Dd)}function zd(){const e=Li();e.requestCode({force:!0})}async function Rd(e){try{const t=await Ri(e);t.auth_token&&(Ud(),Ld(t.auth_token))}catch(n){var t;404==(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)&&zd(),console.log("Failed to get link status: "+n,n)}}async function Ld(e){const t=N();try{c.signInToken({token:e})}catch(n){t.showError("Failed to sign in")}}function Vd(){const e=Li();Object(i["watch"])(()=>e.linkCode,t=>{let n=0;e.linkCodeExpiresAt&&(n=e.linkCodeExpiresAt-Date.now()),console.log(`link code changed: code=${t} ttl=${n}`),Ud(),t&&(Md=setInterval(()=>{Rd(t)},2500)),n&&(Dd=setTimeout(()=>{console.log("Code expired, request new one"),zd()},n))})}function Hd(e,t){e.addListener("intent",e=>{const n=N(),i=F(),a=B();console.log("got intent: "+JSON.stringify(e));let o=!1;if("org.acestream.action.EXTERNAL_PLAYER_DENIED"===(null===e||void 0===e?void 0:e.action))console.log("external player denied"),o=!0;else if("org.acestream.action.open_profile_activity"===(null===e||void 0===e?void 0:e.action)||"org.acestream.action.open_login_activity"===(null===e||void 0===e?void 0:e.action))t.push({name:a.signedIn?"account":"sign-in"});else if("acestream+app://request-premium/adblock"===(null===e||void 0===e?void 0:e.data))o=!0;else if("org.acestream.action.ACECAST_TROUBLESHOOTING"===(null===e||void 0===e?void 0:e.action))n.lastIntent=e,t.push({name:"acecast-troubleshooting-step1"});else if("org.acestream.action.ACECAST_MANUAL_CONNECT"===(null===e||void 0===e?void 0:e.action))n.lastIntent=e,t.push({name:"acecast-manual-connect"});else if("org.acestream.action.ACECAST_ABOUT"===(null===e||void 0===e?void 0:e.action))n.lastIntent=e,t.push({name:"acecast-about"});else if("org.acestream.action.SELECT_SERVER"===(null===e||void 0===e?void 0:e.action))t.push({name:"select-server"});else if("org.acestream.action.REMOTE_ENGINE_FAILED"===(null===e||void 0===e?void 0:e.action)){if(!n.isTv){var s,r;const e=null===(s=t.app)||void 0===s||null===(r=s.$route)||void 0===r?void 0:r.name;e&&!e.startsWith("activation")&&t.push({name:"activation-connect-error-network-step1"})}}else if("org.acestream.action.ACTION_EXTERNAL_PLAYER_NOTIFICATION"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),n.lastIntent=e,t.push({name:n.isTv?"external-player-notification-tv":"external-player-notification"});else if("org.acestream.action.ACTION_SELECT_EXTERNAL_PLAYER_NOTIFICATION"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),n.lastIntent=e,t.push({name:"select-external-player-notification"});else if("org.acestream.action.ACTION_PLAYLIST_NOTIFICATION"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),n.lastIntent=e,t.push({name:n.isTv?"playlist-notification-tv":"playlist-notification"});else if("org.acestream.action.SHOW_PRIVACY_OPTIONS"===(null===e||void 0===e?void 0:e.action))Zt();else if("org.acestream.action.SHOW_PREMIUM"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),n.isTv?t.push({name:"premium-tv"}):t.push({name:"premium-welcome",query:{showDialog:!0}});else if("org.acestream.action.SHOW_ACCOUNT"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),t.push({name:n.isTv?"tv-account":"account"});else if("org.acestream.action.SHOW_HOME"===(null===e||void 0===e?void 0:e.action))c.ensureWebViewVisible(),t.replace({name:n.mainRouteName});else if("org.acestream.got_self_update"===(null===e||void 0===e?void 0:e.action))i.unsnooze(),i.showUpdateNotification(),t.push({name:n.mainRouteName});else if("org.acestream.action.ACTION_OPEN_EXTERNAL_PAGE"===(null===e||void 0===e?void 0:e.action)){const t=null===e||void 0===e?void 0:e.extras["url"];t?n.showFullscreenNotification({url:t,closeOnBack:!0}):console.error("intent:open-external-page: missing url")}else"org.acestream.action.ACTION_OPEN_PLAYER_SETTINGS"===(null===e||void 0===e?void 0:e.action)&&c.showPreferencesClicked({type:"player"});if(o&&t.push({name:n.isTv?"premium-tv":"premium-notification"}),e.extras)if("show_notification"===e.extras["acestream.action"]){const t=parseInt(e.extras["acestream.notification_id"]);console.log("show notification "+t)}else"add_remote_device"===e.extras["acestream.action"]?t.push({name:"acecast-client"}):"new_transfer_started"===e.extras["acestream.action"]&&t.push({name:"transfers"})})}n("1f85"),n("fe2e"),n("4c8e"),n("a0d8");var qd=n("7496"),Wd=n("f6c4"),Gd=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(qd["a"],{class:{"is-tv":n.isTv}},[t("div",{staticClass:"as-overlay"}),n.mainStore.isTv?t(n.AcecastAppBar,{directives:[{name:"show",rawName:"v-show",value:n.showUi,expression:"showUi"}]}):t(n.MainAppBar,{directives:[{name:"show",rawName:"v-show",value:n.showUi,expression:"showUi"}]}),t(Wd["a"],{staticClass:"content-container",class:{"blurred-background":"input-panel"==e.$route.name,"is-send-cast":n.mainStore.sendAndCastEnabled}},[n.showUi?[t("router-view"),n.permissionsStore.pendingPermissionDialog?t(n.PermissionDialog,{attrs:{permission:n.permissionsStore.pendingPermissionDialog}}):n.permissionsStore.pendingPermissionNotification?t(n.PermissionNotification,{attrs:{permission:n.permissionsStore.pendingPermissionNotification}}):e._e()]:e._e()],2),t(Ze["a"],{attrs:{bottom:""},model:{value:n.mainStore.error.visible,callback:function(t){e.$set(n.mainStore.error,"visible",t)},expression:"mainStore.error.visible"}},[e._v(" "+e._s(n.mainStore.error.message)+" ")]),n.statFrameVisible?t(n.StatFrame):e._e(),n.showUi?[n.appUpdateStore.isUpdateActive?t(n.AppUpdateProgress):n.appUpdateStore.updateNotificationVisible?t(n.AppUpdateNotification):n.appsStore.installingPackageId?t(n.AppInstallProgress,{attrs:{packageId:n.appsStore.installingPackageId},on:{close:function(e){n.appsStore.installingPackageId=null}}}):e._e()]:e._e(),n.mainStore.fullscreenNotificationVisible?t(n.ExternalPage,{attrs:{url:n.mainStore.fullscreenNotificationUrl},on:{close:function(e){return n.mainStore.dismissFullscreenNotification()}}}):e._e()],2)},Jd=[],Yd=function(){var e,t,i,a,o,s,r,c,l=this,u=l._self._c,d=l._self._setupProxy;return"input-panel"===l.$route.name||"acecast-about"===l.$route.name||d.appUpdateStore.updateNotificationVisible||d.appUpdateStore.isUpdateActive?l._e():u("div",{staticClass:"as-app-bar"},[u("div",{staticClass:"left-container"},["main"===l.$route.name||d.mainStore.isTv?l._e():u(he["a"],{attrs:{icon:"",width:"48",height:"48"},on:{click:function(e){return d.goBack()}}},[u(Ot["a"],[l._v(" mdi-arrow-left ")])],1),u("div",{staticClass:"app-bar-title"}),d.mainStore.initialized&&d.mainStore.isEngineActivated&&!d.mainStore.showWelcomeOnBoarding&&!d.mainStore.engineFailed&&"main"===l.$route.name?u(d.AccountBadge):l._e(),!d.mainStore.initialized||!d.mainStore.isEngineActivated||d.mainStore.showWelcomeOnBoarding||"main"!==l.$route.name||d.loadingAuth||d.mainStore.engineFailed||d.authStore.hasPremium?l._e():u(d.TheButton,{attrs:{text:"",height:"48"},on:{click:function(e){return d.premiumClicked()}}},[l._v(" "+l._s(l.$t("premium"))+" ")])],1),d.mainStore.initialized?u("div",{staticClass:"right-container"},[null!==(e=d.mainStore.state)&&void 0!==e&&e.hasActiveM3uPlaylist&&!d.mainStore.isTv&&"main"===l.$route.name?u(he["a"],{attrs:{icon:"",width:"48",height:"48"},on:{click:d.openPlaylist}},[u(Ot["a"],[l._v(" mdi-playlist-play ")])],1):l._e(),null!==(t=d.mainStore.state)&&void 0!==t&&null!==(i=t.videoPlayerState)&&void 0!==i&&i.running&&(null!==(a=d.mainStore.state)&&void 0!==a&&null!==(o=a.videoPlayerState)&&void 0!==o&&o.pip||null!==(s=d.mainStore.state)&&void 0!==s&&null!==(r=s.videoPlayerState)&&void 0!==r&&r.playing)&&!d.mainStore.isTv&&"main"===l.$route.name?u(he["a"],{staticClass:"image-button",attrs:{icon:"",width:"48",height:"48"},on:{click:d.openRemoteControl}},[u("img",{attrs:{src:n("919e")}})]):null!==(c=d.mainStore.state)&&void 0!==c&&c.showRemoteControl&&!d.mainStore.isTv&&"main"===l.$route.name?u(he["a"],{attrs:{icon:"",width:"48",height:"48"},on:{click:d.openRemoteControl}},[u(Ot["a"],[l._v(" mdi-remote ")])],1):l._e(),"main"===l.$route.name&&d.mainStore.isEngineActivated&&!d.mainStore.showWelcomeOnBoarding?u(d.MainMenu):l._e()],1):l._e()])},Zd=[],Kd=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.loading?t("div",{staticClass:"loading-container"},[n.mainStore.isTv?e._e():t(de["a"],{attrs:{indeterminate:"",color:"rgba(255, 255, 255, 0.5)",size:"20",width:"2"}})],1):n.signedIn?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-account",enabled:!n.mainStore.preventFocus,onclick:n.accountClicked},expression:"{\n    id: 'button-account',\n    enabled: !mainStore.preventFocus,\n    onclick: accountClicked,\n  }"}],attrs:{icon:"",width:"48",height:"48"},on:{click:function(e){return n.accountClicked()}}},[t(Ot["a"],[e._v(" mdi-account-circle ")])],1):t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-account",enabled:!n.mainStore.preventFocus,onclick:n.signInClicked},expression:"{\n    id: 'button-account',\n    enabled: !mainStore.preventFocus,\n    onclick: signInClicked,\n  }"}],attrs:{text:"",height:"48"},on:{click:function(e){return n.signInClicked()}}},[e._v(" "+e._s(e.$t("sign_in"))+" ")])},Qd=[],Xd={__name:"AccountBadge",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=B(),a=N(),{signedIn:s}=Object(o["e"])(n),r=Object(i["computed"])(()=>!a.engineFailed&&(!a.initialized||!a.engineReady||n.loading));function c(){t.push({name:"sign-in"})}function l(){t.push({name:"account"})}return{__sfc:!0,$router:t,authStore:n,mainStore:a,signedIn:s,loading:r,signInClicked:c,accountClicked:l,TheButton:Za}}},ep=Xd,tp=(n("d00a"),Object(ne["a"])(ep,Kd,Qd,!1,null,"15206b56",null)),np=tp.exports,ip=n("8860"),ap=n("da13"),op=n("5d23"),sp=n("e449"),rp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"menu-container"},[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"button-main-menu",enabled:!n.mainStore.preventFocus},expression:"{ id: 'button-main-menu', enabled: !mainStore.preventFocus }"}],key:"button-main-menu",staticClass:"selector",attrs:{icon:"",id:"button-main-menu",width:"48",height:"48"},on:{click:n.showMenu}},[t(Ot["a"],[e._v("mdi-dots-vertical")])],1),n.menuVisible&&!n.mainStore.isTv?t(sp["a"],{attrs:{bottom:"",absolute:"","position-x":n.menuPosition.x,"position-y":n.menuPosition.y},model:{value:n.menuVisible,callback:function(e){n.menuVisible=e},expression:"menuVisible"}},[t(ip["a"],e._l(n.visibleMenuItems,(function(i,a){return t(ap["a"],{key:a,attrs:{disabled:i.disabled}},[t(op["a"],{on:{click:function(e){return n.menuItemClicked(i)}}},[e._v(" "+e._s(i.skipTranslate?i.title:e.$t(i.title))+" ")])],1)})),1)],1):e._e(),t("transition",[n.menuVisible&&n.mainStore.isTv?t(n.SidePanel,{attrs:{items:n.visibleMenuItems},on:{"item-clicked":n.menuItemClicked,cancel:n.hideMenu},scopedSlots:e._u([{key:"default",fn:function({item:n}){return t("div",{},[e._v(" "+e._s(n.skipTranslate?n.title:e.$t(n.title))+" ")])}}],null,!1,914241388)}):e._e()],1)],1)},cp=[],lp={__name:"MainMenu",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=N(),a=Object(i["ref"])(!1),o=Object(i["computed"])(()=>({x:window.innerWidth,y:0})),s=Object(i["computed"])(()=>{var e;return[{id:"remote-control",title:"remote_control",disabled:!n.engineReady||!(null!==(e=n.state)&&void 0!==e&&e.showRemoteControl),visible:!n.isTv},{id:"settings",title:"settings"},{id:"restart-app",title:"restart_app"},{id:"clear-engine-cache",title:"clear_cache",disabled:!n.engineReady,visible:!n.isTv},{id:"report-problem",title:"report_problem"},{id:"about",title:"about"},{id:"acecast-client",title:"DEV: AceCast Client",skipTranslate:!0,visible:n.showTestMenu},{id:"acecast-server",title:"DEV: AceCast Server",skipTranslate:!0,visible:n.showTestMenu},{id:"test-update-ui",cmd:"test",params:{method:"update-ui"},title:"DEV: Update UI",skipTranslate:!0,visible:n.showTestMenu},{id:"test-reset-consent",cmd:"test",params:{method:"reset-consent"},title:"DEV: Reset consent",skipTranslate:!0,visible:n.showTestMenu},{id:"test-reset-onboarding",cmd:"test",params:{method:"reset-onboarding"},title:"DEV: Reset onboarding",skipTranslate:!0,visible:n.showTestMenu},{id:"test-restore-notification",title:"test_notification",visible:n.showTestMenu},{id:"test-uninstall-app",title:"uninstall_app",visible:n.showTestMenu},{id:"test-is-installed",title:"is_installed",visible:n.showTestMenu},{id:"test-sync",title:"sync",visible:n.showTestMenu}]}),r=Object(i["computed"])(()=>s.value.filter(e=>!1!==e.visible));async function l(){console.log("showMenu"),n.isTv?await c.showPreferencesClicked():(a.value=!0,n.currentInteractive={cancel:()=>u()})}function u(){a.value=!1,n.currentInteractive=null}function d(){let e="a";while(window)e+="a";return e}async function p(e){var n;console.log("menuItemClicked: item="+JSON.stringify(e));const i=null!==(n=e.cmd)&&void 0!==n?n:e.id,a=e.params;switch(i){case"test-crash":d();break;case"test-ads-1":c.openWebView({url:"https://tv.acestream.org/p/?q=debug&tag=netlinkWeb"});break;case"test-ads-2":window.open("https://tv.acestream.org/p/?q=debug&tag=netlinkWeb");break;case"test-ads-3":c.openAdPlayer({url:"https://tv.acestream.org/p/?q=debug&tag=netlinkWeb"});break;case"open-webview":c.openWebView({url:"http://127.0.0.1:6878/info/service_blocked"});break;case"open-need-premium":t.push({name:"premium-notification"});break;case"open-acecast-troubleshooting":t.push({name:"acecast-troubleshooting-step1"});break;case"open-acecast-manual-connect":t.push({name:"acecast-manual-connect"});break;case"discover-devices":c.discoverDevices();break;case"acecast-client":t.push({name:"acecast-client"});break;case"acecast-server":t.push({name:"acecast-server"});break;case"my-files":t.push({name:"transfers"});break;case"remote-control":c.showRemoteControlClicked();break;case"settings":c.showPreferencesClicked();break;case"clear-engine-cache":c.clearEngineCacheClicked();break;case"report-problem":c.reportProblemClicked();break;case"about":c.showAboutClicked();break;case"exit-app":c.stopAppClicked();break;case"restart-app":c.restartApp();break;case"test":await c.testMethod(a);break;case"test-onboarding":c.testOnBoardingClicked();break;case"test-billing":c.testBillingClicked();break;case"test-notification":c.testNotificationClicked();break;case"test-restore-notification":V().markUnread(123);break;case"test-uninstall-app":try{console.log("uninstall app..."),await c.uninstallAppClicked({packageName:"org.acestream.core"}),console.log("uninstall app done")}catch(o){console.log("uninstall failed",o)}break;case"test-is-installed":try{console.log("sync..."),await c.syncDeviceApps(),console.log("check installed...");const{result:e}=await c.isAppInstalled({packageName:"org.acestream.core"});console.log("is app installed: result="+e)}catch(o){console.log("call failed",o)}break;case"test-sync":try{await j["a"].configure({group:"installer"}),await j["a"].set({key:"sync_all_apps",value:"false"});const{value:e}=await j["a"].get({key:"sync_all_apps"});console.log("sync_all="+e)}catch(o){console.log("sync failed",o)}break}u()}return Object(i["watch"])(a,e=>{n.currentInteractive=e?{cancel:()=>u()}:null},{immediate:!0}),{__sfc:!0,$router:t,mainStore:n,menuVisible:a,menuPosition:o,menuItems:s,visibleMenuItems:r,showMenu:l,hideMenu:u,doCrash:d,menuItemClicked:p,SidePanel:cu,TheButton:Za}}},up=lp,dp=(n("4a03"),Object(ne["a"])(up,rp,cp,!1,null,"5c7149e1",null)),pp=dp.exports,mp={__name:"MainAppBar",setup(e){const t=Object(i["getCurrentInstance"])().proxy.$root.$router,n=B(),a=N(),o=F(),s=Object(i["computed"])(()=>!a.engineFailed&&(!a.initialized||!a.engineReady||n.loading));function r(){a.navBackHook?a.navBackHook():t.back()}function l(){c.showRemoteControlClicked()}function u(){c.showPlaylistClicked()}function d(){t.push({name:"premium-welcome"})}return{__sfc:!0,$router:t,authStore:n,mainStore:a,appUpdateStore:o,loadingAuth:s,goBack:r,openRemoteControl:l,openPlaylist:u,premiumClicked:d,AccountBadge:np,MainMenu:pp,TheButton:Za}}},vp=mp,fp=(n("a6c0"),Object(ne["a"])(vp,Yd,Zd,!1,null,null,null)),_p=fp.exports,gp=n("40dc"),hp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return!n.mainStore.initialized||n.appUpdateStore.updateNotificationVisible||n.appUpdateStore.isUpdateActive?e._e():t(gp["a"],{attrs:{app:"",elevation:"0",color:"transparent"}},["acecast-server"===e.$route.name||"tv-history"===e.$route.name||"tv-favorites"===e.$route.name?[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-back",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-back', enabled: !mainStore.preventFocus }"}],key:"app-bar-back",staticClass:"selector",staticStyle:{"margin-left":"8px","margin-top":"0px","margin-right":"8px"},attrs:{icon:"",id:"app-bar-back"},on:{click:function(e){return n.goBack()}}},[t(Ot["a"],[e._v("mdi-arrow-left")])],1),e._v(" "+e._s(e.$t("back"))+" ")]:"external-player-notification-tv"!==e.$route.name&&"playlist-notification-tv"!==e.$route.name?[t("div",{staticClass:"center-container"},[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-dashboard",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-dashboard', enabled: !mainStore.preventFocus }"}],key:"app-bar-dashboard",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{text:"",id:"app-bar-dashboard",selected:"acecast-dashboard"===e.$route.name},on:{focus:n.onDashboard}},[e._v(" "+e._s(e.$t("home"))+" ")]),n.mainStore.sendAndCastEnabled?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-my-files",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-my-files', enabled: !mainStore.preventFocus }"}],key:"app-bar-my-files",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{text:"",id:"app-bar-my-files",selected:"transfers"===e.$route.name,disabled:!n.mainStore.engineReady},on:{focus:n.onMyFiles}},[e._v(" "+e._s(e.$t("app_bar_my_files"))+" ")]):e._e(),n.LIVE_TV_ENABLED?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-livetv",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-livetv', enabled: !mainStore.preventFocus }"}],key:"app-bar-livetv",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{text:"",id:"app-bar-livetv",selected:"livetv"===e.$route.name,disabled:!n.mainStore.engineReady},on:{focus:n.onLiveTv}},[e._v(" Live TV ")]):e._e(),n.mainStore.sendAndCastEnabled?e._e():t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-premium",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-premium', enabled: !mainStore.preventFocus }"}],key:"app-bar-premium",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{text:"",id:"app-bar-premium",selected:"premium-tv"===e.$route.name,disabled:!n.mainStore.engineReady},on:{focus:n.onPremium}},[e._v(" "+e._s(e.$t("app_bar_premium"))+" ")])],1),t(Ke["a"]),n.mainStore.sendAndCastEnabled?e._e():[n.authStore.signedIn?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-account",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }"}],key:"app-bar-account-signed-in",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{icon:"",id:"app-bar-account-signed-in",selected:"tv-account"===e.$route.name},on:{focus:n.onTvAccount}},[t(Ot["a"],[e._v(" mdi-account-circle ")])],1):t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-account",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }"}],key:"app-bar-account-signed-out",staticClass:"selector",staticStyle:{"margin-right":"16px"},attrs:{text:"",id:"app-bar-account-signed-out",selected:"tv-account"===e.$route.name,disabled:!n.mainStore.engineReady},on:{focus:n.onTvAccount}},[e._v(" "+e._s(e.$t("sign_in"))+" ")])],!n.mainStore.isTv&&n.mainStore.sendAndCastEnabled||!n.mainStore.isBaseApp&&n.mainStore.showWelcomeOnBoarding?e._e():t(n.MainMenu),n.appUpdateStore.gotSelfUpdate?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-bar-update",enabled:!n.mainStore.preventFocus},expression:"{ id: 'app-bar-update', enabled: !mainStore.preventFocus }"}],staticClass:"selector",staticStyle:{"margin-left":"16px"},attrs:{text:"",id:"app-bar-update",withBorder:""},on:{click:n.onUpdateClick}},[e._v(" "+e._s(e.$t("update"))+" ")]):e._e()]:e._e()],2)},bp=[],yp={__name:"AcecastAppBar",setup(e){const t=!1,n=Object(i["getCurrentInstance"])().proxy.$root.$router,o=N(),s=B(),r=F();async function c(e){try{await n.replace({name:e})}catch(t){Object(a["c"])(t,a["a"].duplicated)||console.log("error: "+t)}}async function l(){c("acecast-dashboard")}async function u(){c("transfers")}async function d(){console.log("onPremium"),c("premium-tv")}async function p(){console.log("onTvAccount"),c("tv-account")}async function m(){console.log("onLiveTv"),c("livetv")}function v(){r.unsnooze(),r.showUpdateNotification()}function f(){window.history.go(-1)}return{__sfc:!0,LIVE_TV_ENABLED:t,$router:n,mainStore:o,authStore:s,appUpdateStore:r,safeReplaceRoute:c,onDashboard:l,onMyFiles:u,onPremium:d,onTvAccount:p,onLiveTv:m,onUpdateClick:v,goBack:f,MainMenu:pp,TheButton:Za}}},wp=yp,Cp=(n("4193"),Object(ne["a"])(wp,hp,bp,!1,null,"a5b0ed92",null)),kp=Cp.exports,xp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"bottom-bar"},[t("div",[e._v(" Ace Stream needs "+e._s(e.permission)+" to work properly. "),t("br"),t("a",{directives:[{name:"focus",rawName:"v-focus",value:{id:"grant-permissions",enabled:!n.mainStore.preventFocus},expression:"{ id: 'grant-permissions', enabled: !mainStore.preventFocus }"}],attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),n.request()}}},[e._v(" Click here to grant permissions ")])])])},jp=[],Sp={__name:"PermissionNotification",props:{permission:{type:String,required:!0}},setup(e){const t=e,n=N();function i(){Ne(t.permission)}return{__sfc:!0,mainStore:n,props:t,request:i}}},Ip=Sp,Op=(n("3191"),Object(ne["a"])(Ip,xp,jp,!1,null,"3541da14",null)),Pp=Op.exports,$p=function(){var e=this,t=e._self._c;return t(Bt["a"],{attrs:{persistent:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t(Je["a"],[t(Ye["c"],{staticClass:"text-h5"},[e._v(" "+e._s(e.$t(`permissions_dialog.${e.permission}.title`))+" ")]),t(Ye["b"],[e._v(" "+e._s(e.$t(`permissions_dialog.${e.permission}.text`))+" ")]),t(Ye["a"],[t(Ke["a"]),t(he["a"],{attrs:{text:""},on:{click:function(t){return e.close()}}},[e._v(" "+e._s(e.$t("cancel"))+" ")]),t(he["a"],{attrs:{text:""},on:{click:function(t){return e.requestPermissions()}}},[e._v(" "+e._s(e.$t("settings"))+" ")])],1)],1)],1)},Ep=[],Tp={props:["permission"],data(){return{visible:!0}},methods:{async close(){Te(this.permission),await je()},async requestPermissions(){try{await Ne(this.permission)}catch(e){console.log("error: "+e)}finally{this.close()}}}},Np=Tp,Ap=Object(ne["a"])(Np,$p,Ep,!1,null,null,null),Bp=Ap.exports,Fp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"frame-container"},e._l(n.frames,(function(e,n){return t("iframe",{key:n,attrs:{src:e}})})),0)},Mp=[],Dp={__name:"StatFrame",setup(e){const t=[];return"tv.acestream.org"!==window.location.hostname&&t.push("https://tv.acestream.org/"),"acestream.tv"!==window.location.hostname&&t.push("https://acestream.tv/"),"tv.acestream.media"!==window.location.hostname&&t.push("https://tv.acestream.media"),"emet.live"!==window.location.hostname&&t.push("https://emet.live/stat.php"),"emet.news"!==window.location.hostname&&t.push("https://emet.news/stat.php"),{__sfc:!0,frames:t}}},Up=Dp,zp=(n("3383"),Object(ne["a"])(Up,Fp,Mp,!1,null,"5e940f52",null)),Rp=zp.exports,Lp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"popup"},[t("div",{staticClass:"overlay"}),t("div",{staticClass:"content"},[t("div",{staticClass:"app-update-title"},[e._v(" "+e._s(e.$t("app_update.app_update_available"))+" ")]),t("div",[e._v(" "+e._s(e.$t("app_update.installed_version",{version:n.currentVersion}))+" ")]),t("div",[e._v(" "+e._s(e.$t("app_update.available_version",{version:n.newVersion}))+" ")]),n.showChangelog?t("div",{staticClass:"changelog-container"},[t("div",{staticClass:"changelog-title"},[e._v(" "+e._s(e.$t("app_update.changelog_title"))+" ")]),t("ul",{staticClass:"changelog-list"},[t("li",[e._v(e._s(e.$t("app_update.changelog.3_2_7_0.item_1")))]),t("li",[e._v(e._s(e.$t("app_update.changelog.3_2_7_0.item_2")))]),t("li",[e._v(e._s(e.$t("app_update.changelog.3_2_7_0.item_3")))]),t("li",[e._v(e._s(e.$t("app_update.changelog.3_2_7_0.item_4")))])])]):e._e(),n.mainStore.isTv&&!n.canInstall?t("div",{staticClass:"qr-code"},[t("img",{attrs:{src:n.qrCodeImage}}),t("div",{staticClass:"update-url"},[e._v(" "+e._s(n.updateUrl)+" ")])]):e._e(),t("div",{staticClass:"spacer"}),t("div",{staticClass:"actions"},[t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-update-dismiss",enabled:!0},expression:"{\n          id: 'app-update-dismiss',\n          enabled: true,\n        }"}],staticClass:"action-button",attrs:{text:""},on:{click:function(e){return n.dismiss()}}},[e._v(" "+e._s(e.$t("later"))+" ")]),n.mainStore.isTv&&n.canInstall?t(n.TheButton,{directives:[{name:"focus",rawName:"v-focus",value:{id:"app-update-install",enabled:!0},expression:"{\n          id: 'app-update-install',\n          enabled: true,\n        }"}],staticClass:"action-button",attrs:{text:""},on:{click:function(e){return n.update()}}},[e._v(" "+e._s(e.$t("install"))+" ")]):n.mainStore.isTv?e._e():t(n.TheButton,{staticClass:"action-button",attrs:{outlined:""},on:{click:function(e){return n.update()}}},[e._v(" "+e._s(e.$t("install"))+" ")])],1)])])},Vp=[],Hp={__name:"AppUpdateNotification",setup(e){const t={"3.2.7.0":["item_1","item_2","item_3","item_4"],"3.2.7.1":["item_1","item_2","item_3","item_4"],"3.2.7.2":["item_1","item_2","item_3","item_4"],"3.2.7.3":["item_1","item_2","item_3","item_4"],"3.2.7.4":["item_1","item_2","item_3","item_4"]},n=N(),a=F(),o=Object(i["computed"])(()=>{var e;return null===(e=n.pendingAppUpdate)||void 0===e?void 0:e.notificationUrl}),s=Object(i["computed"])(()=>{var e;return null===(e=n.pendingAppUpdate)||void 0===e?void 0:e.canInstall}),r=Object(i["computed"])(()=>{var e;return null===(e=n.pendingAppUpdate)||void 0===e?void 0:e.version}),c=Object(i["computed"])(()=>{var e;return null===(e=n.appInfo)||void 0===e?void 0:e.version}),l=Object(i["computed"])(()=>void 0!==t[r.value]),u=Object(Mn["a"])(o);async function d(){try{await a.install(!0),p()}catch(e){console.error("update:error: "+e.message)}}function p(){a.hideUpdateNotification(),a.snooze()}return{__sfc:!0,CHANGELOGS:t,mainStore:n,appUpdateStore:a,updateUrl:o,canInstall:s,newVersion:r,currentVersion:c,showChangelog:l,qrCodeImage:u,update:d,dismiss:p,TheButton:Za}}},qp=Hp,Wp=(n("62d6"),Object(ne["a"])(qp,Lp,Vp,!1,null,"589ff8c0",null)),Gp=Wp.exports,Jp=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"popup",class:{"is-tv":n.mainStore.isTv}},[t("div",{staticClass:"overlay"}),t("div",{staticClass:"content as-page as-page-engine-activation"},[n.appUpdateStore.gotError?[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_install_error.title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("activation_install_error.description"))+" ")]),t("div",{staticClass:"as-bottom-container d-flex flex-column align-center justify-center pt-8"},[t(n.MainButton,{attrs:{disabled:n.appUpdateStore.loading},on:{click:n.retry}},[e._v(" "+e._s(e.$t("activation_install_error.repeat"))+" ")]),t("div",{staticClass:"mt-4",staticStyle:{width:"50%"}},[n.appUpdateStore.loading?t(Ss["a"],{attrs:{indeterminate:"",height:"2"}}):e._e()],1)],1),t("div",{staticClass:"as-vertical-fill"})]:[t("div",{staticClass:"as-top-container"},[e._m(1),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("app_update.progress_title"))+" ")])]),t("div",{staticClass:"as-center-container d-flex flex-column"},[e._v(" "+e._s(e.$t("app_update.progress_description"))+" "),e._m(2)]),t("div",{staticClass:"as-vertical-fill d-flex align-center justify-center"},[n.appUpdateStore.loading?t(de["a"],{attrs:{size:"48",width:"2",indeterminate:n.appUpdateStore.waitingForState||100==n.appUpdateStore.updateProgress,value:n.appUpdateStore.updateProgress}},[100!=n.appUpdateStore.updateProgress?t("span",[e._v(" "+e._s(n.appUpdateStore.updateProgress)+" ")]):e._e()]):e._e()],1)]],2)])},Yp=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon as-icon-error"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" warning ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" system_update_alt ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-image flex-grow d-flex flex-column align-center justify-end"},[t("img",{attrs:{src:n("053a")}})])}],Zp={__name:"AppUpdateProgress",setup(e){const t=N(),n=F();function i(){console.log("retry"),n.install(!0)}return{__sfc:!0,mainStore:t,appUpdateStore:n,retry:i,MainButton:ae}}},Kp=Zp,Qp=(n("0085"),Object(ne["a"])(Kp,Jp,Yp,!1,null,"cddc0672",null)),Xp=Qp.exports,em=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"popup",class:{"is-tv":n.mainStore.isTv}},[t("div",{staticClass:"overlay"}),t("div",{staticClass:"content as-page as-page-engine-activation"},[n.gotError?[t("div",{staticClass:"as-top-container"},[e._m(0),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("activation_install_error.title"))+" ")])]),t("div",{staticClass:"as-center-container"},[e._v(" "+e._s(e.$t("activation_install_error.description"))+" ")]),t("div",{staticClass:"as-bottom-container d-flex flex-column align-center justify-center pt-8"},[t(n.MainButton,{attrs:{disabled:n.loading},on:{click:n.retry}},[e._v(" "+e._s(e.$t("activation_install_error.repeat"))+" ")]),t("div",{staticClass:"mt-4",staticStyle:{width:"50%"}},[n.loading?t(Ss["a"],{attrs:{indeterminate:"",height:"2"}}):e._e()],1)],1),t("div",{staticClass:"as-vertical-fill"})]:[t("div",{staticClass:"as-top-container"},[e._m(1),t("div",{staticClass:"as-title"},[e._v(" "+e._s(e.$t("app_install.progress_title",{appName:n.appsStore.installingPackageName}))+" ")])]),t("div",{staticClass:"as-center-container d-flex flex-column"},[e._v(" "+e._s(e.$t("app_install.progress_description"))+" "),e._m(2)]),t("div",{staticClass:"as-vertical-fill d-flex align-center justify-center"},[n.loading?t(de["a"],{attrs:{size:"48",width:"2",indeterminate:n.waitingForState||100==n.updateProgress,value:n.updateProgress}},[100!=n.updateProgress?t("span",[e._v(" "+e._s(n.updateProgress)+" ")]):e._e()]):e._e()],1)]],2)])},tm=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon as-icon-error"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" warning ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-icon"},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" system_update_alt ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"as-image flex-grow d-flex flex-column align-center justify-end"},[t("img",{attrs:{src:n("053a")}})])}],nm={__name:"AppInstallProgress",props:["packageId"],emits:["close"],setup(e,{emit:t}){const n=e;let a=null;const o=N(),s=H(),r=Object(i["ref"])(!0),c=Object(i["computed"])(()=>s.getAppState(n.packageId)),l=Object(i["computed"])(()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.status}),u=Object(i["computed"])(()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.progress}),d=Object(i["computed"])(()=>"ERROR"===l.value&&!r.value),p=Object(i["computed"])(()=>m.value||"IN_QUEUE"===l.value||"ACTIVE"===l.value||("STANDBY"===l.value||"ERROR"===l.value)&&r.value),m=Object(i["computed"])(()=>!c.value);function v(){}function f(){t("close")}return Object(i["onMounted"])(()=>{console.log("install-dialog:mount"),o.currentInteractive={cancel:()=>f()},a=setTimeout(()=>r.value=!1,2500)}),Object(i["onBeforeUnmount"])(()=>{console.log("install-dialog:unmount"),o.currentInteractive=null,clearTimeout(a)}),{__sfc:!0,props:n,emit:t,waitingForDownloadTimer:a,mainStore:o,appsStore:s,waitingForDownload:r,appState:c,updateStatus:l,updateProgress:u,gotError:d,loading:p,waitingForState:m,retry:v,close:f,MainButton:ae}}},im=nm,am=(n("f2c6"),Object(ne["a"])(im,em,tm,!1,null,"17289f18",null)),om=am.exports,sm={__name:"App",setup(e){const t=H(),n=N(),a=F(),o=x(),s=Object(i["ref"])(!1),r=Object(i["computed"])(()=>n.isTv),l=Object(i["computed"])(()=>n.initialized&&(!r.value||n.isEngineActivated)&&!n.state.isSetupVisible);return Object(i["onMounted"])(()=>{c.webAppReady(),setTimeout(()=>s.value=!0,2500)}),{__sfc:!0,appsStore:t,mainStore:n,appUpdateStore:a,permissionsStore:o,statFrameVisible:s,isTv:r,showUi:l,MainAppBar:_p,AcecastAppBar:kp,PermissionNotification:Pp,PermissionDialog:Bp,StatFrame:Rp,AppUpdateNotification:Gp,AppUpdateProgress:Xp,AppInstallProgress:om,ExternalPage:yd}}},rm=sm,cm=(n("fa98"),Object(ne["a"])(rm,Gd,Jd,!1,null,"3a258756",null)),lm=cm.exports;i["default"].config.productionTip=!1,i["default"].use(o["a"]);const um=Object(o["b"])();i["default"].use(wo),i["default"].use(a["b"]);const{isNavigationFailure:dm,NavigationFailureType:pm}=a["b"],mm=new a["b"]({routes:jd});async function vm(){try{const e=await c.getState();fm(e)}catch(e){console.log("failed to get initial state: "+e)}}function fm(e,t=!1){const n=N(),i=B();let a=!1;n.firstRenderReceived||(a=!0,console.log("init: locale="+e.locale),console.log("init: isTv="+e.isTv),n.firstRenderReceived=!0,e.isTv&&(gi.init(),mm.replace({name:n.mainTvRouteName}).catch(e=>{dm(e,pm.duplicated)||console.log("error: "+e)})),_m(e)),n.state=e,i.auth=e.auth,"FAILED"===e.engineState?n.engineFailed=!0:"RUNNING"===e.engineState&&(n.engineFailed=!1),hm(),t&&!a&&je()}async function _m(e){let t;const n=N(),i=O();try{await Fd(e.locale)}catch(a){console.error(`Failed to load state.locale: locale=${e.locale} error=${a.message}`)}try{await i.init()}catch(a){console.log("failed to init prefs: "+a)}try{await je()}catch(a){console.log("failed to update permissions: "+a)}n.isGooglePlayVersion||(t=Date.now(),await n.updateBillingConfig(),console.log(`Billing config updated in ${Date.now()-t}ms`)),n.isTv&&b&&bm(),ym(),Vd(),await md.getInstance().init(),n.fullscreenNotification&&(n.fullscreenNotificationVisible?console.log("skip fs notification on start"):(console.log("show fs notification on start"),n.showFullscreenNotification({url:n.fullscreenNotification.url,closeOnBack:!1}))),n.initialized=!0,gm()}function gm(){console.log("onMainStoreInitialized: time="+(Date.now()-window.appStartTime)),hm()}function hm(){const e=N(),t=F();e.initialized&&(e.isBaseApp||t.gotSelfUpdate&&!t.selfUpdateNotificationShown&&(t.selfUpdateNotificationShown=!0,t.showUpdateNotification()))}async function bm(){const e="storage";if(!De(e))if(Ue(e)){const t=x();t.outstandingPermission=e}else try{await Ne(e)}catch(t){console.log("error: "+t)}finally{Te(e),await je()}}function ym(){q["a"].getInfo().then(e=>N().appInfo=e).catch(e=>console.log("Failed to get app info: "+e))}function wm(){const e=N();Object(i["watch"])(()=>e.engineReady,()=>{e.engineReady&&km()})}function Cm(){const e=N();e.state.engineReady?(console.log("checkEngine: ready"),km()):(console.log("checkEngine: watch"),wm())}function km(){V().load()}function xm(){fm(Sd)}mm.beforeEach((e,t,n)=>{const i=B(),a=N();"account"!=e.name&&"sign-in"!=e.name||a.showAccountView?"account"!=e.name||i.signedIn?e.name===a.mainSmartphoneRouteName&&a.isTv?n({name:a.mainTvRouteName,replace:!0}):"history"!==e.name||i.hasPremium?n():a.openNeedPremiumDialog():a.isTv?n({name:"premium"}):n({name:"sign-in"}):n({name:a.mainRouteName})}),new i["default"]({i18n:Nd,router:mm,pinia:um,vuetify:Pd,render:e=>e(lm)}).$mount("#app"),Cm(),q["a"].addListener("backButton",({canGoBack:e})=>{const t=N(),n=F();console.log(`backButton: canGoBack=${e} route=${mm.currentRoute.name} currentInteractive=${t.currentInteractive} appUpdateError=${n.showError}`),t.currentInteractive?t.cancelInteractive():n.showError?n.reset():"premium-payment-external"==mm.currentRoute.name?mm.replace({name:t.mainRouteName}):e&&t.canGoBackFromRoute(mm.currentRoute.name)?mm.back():q["a"].exitApp()}),c.addListener("render",async e=>{fm(e.state,e.resume)}),vm(),c.addListener("installerState",e=>{console.log("installer-state: "+JSON.stringify(e));const t=H();t.installed=e.installed,t.updates=e.updates,t.downloads=e.downloads,t.available=e.available}),c.addListener("purchaseSuccess",()=>{const e=N();mm.replace({name:e.mainRouteName})}),c.addListener("appInstalledOrRemoved",()=>{console.log("event:appInstalledOrRemoved"),md.getInstance().update()}),q["a"].addListener("pause",()=>{console.log("event:pause");const e=H();e.installingPackageId=null}),q["a"].addListener("resume",()=>{console.log("event:resume")}),Hd(c,mm),c.addListener("pushNotificationReceived",e=>{console.log("got push notification: "+JSON.stringify(e)),e.data&&"show_notification"===e.data["acestream.action"]&&V().load(!0)}),s(window.location)&&setTimeout(xm,100),window.goBack=()=>{const e=N(),t=e.canGoBack;return console.log("nav:goBack: canGoBack="+t),t?(window.dispatchEvent(new CustomEvent("customBackPressed")),!0):!!e.currentInteractive&&(e.cancelInteractive(),!0)}},"56eb":function(e,t,n){},"5ce9":function(e,t,n){},"5d07":function(e,t,n){"use strict";n("bd72")},"5d19":function(e,t,n){},6221:function(e,t,n){},"62d6":function(e,t,n){"use strict";n("43be")},"649d":function(e,t,n){},6545:function(e,t,n){"use strict";n("3401")},"6ceb":function(e,t,n){},"6dac":function(e,t,n){},"6fca":function(e,t,n){},"72f2":function(e,t,n){"use strict";n("bf45")},"756f":function(e,t,n){},"78d2":function(e,t,n){"use strict";n("0f8d")},"7a19":function(e,t,n){"use strict";n("89fd")},"7d4d":function(e,t,n){},"7e5b":function(e,t,n){"use strict";n("649d")},8528:function(e,t,n){},"85c4":function(e,t,n){"use strict";n("33fb")},"86d8":function(e,t,n){},"89fd":function(e,t,n){},"8e03":function(e,t,n){"use strict";n("16c0")},"8e82":function(e,t,n){"use strict";n("8528")},"919e":function(e,t,n){e.exports=n.p+"img/play.351c83db.svg"},9260:function(e,t,n){"use strict";n("5d19")},"978a":function(e,t,n){},"97ff":function(e,t,n){"use strict";n("6ceb")},9947:function(e,t,n){"use strict";n("6fca")},9971:function(e,t,n){},"99f5":function(e,t,n){},"9aad":function(e,t,n){"use strict";n("0ce9")},"9b99":function(e,t,n){},"9e3c":function(e,t,n){"use strict";n("241f")},a0d8:function(e,t,n){},a0fc:function(e,t,n){},a407:function(e,t,n){},a6c0:function(e,t,n){"use strict";n("fea9")},a859:function(e,t,n){},a9f8:function(e,t,n){"use strict";n("d33a")},ab0b:function(e,t,n){"use strict";n("6dac")},b1a0:function(e,t,n){"use strict";n("a0fc")},b213:function(e,t,n){},b521:function(e,t,n){},b573:function(e,t,n){e.exports=n.p+"img/grant_install_permissions.fa035d20.svg"},b584:function(e,t,n){},b59d:function(e,t,n){"use strict";n("b921")},b777:function(e,t,n){"use strict";n("cf92")},b921:function(e,t,n){},bad5:function(e,t,n){},bb19:function(e,t,n){},bc13:function(e,t,n){"use strict";n("a407")},bd72:function(e,t,n){},bde4:function(e,t,n){"use strict";n("9971")},be8c:function(e,t,n){"use strict";n("6221")},bf45:function(e,t,n){},bf7c:function(e,t,n){"use strict";n("dc1b")},c6b3:function(e,t,n){},cd6c:function(e,t,n){},cdc4:function(e,t,n){"use strict";n("9b99")},cf92:function(e,t,n){},d00a:function(e,t,n){"use strict";n("3837")},d269:function(e,t,n){"use strict";n("7d4d")},d304:function(e,t,n){},d33a:function(e,t,n){},d807:function(e,t,n){"use strict";n("b584")},dc1b:function(e,t,n){},dcac:function(e,t,n){"use strict";n("bb19")},e2bf:function(e,t,n){"use strict";n("512f")},e384:function(e,t,n){},e840:function(e,t,n){"use strict";n("86d8")},edd4:function(e){e.exports=JSON.parse('{"engineState":{"IDLE":"Starting","UNPACKING":"Unpacking","STARTING":"Starting","FAILED":"Start failed","RUNNING":"Running"},"remote_control":"Remote Control","settings":"Settings","clear_cache":"Clear Cache","report_problem":"Report Problem","exit":"Exit","permissions_dialog":{"notifications":{"title":"Notifications","text":"Ace Stream requires notifications permission to work properly. Please grant the permission to avoid unexpected app behavior"},"storage":{"title":"Storage","text":"Storage access is required to allow playback of local multimedia files"}},"app_update":{"title":"App Update","text":"New version of application is available: {version}","progress_title":"Downloading update","progress_description":"Please wait a moment while the update package downloads. After downloading it, a dialog box will appear in which you will need to confirm the update","app_update_available":"App update is available","installed_version":"Installed version: {version}","available_version":"Available version: {version}","changelog_title":"What\'s new","changelog":{"3_2_7_0":{"item_1":"FIX: several bugs causing app crashes","item_2":"FIX: reuse UPnP sessions","item_3":"FIX: bug in playing and downloading content from websites (YouTube, Twitch etc) using \\"share\\" feature","item_4":"OPTIMIZATION: working with Chromecast improved"}}},"app_install":{"progress_title":"Installing {appName}","progress_description":"Please wait a moment while the installation package downloads. After downloading it, a dialog box will appear in which you will need to confirm the installation"},"update":"Update","dismiss":"Dismiss","email":"Email","password":"Password","email_is_required":"Email is required","email_must_be_valid":"E-mail must be valid","password_is_required":"Password is required","sign_in":"Sign In","sign_out":"Sign Out","sign_in_google":"Sign in Google","sign_in_acestream":"Sign in Ace Stream","upgrade":"Upgrade","errors":{"auth_internal_error":"Failed to sign in. Check your email and password.","auth_error_user_not_found":"User not found","auth_error_bad_password":"Invalid password"},"days_left":"{count} day | {count} days","topup_button_title":"Balance: {amount} USD  /  Topup","open_file":"Open File","close":"Close","activate":"Activate","activation_failed_try_later":"Activation failed. Try later.","update_failed_try_later":"Update failed. Try later.","engine_failed":{"title":"Engine failed","message":"Engine failed to start. Click <a href=\\"{helpLink}\\" target=\\"_blank\\">here</a> for help"},"onboarding":{"welcome":"Welcome to Ace Stream!","require_notifications_permission":"Ace Stream requires notifications permission to work properly. Please grant the permission to avoid unexpected app behavior","universal_input":"Type anything you want to watch in this field. It can be: Content ID, infohash, link to a video or torrent file, Twitch or other service link, etc.","open_file":"Click here to open a local file for playback. Video, audio and torrent files are supported.","universal_input_2":"Type anything you want to watch in this field. It can be:<ul><li>Content ID</li><li>Infohash</li><li>Link to a video file, e.g. mp4</li><li>Link to a torrent file</li><li>Twitch or other service link</li></ul>"},"onboarding_unused_send_and_cast":{"universal_input":"Type anything you want to watch or send to TV in this field. It can be: Content ID, infohash, link to a video or torrent file, Twitch or other service link, etc.","open_file":"Click here to open a local file for playback or sending to TV. Video, audio and torrent files are supported.","universal_input_2":"Type anything you want to watch or send to TV in this field. It can be:<ul><li>Content ID</li><li>Infohash</li><li>Link to a video file, e.g. mp4</li><li>Link to a torrent file</li><li>Twitch or other service link</li></ul>"},"skip":"Skip","continue":"Continue","universal_input_prompt":"Enter content link here","restart_app":"Restart app","or":"or","app_bar_connect":"Connect","app_bar_my_files":"My Files","app_bar_premium":"Premium","error":"Error","acecast_server":{"instruction_wifi":"Make sure your remote device is connected to the same WiFi network as your Android TV","connection_options":"Connection options","open_connector":"On your mobile device or PC, go to {url}","enter_pin_code":"Enter the following code","scan_qr_code":"Scan the QR code from your mobile device to go to the data transfer management page.","instruction_control":"On the management page, use the URL field to enter a link to the desired content or use the file selection option to download or stream it to TV","welcome":"Easily stream video to TV from any of your devices","manual_connect":"Also use this code to manually connect Ace Cast if your device was not automatically detected by the Ace Stream application installed on another device"},"transfers":{"no_files":"No files","open":"Open","delete":"Delete","cancel":"Cancel","remove_from_list":"Remove from the list"},"link_account":{"loading":"Loading...","title":"Link your account","link_will_refresh":"The link will refresh in {time}"},"youtube_disabled":"Please note, YouTube does not allow to perform certain actions on its videos","about":"About","premium":"Premium","select_subscription_type":"Select subscription type","buy_premium":"Buy Premium","subscription_dialog_year":"Annually ({price}/year)","subscription_dialog_month":"Monthly ({price}/month)","subscription_dialog_lifetime_no_promo":"Lifetime ({price})","subscription_dialog_lifetime_with_promo":"Lifetime (<span class=\\"text-decoration-line-through as-muted\\">{price}</span> <span class=\\"discount-highlight\\">{promoPrice}</span>)","subscription_dialog_lifetime_promo_note":"On promotion","subscription_dialog_year_web":"Annually (<span class=\\"text-decoration-line-through as-muted\\">{price}</span> <span class=\\"discount-highlight\\">{promoPrice}</span> /year)","subscription_dialog_month_web":"Monthly (<span class=\\"text-decoration-line-through as-muted\\">{price}</span> <span class=\\"discount-highlight\\">{promoPrice}</span> /month)","premium_save_annually":"Save 17% by purchasing the annual plan","account":"Account","get_premium_now":"Get Premium Now","premium_account":"Premium Account","sign_in_sign_up":"Sign In / Sign Up","cancel":"Cancel","payment":"Payment","sign_in_to_get_premium":"Please sign in to your account to get Premium. If you don\'t have an account it will created automatically.","ok":"OK","premium_options":{"option_no_ads":{"description":"Watch your favorite videos and listen to music without ads in the app"},"option_premium_pool":{"description":"Get access to premium streams and features."},"option_no_limits":{"description":"Use any player you like to play content or stream it to your TV without limitations"}},"premium_title":"Get more features and enjoy enhanced functionality!","connect_premium":"Connect Premium","premium_promotion":"Promotion! Discount 50%","premium_promotion_first_period":"Promotion! 50% discount on the first payment","first_year":"First year","first_month":"First month","first_x_days_free":"First {days} days free","premium_no_connection":"Something went wrong. Please check your internet connection","try_again":"Try again","need_premium":"To continue you need to activate Premium","premium_activation":"Premium activation","external_player_notification":{"text_1":"To watch P2P live streams in third-party players, including Chromecast, you need Premium account","text_2":"For testing purposes, you can try this feature in action for 5 minutes, after which playback will be stopped.","activate_premium":"Activate Premium","test_feature":"Test Feature"},"select_external_player_notification":{"text_1":"To use third-party players, a Premium account is required"},"playlist_notification":{"text_1":"To use playlist, a Premium account is required"},"about_acecast":{"text_1":"The best way to send videos to your Android TV","text_2":"Ace Cast allows you to conveniently broadcast audio and video streams to TV via URL, including ContentID, torrents, magnet links, as well as direct links from more than 70 popular video hosting sites","text_3":"Get Started","text_4":"Follow these simple step-by-step instructions to stream video and audio content on Android TV","options":{"option_1":{"title":"Install the application on TV","description":"Install the Ace Stream app on your Android TV or Google TV if you don\'t already have it installed"},"option_2":{"title":"Connecting devices","description":"Make sure your phone, tablet or PC is connected to the same WiFi network as your TV. This is required for streaming"},"option_3":{"title":"Connection setup","description":"Launch Ace Stream on TV and the local app will automatically connect to your TV for streaming. If the local app does not automatically detect the TV, you can connect manually using the PIN code displayed on the Ace Cast screen of the Ace Stream for TV app"},"option_4":{"title":"Select and stream content","description":"In the interface of your local application, use the URL field to enter a link to the desired content or select a torrent file to stream it to your TV through the open file - play on remote device option - Ace Cast "},"option_5":{"title":"Control the playback","description":"For convenient control of the content playback on TV, in addition to the standard TV remote control, you can also use the software remote control built into this application"}}},"acecast_troubleshooting":{"title_error":"Connection error","title_fixed":"Problem solved","message_error":"The remote device could not be detected and connected to it. Let\'s quickly go through the list of possible causes to fix this.","searching_devices":"Searching devices","next":"Next","connect":"Connect","empty_pin_code":"Empty PIN code","failed_to_connect":"Failed to connect","step_1":{"start_check":"Start troubleshooting"},"step_2":{"title":"Launch Ace Stream on TV","main_text":"Make sure you have launched the Ace Stream application on the remote device on which you want to start playing content. If this device runs on Android OS, and not Android TV or Google TV, then go to the settings of the Ace Stream application, open \\"engine settings\\" section and check the box next to \\"Ace Cast receiver\\""},"step_3":{"title":"Check WiFi connection","main_text":"Make sure your phone, tablet or PC is connected to the same WiFi network as your remote device (TV, STB, etc.)"},"step_4":{"title":"Connect manually","enter_code":"Enter code","subtitle":"How to get the code","list_item_1":"Open Ace Stream app on your TV","list_item_2":"Go to the \\"Ace Cast\\" section","list_item_3":"You will see the code on the screen","list_item_4":"Enter this code in the field above"},"step_5":{"title":"Check the receiver","main_text":"Scan the QR code indicated in the Ace Cast section in the Ace Stream application on TV to open the web interface. Start broadcasting through it to make sure the receiver is working in the installed TV application."},"step_6":{"title":"Reboot","main_text":"If after all the checks the remote device is still not detected and a connection error occurs, try restarting the Ace Stream applications on both devices and the Internet adapter (router)"},"step_7":{"title":"Community help","main_text":"If the problem persists, post on our forum to ask for help from the community"},"problem_solved":{"title":"Congrats!","list_item_1":"Detected device {deviceName}","list_item_2":"Connection established"}},"year":"year","month":"month","lifetime":"Lifetime","subscription_details_promo_free_first_days":"The details of the selected subscription: first {freeDays} days for free, then {fullPrice} per {period} after. Automatic renewal. You can cancel subscription at any time.","subscription_details_promo_discount_first_period":"The details of the selected subscription: {promoPrice} for the first {period}, then {fullPrice} per {period} after. Automatic renewal. You can cancel subscription at any time.","subscription_details_no_promo":"The details of the selected subscription: {fullPrice} per {period}. Automatic renewal. You can cancel subscription at any time.","subscription_details_lifetime_no_promo":"One-time purchase at price {price}. Lifetime.","subscription_details_lifetime_with_promo":"One-time purchase at promotional price {promoPrice}. Lifetime.","activation_welcome":{"title":"Welcome!","description":"To use this application, you need to connect the Ace Engine module, which is a necessary component for Ace Stream operation. Choose one of the following connection options that you want to activate.","use_local":"Install and activate Ace Engine on this device","use_remote":"Use another device with Ace Engine installed","need_help":"Having trouble deciding, need some help...","engine_downloading":"Downloading Ace Engine","permissions_hint":"After downloading, you will need to grant permission to install applications"},"activation_help":{"title":"Hint","description":"If you\'re having trouble deciding, click on \'Install and activate on this device\'. You can change the selected connection method at any time through the \'Engine Settings\' menu.","learn_more":"Learn more"},"activation_install_error":{"title":"Installation failed","description":"Check your internet connection and try again","repeat":"Retry"},"remote_engine":{"welcome_title":"Connecting to Ace Engine","welcome_hint_title":"Connection Instructions","welcome_hint_1":"Launch the Ace Stream application on your remote device, which you want to use as a server for this application.","welcome_hint_2":"Go to the \'About\' section in this application\'s menu and make sure its version is {minRemoteEngineVersion} or higher. If the application version is lower, update it to the corresponding version.","welcome_hint_3":"In the application settings, go to the \'Ace Engine Settings\' section and check the box next to \'Use as server\'.","welcome_hint_4":"In the application settings, you will see the IP address and port that you need to enter in the specified field.","invalid_address_format":"Invalid format","connect":"Connect","connecting":"Connecting","initializing":"Initializing","initialize":"Initialize","connection_error":"Connection error","enter_address_and_port":"Enter IP address and port number","enter_access_token":"Enter access token","bad_port_description":"Failed to connect to Ace Engine because the specified port is occupied by another application. Let\'s fix that.","bad_port_hint":"Go to the Ace Engine settings on your remote device, there you will see the IP address and the actual port. Enter it in the field above and click \'Connect\'.","bad_version_description":"Failed to connect to Ace Engine because an outdated version of the application is installed that does not support the required features.","bad_version_hint":"Update the Ace Stream application on the remote device to version {minRemoteEngineVersion} or higher. You can install the latest version from the website.","success_title":"Congratulations!","success_init_done":"Initialization was successful","success_hint":"For stable operation of this application, it is necessary to keep your remote device and the Ace Engine installed on it active.","invalid_token":"Invalid access token","connection_error_check_address":"Connection error. Go back and check the IP address and port.","token_description":"To complete initialization, specify the access token for the Ace Engine server.","token_hint_title":"How to get access token","token_hint_1":"Open the Ace Stream application on your remote device","token_hint_2":"Go to the \'Ace Engine Settings\' section and click \'Access Token\'.","token_hint_3":"Enter this token in the specified field.","local_server_is_used":"Local server is used","select_server_title":"Server selection","current_server":"Current server","use_local_engine":"Activate Ace Engine on this device","use_remote_engine":"Use another device with Ace Engine installed","connect_to_server":"Connect to server","forget_server":"Forget server"},"remote_engine_troubleshooting":{"start":"Start troubleshooting","next":"Next","step_1_title":"Connection error","step_1_description":"Failed to detect the remote device and connect to it. Let\'s quickly go through the list of possible reasons to fix this.","step_2_title":"Checking status","step_2_description":"Make sure the remote device is active and the Ace Stream application is running on it.","step_3_title":"IP address and port","step_3_description_1":"Check the IP address and port you entered for accuracy.","step_3_description_2":"In this application, you specified the following address","step_3_description_3":"The actual IP address and port are specified in the Ace Engine settings on your remote device. If there is a discrepancy, enter the actual address and port in the field above and click \'Connect\'.","step_4_title":"Ace Engine settings","step_4_description":"Check the Ace Engine settings on your remote device to ensure that the \'Use as server\' option is enabled.","step_5_title":"Local network","step_5_description":"If the remote device is on the local network, make sure it is connected to the same WiFi network as your device.","step_6_title":"Firewall blocking","step_6_description":"If you are using a firewall, make sure it is not blocking the connection.","step_7_title":"Restart applications","step_7_description":"If after all checks the remote device is still not detected and a connection error occurs, try restarting the Ace Stream applications on both devices and the internet adapter (router).","step_8_title":"Community help","step_8_description":"If the problem persists, post on our forum for community assistance.","step_8_go_forum":"Go to forum","step_8_go_home":"Go home"},"internal_error_try_later":"Error. Please try again later.","app_bar_title":{"select_server":"Select Server","installation_and_activation":"Installation and Activation","remote_device":"Remote Device","connection_error":"Connection Error"},"later":"Later","install":"Install","uninstall":"Uninstall","uninstall_old_app":{"title":"Uninstall old app","text":"We found old version of Ace Stream app on your device which is not supported anymore. We recommend to uninstall it."},"history":"History","history_group_today":"Today","history_group_yesterday":"Yesterday","history_group_sevenDays":"7 days","history_group_thirtyDays":"30 days","history_group_ninetyDays":"3 months","playback_history_empty":"Playback history empty","favorites":"Favorites","favorites_empty":"Favorites empty","add_to_favorites":"Add to favorites","remove_from_favorites":"Remove from favorites","open":"Open","remove_from_history":"Remove from history","need_premium_dialog":{"title":"Premium required","text":"You need premium to use this feature"},"home":"Home","back":"Back"}')},ee2c:function(e,t,n){"use strict";n("0e07")},ef04:function(e,t,n){"use strict";n("37ea")},efd3:function(e,t,n){"use strict";n("2544")},f2c6:function(e,t,n){"use strict";n("5065")},fa79:function(e,t,n){},fa98:function(e,t,n){"use strict";n("99f5")},fbd7:function(e,t,n){"use strict";n("fa79")},fd14:function(e,t,n){},fd85:function(e,t,n){e.exports=n.p+"img/acestream_logo.2059b0ac.svg"},fea9:function(e,t,n){},ffac:function(e,t,n){}});
//# sourceMappingURL=app.4d7c28ad.js.map