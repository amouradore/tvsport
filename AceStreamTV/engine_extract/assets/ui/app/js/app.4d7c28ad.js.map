{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/app-update/AppUpdateProgress.vue?e781","webpack:///./src/pages/TransfersScreen.vue?0869","webpack:///./src/components/ExternalPage.vue?e3c2","webpack:///./src/assets/img/update_dialog_2.png","webpack:///./src/pages/notification/ExternalPlayerTv.vue?92fb","webpack:///./src/components/PopupDialog.vue?a75b","webpack:///./src/pages/engine-activation/ConnectWelcome.vue?dbe4","webpack:///./src/pages/FavoritesScreen.vue?0754","webpack:///./src/pages/premium/PremiumWelcome.vue?e2a3","webpack:///./src/pages/acecast/AceCastServerScreen.vue?e4a5","webpack:///./src/pages/history-tv/TvHistory.vue?448b","webpack:///./src/components/InputPanel.vue?b5c4","webpack:///./src/lib/navigator.js","webpack:///./src/pages/engine-activation/ConnectErrorVersion.vue?33c9","webpack:///./src/pages/acecast/troubleshooting/WizardStep4.vue?5af9","webpack:///./src/pages/acecast/DashboardScreen.vue?40a0","webpack:///./src/pages/favorites-tv/TvFavoritesNeedPremium.vue?1a43","webpack:///./src/pages/tv-account/SignInScreen.vue?0375","webpack:///./src/components/PermissionNotification.vue?5158","webpack:///./src/components/StatFrame.vue?be1a","webpack:///./src/pages/premium/PremiumWelcome.vue?ef8c","webpack:///./src/pages/HistoryScreen.vue?a3b4","webpack:///./src/locales lazy ^\\.\\/.*\\.json$ namespace object","webpack:///./src/components/AcecastAppBar.vue?c67f","webpack:///./src/pages/engine-activation/SelectServer.vue?31cb","webpack:///./src/components/MainMenu.vue?212c","webpack:///./src/pages/premium-tv/LinkPremiumScreenTv.vue?e8e7","webpack:///./src/pages/history-tv/TvHistoryNeedPremium.vue?17cf","webpack:///./src/pages/premium/PremiumPaymentOnline.vue?5d5d","webpack:///./src/mock/utils.js","webpack:///../../src/index.ts","webpack:///./src/lib/auth.js","webpack:///./src/lib/backend-state.js","webpack:///./src/config.js","webpack:///./src/stores/permissions.js","webpack:///./src/stores/prefs.js","webpack:///./src/lib/billing.js","webpack:///./src/stores/main.js","webpack:///./src/stores/auth.js","webpack:///./src/stores/app-update.js","webpack:///./src/lib/engine.js","webpack:///./src/stores/notifications.js","webpack:///./src/stores/apps.js","webpack:///./src/pages/AccountScreen.vue","webpack:///./src/components/MainButton.vue","webpack:///MainButton.vue","webpack:///./src/components/MainButton.vue?8244","webpack:///./src/components/MainButton.vue?ae9d","webpack:///AccountScreen.vue","webpack:///./src/pages/AccountScreen.vue?d11d","webpack:///./src/pages/AccountScreen.vue?f572","webpack:///./src/pages/MainScreenPlaceholder.vue","webpack:///./src/pages/engine-activation/ActivationWelcome.vue","webpack:///ActivationWelcome.vue","webpack:///./src/pages/engine-activation/ActivationWelcome.vue?d6ad","webpack:///./src/pages/engine-activation/ActivationWelcome.vue?35de","webpack:///./src/pages/MainScreen.vue","webpack:///./src/lib/permissions.js","webpack:///./src/lib/input-handler.js","webpack:///./src/components/AppIcon.vue","webpack:///./src/components/AppIcon.vue?458c","webpack:///./src/components/AppIcon.vue?8a12","webpack:///./src/components/AppUpdateBanner.vue","webpack:///AppUpdateBanner.vue","webpack:///./src/components/AppUpdateBanner.vue?8ed5","webpack:///./src/components/AppUpdateBanner.vue?f365","webpack:///./src/components/UninstallOldAppBanner.vue","webpack:///UninstallOldAppBanner.vue","webpack:///./src/components/UninstallOldAppBanner.vue?a9bd","webpack:///./src/components/UninstallOldAppBanner.vue?0ab9","webpack:///./src/components/EngineConnectionInfo.vue","webpack:///EngineConnectionInfo.vue","webpack:///./src/components/EngineConnectionInfo.vue?6d4b","webpack:///./src/components/EngineConnectionInfo.vue?92df","webpack:///./src/components/EngineFailedBanner.vue","webpack:///./src/components/EngineFailedBanner.vue?1827","webpack:///./src/components/EngineFailedBanner.vue?c73f","webpack:///./src/components/InputButton.vue","webpack:///src/components/InputButton.vue","webpack:///./src/components/InputButton.vue?7d9b","webpack:///./src/components/InputButton.vue?ecc3","webpack:///./src/components/MessageBanner.vue","webpack:///MessageBanner.vue","webpack:///./src/components/MessageBanner.vue?9163","webpack:///./src/components/MessageBanner.vue?d2f3","webpack:///./src/components/NeedPremiumDialog.vue","webpack:///NeedPremiumDialog.vue","webpack:///./src/components/NeedPremiumDialog.vue?3e40","webpack:///./src/components/NeedPremiumDialog.vue?606f","webpack:///./src/components/PopupDialog.vue","webpack:///PopupDialog.vue","webpack:///./src/components/PopupDialog.vue?f41b","webpack:///./src/components/PopupDialog.vue?0d3a","webpack:///./src/lib/inject.js","webpack:///./src/lib/cmp.js","webpack:///src/pages/MainScreen.vue","webpack:///./src/pages/MainScreen.vue?cf19","webpack:///./src/pages/MainScreen.vue?c621","webpack:///./src/pages/OnBoardingScreen.vue","webpack:///./src/components/GeneralDialog.vue","webpack:///GeneralDialog.vue","webpack:///./src/components/GeneralDialog.vue?0715","webpack:///./src/components/GeneralDialog.vue?ffec","webpack:///src/pages/OnBoardingScreen.vue","webpack:///./src/pages/OnBoardingScreen.vue?2e89","webpack:///./src/pages/OnBoardingScreen.vue?3b7b","webpack:///MainScreenPlaceholder.vue","webpack:///./src/pages/MainScreenPlaceholder.vue?a130","webpack:///./src/pages/MainScreenPlaceholder.vue?0979","webpack:///./src/pages/SignInScreen.vue","webpack:///./src/pages/sign-in/utils.js","webpack:///SignInScreen.vue","webpack:///./src/pages/SignInScreen.vue?c866","webpack:///./src/pages/SignInScreen.vue?33b5","webpack:///./src/pages/SignInUsernameScreen.vue","webpack:///SignInUsernameScreen.vue","webpack:///./src/pages/SignInUsernameScreen.vue?58ca","webpack:///./src/pages/SignInUsernameScreen.vue?cdcc","webpack:///./src/pages/acecast/AceCastServerScreen.vue","webpack:///./src/lib/acecast.js","webpack:///./src/lib/controller.js","webpack:///AceCastServerScreen.vue","webpack:///./src/pages/acecast/AceCastServerScreen.vue?c91c","webpack:///./src/pages/acecast/AceCastServerScreen.vue?1aba","webpack:///./src/pages/acecast/AceCastClientScreen.vue","webpack:///AceCastClientScreen.vue","webpack:///./src/pages/acecast/AceCastClientScreen.vue?ea54","webpack:///./src/pages/acecast/AceCastClientScreen.vue?16cb","webpack:///./src/pages/premium-tv/PremiumScreen.vue","webpack:///./src/pages/premium-tv/LinkPremiumScreenTv.vue","webpack:///./src/lib/link-backend-state.js","webpack:///./src/lib/link-device.js","webpack:///./src/stores/link-device.js","webpack:///LinkPremiumScreenTv.vue","webpack:///./src/pages/premium-tv/LinkPremiumScreenTv.vue?7f9a","webpack:///./src/pages/premium-tv/LinkPremiumScreenTv.vue?8f11","webpack:///./src/pages/premium-tv/PremiumStatusScreenTv.vue","webpack:///PremiumStatusScreenTv.vue","webpack:///./src/pages/premium-tv/PremiumStatusScreenTv.vue?6418","webpack:///./src/pages/premium-tv/PremiumStatusScreenTv.vue?d9a9","webpack:///PremiumScreen.vue","webpack:///./src/pages/premium-tv/PremiumScreen.vue?da17","webpack:///./src/pages/premium-tv/PremiumScreen.vue?570b","webpack:///./src/pages/premium/PremiumWelcome.vue","webpack:///./src/components/MulticolorButton.vue","webpack:///./src/components/MulticolorButton.vue?4b44","webpack:///PremiumWelcome.vue","webpack:///./src/pages/premium/PremiumWelcome.vue?bb80","webpack:///./src/pages/premium/PremiumWelcome.vue?fe9e","webpack:///./src/pages/premium/PremiumPayment.vue","webpack:///./src/pages/premium/PremiumPaymentOnline.vue","webpack:///PremiumPaymentOnline.vue","webpack:///./src/pages/premium/PremiumPaymentOnline.vue?b3c3","webpack:///./src/pages/premium/PremiumPaymentOnline.vue?14ec","webpack:///./src/pages/premium/PremiumPaymentOffline.vue","webpack:///PremiumPaymentOffline.vue","webpack:///./src/pages/premium/PremiumPaymentOffline.vue?75a4","webpack:///./src/pages/premium/PremiumPaymentOffline.vue?7ee0","webpack:///PremiumPayment.vue","webpack:///./src/pages/premium/PremiumPayment.vue?4a16","webpack:///./src/pages/premium/PremiumPayment.vue?1739","webpack:///./src/pages/notification/NeedPremium.vue","webpack:///NeedPremium.vue","webpack:///./src/pages/notification/NeedPremium.vue?7543","webpack:///./src/pages/notification/NeedPremium.vue?d603","webpack:///./src/pages/tv-account/TvAccountScreen.vue","webpack:///./src/pages/tv-account/SignInScreen.vue","webpack:///./src/common/src/components/TheButton.vue","webpack:///./src/common/src/components/TheButton.vue?cf71","webpack:///./src/common/src/components/TheButton.vue?36d4","webpack:///./src/pages/tv-account/SignInScreen.vue?d428","webpack:///./src/pages/tv-account/SignInScreen.vue?7d0a","webpack:///./src/pages/tv-account/AccountScreen.vue","webpack:///./src/pages/tv-account/AccountScreen.vue?df88","webpack:///./src/pages/tv-account/AccountScreen.vue?1c50","webpack:///TvAccountScreen.vue","webpack:///./src/pages/tv-account/TvAccountScreen.vue?7bc1","webpack:///./src/pages/tv-account/TvAccountScreen.vue?54e3","webpack:///./src/pages/livetv/LiveTvScreen.vue","webpack:///./src/common/src/plugins/focus.js","webpack:///./src/pages/navigation/common.js","webpack:///./src/pages/livetv/navigation.js","webpack:///LiveTvScreen.vue","webpack:///./src/pages/livetv/LiveTvScreen.vue?9ead","webpack:///./src/pages/livetv/LiveTvScreen.vue?58c5","webpack:///./src/components/InputPanel.vue","webpack:///src/components/InputPanel.vue","webpack:///./src/components/InputPanel.vue?9c5b","webpack:///./src/components/InputPanel.vue?042c","webpack:///./src/pages/notification/ExternalPlayer.vue","webpack:///ExternalPlayer.vue","webpack:///./src/pages/notification/ExternalPlayer.vue?c577","webpack:///./src/pages/notification/ExternalPlayer.vue?82e6","webpack:///./src/pages/notification/ExternalPlayerTv.vue","webpack:///ExternalPlayerTv.vue","webpack:///./src/pages/notification/ExternalPlayerTv.vue?bfc0","webpack:///./src/pages/notification/ExternalPlayerTv.vue?7fec","webpack:///./src/pages/notification/SelectExternalPlayer.vue","webpack:///SelectExternalPlayer.vue","webpack:///./src/pages/notification/SelectExternalPlayer.vue?4ae0","webpack:///./src/pages/notification/SelectExternalPlayer.vue?dbe3","webpack:///./src/pages/notification/PlaylistNotification.vue","webpack:///PlaylistNotification.vue","webpack:///./src/pages/notification/PlaylistNotification.vue?ec41","webpack:///./src/pages/notification/PlaylistNotification.vue?97a0","webpack:///./src/pages/notification/PlaylistNotificationTv.vue","webpack:///PlaylistNotificationTv.vue","webpack:///./src/pages/notification/PlaylistNotificationTv.vue?581e","webpack:///./src/pages/notification/PlaylistNotificationTv.vue?f533","webpack:///./src/pages/acecast/AceCastManualConnect.vue","webpack:///./src/lib/intent-flags.js","webpack:///./src/pages/acecast/utils.js","webpack:///AceCastManualConnect.vue","webpack:///./src/pages/acecast/AceCastManualConnect.vue?3da4","webpack:///./src/pages/acecast/AceCastManualConnect.vue?3e89","webpack:///./src/pages/acecast/AceCastAbout.vue","webpack:///AceCastAbout.vue","webpack:///./src/pages/acecast/AceCastAbout.vue?0a20","webpack:///./src/pages/acecast/AceCastAbout.vue?9fdb","webpack:///./src/pages/acecast/AceCastTroubleshooting.vue","webpack:///AceCastTroubleshooting.vue","webpack:///./src/pages/acecast/AceCastTroubleshooting.vue?778d","webpack:///./src/pages/acecast/AceCastTroubleshooting.vue?be53","webpack:///./src/pages/acecast/troubleshooting/WizardStep1.vue","webpack:///WizardStep1.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep1.vue?c1e2","webpack:///./src/pages/acecast/troubleshooting/WizardStep1.vue?34bc","webpack:///./src/pages/acecast/troubleshooting/WizardStep2.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep2.vue?4bf9","webpack:///./src/pages/acecast/troubleshooting/WizardStep2.vue?c589","webpack:///./src/pages/acecast/troubleshooting/WizardStep3.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep3.vue?5c7c","webpack:///./src/pages/acecast/troubleshooting/WizardStep3.vue?c9be","webpack:///./src/pages/acecast/troubleshooting/WizardStep4.vue","webpack:///WizardStep4.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep4.vue?8f13","webpack:///./src/pages/acecast/troubleshooting/WizardStep4.vue?ffd1","webpack:///./src/pages/acecast/troubleshooting/WizardStep5.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep5.vue?d416","webpack:///./src/pages/acecast/troubleshooting/WizardStep5.vue?7d72","webpack:///./src/pages/acecast/troubleshooting/WizardStep6.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep6.vue?f802","webpack:///./src/pages/acecast/troubleshooting/WizardStep6.vue?5260","webpack:///./src/pages/acecast/troubleshooting/WizardStep7.vue","webpack:///WizardStep7.vue","webpack:///./src/pages/acecast/troubleshooting/WizardStep7.vue?96cd","webpack:///./src/pages/acecast/troubleshooting/WizardStep7.vue?7653","webpack:///./src/pages/engine-activation/SelectServer.vue","webpack:///SelectServer.vue","webpack:///./src/pages/engine-activation/SelectServer.vue?c2b8","webpack:///./src/pages/engine-activation/SelectServer.vue?ca4d","webpack:///./src/pages/engine-activation/SelectServerRemote.vue","webpack:///./src/pages/engine-activation/utils.js","webpack:///SelectServerRemote.vue","webpack:///./src/pages/engine-activation/SelectServerRemote.vue?79dc","webpack:///./src/pages/engine-activation/SelectServerRemote.vue?ccd1","webpack:///./src/pages/engine-activation/ActivationHelp.vue","webpack:///ActivationHelp.vue","webpack:///./src/pages/engine-activation/ActivationHelp.vue?0acd","webpack:///./src/pages/engine-activation/ActivationHelp.vue?5cd8","webpack:///./src/pages/engine-activation/ActivationInstallError.vue","webpack:///ActivationInstallError.vue","webpack:///./src/pages/engine-activation/ActivationInstallError.vue?eaf2","webpack:///./src/pages/engine-activation/ActivationInstallError.vue?5c5d","webpack:///./src/pages/engine-activation/ConnectWelcome.vue","webpack:///ConnectWelcome.vue","webpack:///./src/pages/engine-activation/ConnectWelcome.vue?345b","webpack:///./src/pages/engine-activation/ConnectWelcome.vue?1156","webpack:///./src/pages/engine-activation/ConnectToken.vue","webpack:///ConnectToken.vue","webpack:///./src/pages/engine-activation/ConnectToken.vue?931d","webpack:///./src/pages/engine-activation/ConnectToken.vue?9e0b","webpack:///./src/pages/engine-activation/ConnectSuccess.vue","webpack:///ConnectSuccess.vue","webpack:///./src/pages/engine-activation/ConnectSuccess.vue?09df","webpack:///./src/pages/engine-activation/ConnectSuccess.vue?2624","webpack:///./src/pages/engine-activation/ConnectErrorPort.vue","webpack:///ConnectErrorPort.vue","webpack:///./src/pages/engine-activation/ConnectErrorPort.vue?3e5e","webpack:///./src/pages/engine-activation/ConnectErrorPort.vue?43e0","webpack:///./src/pages/engine-activation/ConnectErrorVersion.vue","webpack:///ConnectErrorVersion.vue","webpack:///./src/pages/engine-activation/ConnectErrorVersion.vue?5ae1","webpack:///./src/pages/engine-activation/ConnectErrorVersion.vue?c331","webpack:///./src/pages/engine-activation/ConnectErrorNetwork.vue","webpack:///ConnectErrorNetwork.vue","webpack:///./src/pages/engine-activation/ConnectErrorNetwork.vue?436f","webpack:///./src/pages/engine-activation/ConnectErrorNetwork.vue?ab39","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep1.vue","webpack:///ConnectErrorNetworkStep1.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep1.vue?59fa","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep1.vue?466c","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep2.vue","webpack:///ConnectErrorNetworkStep2.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep2.vue?0e69","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep2.vue?be5e","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep3.vue","webpack:///ConnectErrorNetworkStep3.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep3.vue?5a73","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep3.vue?1fbe","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep4.vue","webpack:///ConnectErrorNetworkStep4.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep4.vue?0786","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep4.vue?0f24","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep5.vue","webpack:///ConnectErrorNetworkStep5.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep5.vue?13f8","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep5.vue?8ce4","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep6.vue","webpack:///ConnectErrorNetworkStep6.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep6.vue?2afb","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep6.vue?ef24","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep7.vue","webpack:///ConnectErrorNetworkStep7.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep7.vue?b5c4","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep7.vue?11ce","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep8.vue","webpack:///ConnectErrorNetworkStep8.vue","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep8.vue?95ac","webpack:///./src/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep8.vue?a854","webpack:///./src/pages/TransfersScreen.vue","webpack:///TransfersScreen.vue","webpack:///./src/pages/TransfersScreen.vue?a439","webpack:///./src/pages/TransfersScreen.vue?d5ac","webpack:///./src/pages/HistoryScreen.vue","webpack:///./src/stores/history.js","webpack:///./src/lib/url.js","webpack:///HistoryScreen.vue","webpack:///./src/pages/HistoryScreen.vue?c7ba","webpack:///./src/pages/HistoryScreen.vue?d345","webpack:///./src/pages/history-tv/TvHistoryScreen.vue","webpack:///./src/pages/history-tv/TvHistoryNeedPremium.vue","webpack:///TvHistoryNeedPremium.vue","webpack:///./src/pages/history-tv/TvHistoryNeedPremium.vue?9ed4","webpack:///./src/pages/history-tv/TvHistoryNeedPremium.vue?812c","webpack:///./src/pages/history-tv/TvHistory.vue","webpack:///./src/stores/favorites.js","webpack:///./src/pages/history-tv/SideMenu.vue","webpack:///./src/common/src/components/SidePanel.vue","webpack:///SidePanel.vue","webpack:///./src/common/src/components/SidePanel.vue?9cf9","webpack:///./src/common/src/components/SidePanel.vue?ffef","webpack:///SideMenu.vue","webpack:///./src/pages/history-tv/SideMenu.vue?8fd1","webpack:///./src/pages/history-tv/SideMenu.vue?3a26","webpack:///TvHistory.vue","webpack:///./src/pages/history-tv/TvHistory.vue?cee7","webpack:///./src/pages/history-tv/TvHistory.vue?a4f2","webpack:///TvHistoryScreen.vue","webpack:///./src/pages/history-tv/TvHistoryScreen.vue?d5ce","webpack:///./src/pages/history-tv/TvHistoryScreen.vue?c31d","webpack:///./src/pages/FavoritesScreen.vue","webpack:///FavoritesScreen.vue","webpack:///./src/pages/FavoritesScreen.vue?2bf7","webpack:///./src/pages/FavoritesScreen.vue?9818","webpack:///./src/pages/favorites-tv/TvFavoritesScreen.vue","webpack:///./src/pages/favorites-tv/TvFavoritesNeedPremium.vue","webpack:///TvFavoritesNeedPremium.vue","webpack:///./src/pages/favorites-tv/TvFavoritesNeedPremium.vue?16d2","webpack:///./src/pages/favorites-tv/TvFavoritesNeedPremium.vue?bf10","webpack:///./src/pages/favorites-tv/TvFavorites.vue","webpack:///TvFavorites.vue","webpack:///./src/pages/favorites-tv/TvFavorites.vue?177c","webpack:///./src/pages/favorites-tv/TvFavorites.vue?00e8","webpack:///TvFavoritesScreen.vue","webpack:///./src/pages/favorites-tv/TvFavoritesScreen.vue?27f6","webpack:///./src/pages/favorites-tv/TvFavoritesScreen.vue?7282","webpack:///./src/pages/acecast/DashboardScreen.vue","webpack:///./src/utils/logger.js","webpack:///./src/lib/AppNotificationManager.js","webpack:///./src/components/ExternalPage.vue","webpack:///ExternalPage.vue","webpack:///./src/components/ExternalPage.vue?6848","webpack:///./src/components/ExternalPage.vue?e261","webpack:///DashboardScreen.vue","webpack:///./src/pages/acecast/DashboardScreen.vue?9bff","webpack:///./src/pages/acecast/DashboardScreen.vue?fb0b","webpack:///./src/routes.js","webpack:///./src/mock/states.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/i18n.js","webpack:///./src/features/link-device/watch.js","webpack:///./src/features/intent-listener/index.js","webpack:///./src/App.vue","webpack:///./src/components/MainAppBar.vue","webpack:///./src/components/AccountBadge.vue","webpack:///AccountBadge.vue","webpack:///./src/components/AccountBadge.vue?b067","webpack:///./src/components/AccountBadge.vue?63d3","webpack:///./src/components/MainMenu.vue","webpack:///MainMenu.vue","webpack:///./src/components/MainMenu.vue?e273","webpack:///./src/components/MainMenu.vue?af32","webpack:///MainAppBar.vue","webpack:///./src/components/MainAppBar.vue?7a86","webpack:///./src/components/MainAppBar.vue?7a1a","webpack:///./src/components/AcecastAppBar.vue","webpack:///AcecastAppBar.vue","webpack:///./src/components/AcecastAppBar.vue?bdcd","webpack:///./src/components/AcecastAppBar.vue?d03a","webpack:///./src/components/PermissionNotification.vue","webpack:///PermissionNotification.vue","webpack:///./src/components/PermissionNotification.vue?8996","webpack:///./src/components/PermissionNotification.vue?3e90","webpack:///./src/components/PermissionDialog.vue","webpack:///src/components/PermissionDialog.vue","webpack:///./src/components/PermissionDialog.vue?4740","webpack:///./src/components/PermissionDialog.vue?cb19","webpack:///./src/components/StatFrame.vue","webpack:///StatFrame.vue","webpack:///./src/components/StatFrame.vue?38d6","webpack:///./src/components/StatFrame.vue?7035","webpack:///./src/components/app-update/AppUpdateNotification.vue","webpack:///AppUpdateNotification.vue","webpack:///./src/components/app-update/AppUpdateNotification.vue?fcf9","webpack:///./src/components/app-update/AppUpdateNotification.vue?2ec3","webpack:///./src/components/app-update/AppUpdateProgress.vue","webpack:///AppUpdateProgress.vue","webpack:///./src/components/app-update/AppUpdateProgress.vue?82ee","webpack:///./src/components/app-update/AppUpdateProgress.vue?bd91","webpack:///./src/components/app-update/AppInstallProgress.vue","webpack:///AppInstallProgress.vue","webpack:///./src/components/app-update/AppInstallProgress.vue?77e5","webpack:///./src/components/app-update/AppInstallProgress.vue?da36","webpack:///App.vue","webpack:///./src/App.vue?9c7b","webpack:///./src/App.vue?315a","webpack:///./src/main.js","webpack:///./src/pages/premium-tv/PremiumStatusScreenTv.vue?090c","webpack:///./src/components/app-update/AppUpdateNotification.vue?eb8e","webpack:///./src/pages/engine-activation/ActivationInstallError.vue?4cb7","webpack:///./src/common/src/components/SidePanel.vue?5bac","webpack:///./src/pages/MainScreen.vue?a4b8","webpack:///./src/pages/notification/PlaylistNotification.vue?b78f","webpack:///./src/pages/SignInUsernameScreen.vue?c998","webpack:///./src/pages/acecast/AceCastTroubleshooting.vue?2dce","webpack:///./src/pages/TransfersScreen.vue?c9c0","webpack:///./src/components/AppIcon.vue?6341","webpack:///./src/assets/img/icons/play.svg","webpack:///./src/components/EngineConnectionInfo.vue?42d3","webpack:///./src/components/MulticolorButton.vue?c973","webpack:///./src/pages/favorites-tv/TvFavorites.vue?1f5d","webpack:///./src/pages/engine-activation/ActivationHelp.vue?87ef","webpack:///./src/pages/history-tv/SideMenu.vue?3f4e","webpack:///./src/components/MainAppBar.vue?3a18","webpack:///./src/components/MainButton.vue?f565","webpack:///./src/pages/notification/SelectExternalPlayer.vue?548a","webpack:///./src/pages/acecast/AceCastAbout.vue?5f2e","webpack:///./src/assets/img/grant_install_permissions.svg","webpack:///./src/pages/engine-activation/ConnectSuccess.vue?5e4b","webpack:///./src/pages/tv-account/AccountScreen.vue?5053","webpack:///./src/pages/SignInScreen.vue?a09f","webpack:///./src/pages/engine-activation/ActivationWelcome.vue?582f","webpack:///./src/pages/premium/PremiumPaymentOffline.vue?5664","webpack:///./src/pages/notification/PlaylistNotificationTv.vue?56f5","webpack:///./src/pages/livetv/style-scoped.scss","webpack:///./src/components/AccountBadge.vue?e9be","webpack:///./src/pages/premium/PremiumPayment.vue?9488","webpack:///./src/pages/notification/NeedPremium.vue?3fd6","webpack:///./src/common/src/components/TheButton.vue?036b","webpack:///./src/components/InputButton.vue?f20c","webpack:///./src/pages/notification/ExternalPlayer.vue?88a4","webpack:///./src/pages/acecast/AceCastManualConnect.vue?f11e","webpack:///./src/pages/acecast/AceCastTroubleshooting.vue?b56c","webpack:///./src/pages/engine-activation/ConnectToken.vue?262e","webpack:///./src/components/app-update/AppInstallProgress.vue?2a09","webpack:///./src/App.vue?e81f","webpack:///./src/pages/AccountScreen.vue?dfe7","webpack:///./src/assets/img/acestream_logo.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","SpatialNavigator","this","_focus","_previous","straightOnly","straightOverlapThreshold","ignoreHiddenElement","rememberSource","navigableFilter","silent","follow","listener","_listeners","listeners","indexOf","hasListener","removeListener","listenerArray","index","send","array","_getRect","elem","rect","_isNavigable","getBoundingClientRect","cr","left","top","width","height","parseInt","element","right","bottom","center","x","Math","floor","y","_getAllRects","excludedElem","rects","_collection","forEach","HTMLElement","computedStyle","getComputedStyle","offsetWidth","offsetHeight","getPropertyValue","hasAttribute","_partition","targetRect","groups","threshold","groupId","_getDistanceFunction","nearPlumbLineIsBetter","nearHorizonIsBetter","nearTargetLeftIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","_prioritize","priorities","direction","destPriority","find","group","destination","reverse","source","found","dest","sort","a","b","distance","reduce","answer","setCollection","collection","unfocus","multiAdd","getCollection","add","elements","Array","from","every","remove","multiRemove","focused","focus","options","navigableElems","filter","getFocusedElement","move","navigate","toLowerCase","canmove","distanceFunction","internalGroups","concat","pop","Navigator","map","webpackAsyncContext","req","then","code","ids","id","keys","shouldInstallMock","location","url","URL","href","searchParams","AceStreamApp","registerPlugin","web","AceStreamAppWeb","async","getAuthToken","host","params","response","axios","token","createDispatcherLink","dataBase64","Base64","encode","JSON","stringify","encodeURIComponent","DOMAINS","lastSuccessfulDomain","getSortedDomainList","list","domain","ping","random","timeoutMs","AbortSignal","signal","log","status","getBackendDomain","NEED_STORAGE_PERMISSION","BILLING_SUBSCRIPTION_ID_MONTH","BILLING_SUBSCRIPTION_ID_YEAR","BILLING_PRODUCT_ID_LIFETIME","BILLING_PRODUCT_ID_LIFETIME_FULL","usePermissionsStore","defineStore","state","permissions","notifications","requests","storage","outstandingPermission","getters","allGranted","permission","pendingPermissionDialog","pendingPermissionNotification","actions","readPref","defaultValue","Preferences","parse","writePref","set","usePrefsStore","onboarding","welcome","mainScreen","inputPanel","endpoint","baseURL","getBillingConfig","reponse","postJson","body","parseDaysFromOfferString","offerString","regex","match","useMainStore","appVersion","process","initialized","firstRenderReceived","media","uri","item","appInfo","showTestButtons","showTestMenu","showTestLinks","engineFailed","remoteDebugEnabled","dialogs","needPremium","visible","currentInteractive","navBackHook","currentSubscriptionType","lastIntent","forumLink","minRemoteEngineVersionName","minRemoteEngineVersionCode","engineActivation","port","sidePanelVisible","billingConfig","appNotifications","fullscreenNotificationVisible","fullscreenNotificationUrl","fullscreenNotificationCloseOnBack","fullscreenNotifications","fullscreenNotificationDismissed","appNotification","notification","fullscreenNotification","isMock","_state$state","locale","_state$state2","applicationId","_state$state3","applicationVersionCode","_state$state4","showMediaPopup","engineReady","engineState","engineApiAccessToken","pendingAppUpdate","_state$state5","appUpdate","appUpdateError","_state$state6","isBaseApp","isEngineInstalled","isEngineActivated","_state$state$selected","selectedEngineState","useRemote","showWelcomeOnBoarding","permissionsStore","prefsStore","isTv","sendAndCastEnabled","hasBrowser","_state$state7","hasMarketApp","_state$state8","isGooglePlayVersion","_state$state9","aceCastConnectUrl","liveTvEnabled","historySupported","_state$state10","favoritesSupported","_state$state11","uninstallOldAppEnabled","showAccountView","preventFocus","mainSmartphoneRouteName","mainTvRouteName","mainRouteName","sortedTransfers","_state$state$fileRece","_state$state$fileRece2","_state$state$fileRece3","fileReceiver","transfers","created_at","activeTransfers","completed","failed","failedTransfers","completedTransfers","allAvailableAceCastDevices","_state$state12","_state$state12$aceCas","_state$state12$aceCas2","_state$state13","_state$state13$aceCas","aceCastDiscoveryState","devices","availableAceCastDevice","_state$state14","_state$state14$aceCas","_state$state14$aceCas2","_state$state15","_state$state15$aceCas","aceCastGotConnection","canGoBack","showFullscreenNotification","closeOnBack","dismissFullscreenNotification","config","openNeedPremiumDialog","closeNeedPremiumDialog","canGoBackFromRoute","mainRoutes","includes","resetMedia","showError","showToast","Toast","show","text","showErrorSnackbar","remoteLog","cancelInteractive","cancel","getSubscriptionInfo","subscriptionId","_this$state","_this$state$subscript","defaultPrices","fullPrice","promoPrice","currency","freeDays","gotDataFromConfig","subscriptionPrices","firstOffer","offer","offerId","formattedPrice","configData","getProductInfo","productId","_this$state2","_this$state2$productP","realPrice","productPrices","_this$state3","_this$state3$productP","dataFullPrice","setBannerNotifications","setFullscreenNotifications","PREMIUM_LINK_TTL","useAuthStore","auth","premiumLinkStore","showBalance","_state$auth","authData","purse_amount","auth_level","loading","_state$auth2","isAuthInProgress","packageColor","_state$auth3","_state$auth3$authData","package_color","packageDaysLeft","_state$auth4","_state$auth4$authData","package_days_left","packageName","_state$auth5","_state$auth5$authData","package_name","purseAmount","_state$auth6","_state$auth6$authData","webViewAuthMethod","_state$auth7","webViewAuthToken","_state$auth8","signedIn","_state$auth9","_state$auth10","_state$auth10$authDat","googleSignedIn","hasPremium","_state$auth11","_state$auth11$authDat","username","_state$auth12","_state$auth13","googleLogin","engineLogin","signInGoogle","password","autoRegister","signInUsername","signOut","use_internal_auth","x_acestream_auth_method","x_acestream_auth_token","_this$username","savedData","age","Date","now","createdAt","backendDomain","authToken","getAuthTokenForDomain","displayUrl","mainStore","useAppUpdateStore","waitingForDownload","ref","installClicked","waitingForStateUpdate","errorFlag","showErrorFlag","selfUpdateNotificationShown","updateNotificationVisible","computed","updateStatus","waitingForState","_mainStore$pendingApp","updateProgress","_mainStore$pendingApp2","progress","gotError","isUpdateActive","gotSelfUpdate","versionCode","snooze","delay","snoozedUntil","localStorage","setItem","unsnooze","removeItem","isSnoozed","getItem","isNaN","wait","checkSelfUpdate","install","fromUser","_mainStore$pendingApp4","canInstall","_mainStore$pendingApp3","notificationUrl","open","timeoutTimer","unwatch","watch","newValue","immediate","nextTick","selfUpdateClicked","reset","showUpdateNotification","hideUpdateNotification","engineAddress","store","engineHost","enginePort","method","makeRequest","useToken","convertResponse","catch","handleError","engine","analyzeContent","query","expand_wrapper","fetch_title","force","markRead","markUnread","filetransfers","delete","useNotificationsStore","topNotification","unread","read","sorted","priority","load","useAppsStore","installingPackageId","installingPackageName","installed","updates","downloads","available","allApps","mergeItems","apps","getAppState","packageId","app","values","staticClass","attrs","_c","staticStyle","require","authStore","count","_setup","class","_vm","MainButton","directives","enabled","expression","topup","amount","_self","on","render","staticRenderFns","styleClass","className","props","blue","white","disabled","rounded","component","$router","getCurrentInstance","proxy","$root","$i18n","loadingBackendState","upgrade","replace","_setupProxy","OnBoardingScreen","MainScreen","ActivationWelcome","_b","$attrs","_s","rawName","$t","connectRemote","showHelp","msg","toString","onMounted","autoInstall","hideHints","typingInput","typingOpenFile","openFavorites","openHistory","showUninstallBanner","PERMISSION_ASK_MAX_COUNT","PERMISSION_ASK_FREQUENCY","updatePermissions","checkNotificationsPermission","updatePermissionsRequestsState","checkPermissions","shouldAskForPermission","prefkey","defaultAskPrefs","askedCount","lastAskedAt","getAskPrefs","setAskPrefs","prefs","registerPermissionAsk","requestPermission","requestNotificationsPermission","requestStoragePermission","openAppSettings","requestPermissions","NativeSettings","openAndroid","option","AndroidSettings","ApplicationDetails","openNotificationsSettings","AppNotification","isGranted","isDenied","selectFile","useRemoteEngine","FilePicker","pickFiles","multiple","files","path","title","startsWith","playDirectStream","resolved","resolveContentUri","play","suppress","cause","_v","version","$event","model","$set","appUpdateStore","buttonDisabled","update","oldValue","uninstall","uninstallAppClicked","storeToRefs","domProps","showInputPanel","_t","emits","methods","$emit","openMessage","close","callback","proceed","notificationBody","updateAppClicked","querySelectorAll","addEventListener","payload","getAttribute","inject","crossorigin","showPrivacyOptions","googlefc","callbackQueue","CONSENT_DATA_READY","showRevocationMessage","initAdManager","hostname","waitTcfApi","counter","check","__tcfapi","components","AppIcon","AppUpdateBanner","UninstallOldAppBanner","EngineConnectionInfo","EngineFailedBanner","InputButton","MessageBanner","NeedPremiumDialog","PopupDialog","testPopupVisible","uninstallBannerAvailable","appCheckTimer","mapStores","showSelfUpdateBanner","typeInput","homeScreenReady","isAppInstalled","startAppCheckTimer","unmounted","stopAppCheckTimer","setInterval","clearInterval","$nextTick","TypeIt","$refs","typeitInput","speed","initialDelay","cursor","strings","afterComplete","typeOpenFile","go","typeitOpenFile","dismissOnBoarding","setOnboardingMainScreen","permissionId","hideInputPanel","inputPanelVisible","playClicked","hasStreams","downloadClicked","download","filename","closeMediaDialog","streamSelected","intent","stream","streamIndex","downloadFile","showInterstitial","openResolverActivity","testPopupClicked","installAppClicked","testNotificationClicked","testSyncClicked","testToastClicked","testPermissionsClicked","testNetworkRequest","testRestoreNotificaion","click","dialogConfirm","showActions","askPermission","GeneralDialog","typeWelcome","typeit","nextStringDelay","waitUntilVisible","setOnboardingWelcome","mounted","googleServiceAvailable","getNextRoute","routeName","signInAceStream","isSignedId","formValid","emailRules","email","passwordRules","showPassword","knownErrors","Set","v","test","usernameErrors","passwordErrors","submit","clearErrors","messageId","messageText","has","loadingPinCode","createPin","websocketPort","fileServerPort","post","websocket_port","engine_port","file_server_port","getAddressFromPin","pin","navigationPaused","focusedElement","handler","longPressTimer","longPressTriggered","longPressActive","LONG_PRESS_DURATION","repeatTimer","repeatInterval","heldKey","REPEAT_INITIAL_DELAY","REPEAT_INTERVAL","defaultFocusedMap","lastFocusedMap","pendingPageId","init","bindEvents","stopRepeatNavigation","hidden","performNavigation","_handler","_handler2","_handler3","hasDown","down","hasUp","up","hasRight","startRepeatNavigation","preventDefault","_focusedElement","longPress","_focusedElement2","_handler4","trigger","enter","removeClass","classes","class_name","wasFocused","classList","contains","event_name","createEvent","initEvent","dispatchEvent","setupNavigation","pageId","setupNavigationImpl","lastFocusedId","lastFocusedElement","getElementById","colection","setLastFocused","elementId","setHandler","callbacks","removeHandler","pause","resume","SHOW_MANUAL_CONNECT_INFO","URL_PATH","pinCode","showDebugInfo","acecastState","_mainStore$state","aceCastServer","_mainStore$state$engi","_mainStore$state2","_mainStore$state$aceC","_mainStore$state3","_mainStore$state3$ace","qrCodeUrl","_acecastState$value","qrCodeImage","useQRCode","isAcecastStateChanged","getPinCode","_e$response$data","_e$response","router","addDevice","addAceCastDevice","PremiumStatusScreenTv","LinkPremiumScreenTv","CACHE_TTL","cachedDomain","getLinkBackendDomain","getEndpoint","getLinkCode","deviceIp","deviceName","device_ip","device_name","getLinkStatus","useLinkDeviceStore","linkCode","linkCodeExpiresAt","linkCodePremium","ttl","linkDeviceStore","linkBackendDomain","linkUrl","requestCode","DEFAULT_PREMIUM_LINK","qrCodeUrlRef","displayUrlRef","getPremiumLink","selectedOption","MulticolorButton","dialogVisible","slot","promoPriceMonth","days","price","fullPriceMonth","promoPriceYear","fullPriceYear","hideDialog","$route","subscriptionType","fullPriceLifetime","promoPriceLifetime","promoFreeDaysYear","promoFreeDaysMonth","lifetimeOptionDescription","subscriptionDetails","periodName","period","optionName","optionDescription","showDialog","openExternalPaymentPage","service","month","year","lifetime","PremiumPaymentOffline","paymentPageUrl","getPeriodId","baseUrl","premium","lang","paramsStr","join","updateBackendState","emit","goPremium","AccountScreen","SignInScreen","_e","time","formatTime","selected","PAGE_ID","canSaveFocus","timestamp","useTimestamp","codeExpiresIn","codeExpiresInReadble","round","onFocus","Controller","_e$target","_e$target2","_e$target3","_e$target4","unbindEvents","prefix","hours","minutes","seconds","padStart","onBeforeUnmount","TheButton","openLiveTv","VERBOSE","navigationService","verbose","args","FocusPlugin","Vue","NavigationService","directive","el","binding","vnode","_binding$value","focusElement","FocusElement","registerElement","inserted","findById","isDefault","oldEl","unregisterElement","newEl","setEnabled","unbind","constructor","_defineProperty","navigationMap","defaultFocusElements","restoreFocusInterval","started","active","paused","restoreTimer","unwatchFocusedElement","longPressDelay","longPressDetected","configure","focusedElementId","13","38","40","37","39","assign","defaults","navigationMapFunc","defaultFocusElementFunc","watchFocusedElement","start","initKeyboardListener","initBackwardHandler","isPaused","setActive","restoreFocus","_stopRestoreTimer","foundFocusedElement","startTimer","focusCandidates","canFocus","_startRestoreTimer","createEmptyHistory","history","pushState","pathname","keyCode","getKeyCode","isEnter","performAction","action","keycode","which","els","destroy","unregisterElementById","setFocusedById","onFocused","updateState","foundFocused","findFocusedElement","blurAll","blur","refocusInterval","destroyed","dataset","focusDefault","next","focusUp","focusDown","focusLeft","focusRight","onclick","onLongPress","nextFunc","focusElementSelector","querySelector","_this$el","activeElement","clickEvent","Event","getNextElement","_map$id","_map","nextId","nextDirection","nextAction","_target","targetId","moveDown","moveUp","moveLeft","moveRight","commonDefaultFocusElements","commonNavigationMap","startLiveTv","input","showHint","scopedSlots","fn","$$v","disableOnboarding","setOnboardingInputPanel","waitEngine","focusInput","onKeyDown","handleInput","resetError","setError","analyzeAndPlay","testInput","stopEngineSession","startPlayback","_mainStore$lastIntent","_mainStore$lastIntent2","playbackData","extras","extra","restorePlayback","sessionId","player","playbackUrl","mime","keepEngineSession","onUnmounted","_m","openPlayerPreferences","showPreferencesClicked","_setup$mainStore$avai","deviceDetected","FLAG_SHOW_REMOTE_PLAYERS","continuePlayback","appPlugin","selectedPlayer","id1","goBack","flags","connectingTimer","connecting","watchPort","connectDevice","checkConnection","device","onKeydown","doPlay","_l","selectOption","optionDescriptionContainer","optionId","discoveryTimer","discoverDevices","closeWizard","isLocalEngineSelected","selectedEngine","selectedRemoteEngine","remoteState","hasLocal","selectedEngineName","_selectedEngine$value","_selectedEngine$value2","remoteEngineList","_mainStore$state$remo","_mainStore$state$remo2","filteredRemoteEngineList","_selectedRemoteEngine","_selectedRemoteEngine2","useRemoteServer","server","useLocalServer","enableLocalEngine","parseAddress","string","ipAddressAndPortRegex","parts","split","getEngineVersion","_response$data","_response$data2","checkAccessToken","_response$data3","access_token","connectServer","enableRemoteEngine","forgetServer","removeRemoteEngine","back","openForum","startInstall","retry","retryInstall","newState","inputFocused","resetErrors","remoteAddress","minRemoteEngineVersion","inputError","showConnectButton","connect","address","onError","onConnected","reason","setToken","openMainPage","hideMenu","transfer","selectedTransfer","menuVisible","cancelSelectedTransfer","cancelTransfer","deleteSelectedTransfer","deleteTransfer","openSelectedTransfer","openTransfer","normalizePathUri","startActivity","idForTransfer","getFocusFor","transferId","findIndex","transferClicked","showMenu","invisible","listItems","mockHistory","items","generateMockHistory","removeMockPlaybackHistoryItem","useHistoryStore","getPlaybackHistory","removePlaybackHistoryItem","isHttpUrl","trim","historyStore","loadingItemIndex","loadingItemTimer","openItem","_item$uri","reloadHistory","getHistory","byGroups","getGroup","groupName","getGroups","todayStart","setHours","getTime","yesterdayStart","sevenDaysStart","thirtyDaysStart","ninetyDaysStart","today","yesterday","to","sevenDays","thirtyDays","ninetyDays","entries","TvHistory","TvHistoryNeedPremium","historyItems","SideMenu","mockFavorites","generateMockFavorites","removeMockFavoriteItem","useFavoritesStore","getFavorites","ret","isFavorite","addFavorite","removeFavorite","SidePanel","_g","tag","itemSelected","_u","$listeners","style","animationDuration","showOverlay","bodyVisible","showContent","stopPropagation","itemsContainerOffset","getItemId","onItemClicked","focusedItem","DEFAULT_OFFSET","onBackPressed","removeEventListener","setDefaulFocus","getSelectedItemIndex","selectedItemId","scrollOnFocus","offsetTop","watchItems","SIDE_MENU_PAGE_ID","selectedMenuItemIndex","menuItemsElements","getMenuItemId","escapeHandler","_sideMenuEscapeHandler","retryCount","menuItems","sidePanelMenu","itemContainers","warn","onNavigatorFocus","deep","updateHistoryTimer","favoritesStore","selectedItem","nextSelectedItem","savedFocusedElement","savedNavigatorCollection","pendingRestoreFocusId","onItemPress","onItemLongPress","openMenu","removeFromHistory","generateNumericId","str","hash","charCode","charCodeAt","idForItem","itemId","nextItem","generateItemId","isVisible","wasSelector","removeAttribute","savedCollection","firstItem","scrollBodyRef","scrollContentRef","maxOffset","offset","_params$scroll_adjust","content","scroll_adjust","new_offset","w","horizontal","min","always_scroll_top","max","scrollTimer","currentScrollTarget","onfocus","skiptimer","fixed_offset","tocenter","dir","siz","ofs_elm","ofs_box","scrl","scrollTo","scrollTop","pos","requestAnimationFrame","animateTo","_selectedItem$value","favorite","onMenuItemSelected","_selectedItem$value2","_selectedItem$value3","_selectedItem$value4","focusTarget","_historyItems$value$i","_historyItems$value$i2","closeMenu","__default__","beforeRouteLeave","MainStoreModule","CustomEvent","reloadFavorites","favorites","TvFavorites","TvFavoritesNeedPremium","updateFavoritesTimer","favoritesItems","removeFromFavorites","_ref","_item$uri2","_setup$mainStore$appN","_setup$mainStore$appN2","_setup$mainStore$appN3","hasNotification","contentUrl","contentHeight","button_1","notificationButtonClicked","button_2","openSendCast","externalPageVisible","ExternalPage","externalPageUrl","hideExternalPage","LOG_ERROR","LOG_VERBOSE","LOG_LEVEL","level","vars","full","varList","logerror","logverbose","TAG","STORAGE_KEY","UPDATE_INTERVAL","_notifications","WeakMap","_updatedAt","_events","AppNotificationManager","_classStaticPrivateFieldSpecGet","_instance","_classStaticPrivateFieldSpecSet","_classPrivateFieldInitSpec","writable","getFromBackend","_classPrivateFieldGet","domains","success","getFromBackendImpl","appId","sync","_classPrivateFieldSet","events","toRemove","updateNotification","addNotification","removeNotification","persist","bannerNotifications","meta","shouldShow","shouldShowUnsafe","dismissedCount","conditions","checkConditions","or","condition","checkSingleCondition","and","dismissedAt","assertExists","dismissNotification","updatedAt","raw","registerNotificationImpression","where","sendEvent","registerNotificationClick","urls","getEventUrls","requestUrl","_events$impression","_events$click","impression","appsStore","iframeRef","targetOrigin","urlObject","origin","frameEventListener","category","openBrowser","installFromMarket","keyboardEventListener","sendFrameMessage","contentWindow","postMessage","appStartTime","notificationButton1","_e$target5","_e$target6","_e$target7","handleGdprConsent","tcData","eventStatus","btn","buttonId","getInstance","showExternalPage","dataType","routes","MainScreenPlaceholder","InputPanel","SignInUsernameScreen","AceCastServerScreen","AceCastDashboardScreen","AceCastClientScreen","PremiumScreen","NeedPremium","PremiumWelcome","PremiumPayment","TvAccountScreen","LiveTvScreen","ExternalPlayer","ExternalPlayerTv","SelectExternalPlayer","PlaylistNotification","PlaylistNotificationTv","HistoryScreen","TvHistoryScreen","FavoritesScreen","TvFavoritesScreen","AceCastTroubleshooting","children","AceCastTroubleshootingStep1","AceCastTroubleshootingStep2","AceCastTroubleshootingStep3","AceCastTroubleshootingStep4","AceCastTroubleshootingStep5","AceCastTroubleshootingStep6","AceCastTroubleshootingStep7","AceCastManualConnect","AceCastAbout","ActivationHelp","ActivationInstallError","ConnectWelcome","ConnectToken","ConnectSuccess","ConnectErrorNetwork","ConnectErrorNetworkStep1","ConnectErrorNetworkStep2","ConnectErrorNetworkStep3","ConnectErrorNetworkStep4","ConnectErrorNetworkStep5","ConnectErrorNetworkStep6","ConnectErrorNetworkStep7","ConnectErrorNetworkStep8","ConnectErrorPort","ConnectErrorVersion","SelectServer","TransfersScreen","SelectServerRemote","mainState","engineAccessToken","got_error","videoPlayerState","running","pip","use","Vuetify","theme","dark","themes","primary","colors","grey","lighten5","VueI18n","numberFormats","en","notation","decimal","minimumFractionDigits","maximumFractionDigits","i18n","messages","enMessages","loadedLanguages","setI18nLanguage","loadLanguageAsync","setLocaleMessage","default","checkTimer","ttlTimer","clearTimers","requestNewCode","checkLinkCode","auth_token","authWithToken","signInToken","watchLinkCode","addListener","requirePremium","_router$app","_router$app$$route","currentRoute","ensureWebViewVisible","notificationId","showUi","PermissionNotification","_setup$mainStore$stat8","signInClicked","accountClicked","visibleMenuItems","menuItemClicked","menuPosition","innerWidth","showRemoteControl","skipTranslate","cmd","doCrash","_item$cmd","openWebView","openAdPlayer","showRemoteControlClicked","clearEngineCacheClicked","reportProblemClicked","showAboutClicked","stopAppClicked","restartApp","testMethod","testOnBoardingClicked","testBillingClicked","syncDeviceApps","loadingAuth","openRemoteControl","openPlaylist","showPlaylistClicked","premiumClicked","onMyFiles","onLiveTv","onPremium","onTvAccount","LIVE_TV_ENABLED","safeReplaceRoute","targetName","isNavigationFailure","NavigationFailureType","duplicated","onDashboard","onUpdateClick","frames","currentVersion","newVersion","showChangelog","updateUrl","dismiss","CHANGELOGS","_mainStore$appInfo","appName","waitingForDownloadTimer","appState","_appState$value","_appState$value2","statFrameVisible","isSetupVisible","webAppReady","productionTip","PiniaVuePlugin","pinia","createPinia","VueRouter","loadInitialState","getState","isFirstRun","asyncInit","updateBillingConfig","checkStoragePermissions","updateAppInfo","onMainStoreInitialized","CapacitorApp","getInfo","appinfo","watchEngineState","onEngineReady","checkEngine","initMock","MockStates","beforeEach","vuetify","h","App","$mount","exitApp","IntentListener"],"mappings":"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ynB,KAAM,wBACNjE,UAAW24B,IAEb,CACEn8C,KAAM,kBACNynB,KAAM,mBACNjE,UAAW44B,GACXj5B,MAAO,CAAE/hB,KAAM,YAEjB,CACEpB,KAAM,2BACNynB,KAAM,4BACNjE,UAAW44B,GACXj5B,MAAO,CAAE/hB,KAAM,YAEjB,CACEpB,KAAM,kBACNynB,KAAM,mBACNjE,UAAW64B,IAEb,CACEr8C,KAAM,aACNynB,KAAM,cACNjE,UAAW84B,IAEb,CACEt8C,KAAM,SACNynB,KAAM,UACNjE,UAAW+4B,IAEb,CACEv8C,KAAM,+BACNynB,KAAM,gCACNjE,UAAWg5B,IAEb,CACEx8C,KAAM,kCACNynB,KAAM,mCACNjE,UAAWi5B,IAEb,CACEz8C,KAAM,sCACNynB,KAAM,uCACNjE,UAAWk5B,IAEb,CACE18C,KAAM,wBACNynB,KAAM,yBACNjE,UAAWm5B,IAEb,CACE38C,KAAM,2BACNynB,KAAM,4BACNjE,UAAWo5B,IAEb,CACE58C,KAAM,UACNynB,KAAM,WACNjE,UAAWq5B,IAEb,CACE78C,KAAM,aACNynB,KAAM,cACNjE,UAAWs5B,IAEb,CACE98C,KAAM,YACNynB,KAAM,aACNjE,UAAWu5B,IAEb,CACE/8C,KAAM,eACNynB,KAAM,gBACNjE,UAAWw5B,IAGb,CACEv1B,KAAM,2BACNjE,UAAWy5B,GACXC,SAAU,CACR,CACEl9C,KAAM,gCACNynB,KAAM,GACNjE,UAAW25B,IAEb,CACEn9C,KAAM,gCACNynB,KAAM,QACNjE,UAAW45B,IAEb,CACEp9C,KAAM,gCACNynB,KAAM,QACNjE,UAAW65B,IAEb,CACEr9C,KAAM,gCACNynB,KAAM,QACNjE,UAAW85B,IAEb,CACEt9C,KAAM,gCACNynB,KAAM,QACNjE,UAAW+5B,IAEb,CACEv9C,KAAM,gCACNynB,KAAM,QACNjE,UAAWg6B,IAEb,CACEx9C,KAAM,gCACNynB,KAAM,QACNjE,UAAWi6B,MAIjB,CACEz9C,KAAM,yBACNynB,KAAM,0BACNjE,UAAWk6B,IAEb,CACE19C,KAAM,gBACNynB,KAAM,iBACNjE,UAAWm6B,IAEb,CACE39C,KAAM,kBACNynB,KAAM,mBACNjE,UAAWo6B,IAEb,CACE59C,KAAM,2BACNynB,KAAM,4BACNjE,UAAWq6B,IAEb,CACE79C,KAAM,6BACNynB,KAAM,8BACNjE,UAAWs6B,IAEb,CACE99C,KAAM,2BACNynB,KAAM,4BACNjE,UAAWu6B,IAEb,CACE/9C,KAAM,6BACNynB,KAAM,8BACNjE,UAAWw6B,IAEb,CACEv2B,KAAM,oCACNjE,UAAWy6B,GACXf,SAAU,CACR,CACEl9C,KAAM,yCACNynB,KAAM,GACNjE,UAAW06B,IAEb,CACEl+C,KAAM,yCACNynB,KAAM,QACNjE,UAAW26B,IAEb,CACEn+C,KAAM,yCACNynB,KAAM,QACNjE,UAAW46B,IAEb,CACEp+C,KAAM,yCACNynB,KAAM,QACNjE,UAAW66B,IAEb,CACEr+C,KAAM,yCACNynB,KAAM,QACNjE,UAAW86B,IAEb,CACEt+C,KAAM,yCACNynB,KAAM,QACNjE,UAAW+6B,IAEb,CACEv+C,KAAM,yCACNynB,KAAM,QACNjE,UAAWg7B,IAEb,CACEx+C,KAAM,yCACNynB,KAAM,QACNjE,UAAWi7B,MAIjB,CACEz+C,KAAM,gCACNynB,KAAM,iCACNjE,UAAWk7B,IAEb,CACE1+C,KAAM,mCACNynB,KAAM,oCACNjE,UAAWm7B,IAEb,CACE3+C,KAAM,gBACNynB,KAAM,iBACNjE,UAAWo7B,IAEb,CACE5+C,KAAM,YACNynB,KAAM,aACNjE,UAAWq7B,IAEb,CACE7+C,KAAM,uBACNynB,KAAM,wBACNjE,UAAWs7B,GACX37B,OAAO,IClVE47B,GAAY,CACvBnuC,QAAQ,EACRue,wBAAwB,EACxBrd,mBAAmB,EACnBkB,kBAAkB,EAClBE,oBAAoB,EACpBpC,OAAQ,KACRwB,MAAM,EACNtB,cAAe,qBACfE,uBAAwB,UACxBI,YAAa,UACbgO,WAAY,YACZC,WAAY,KACZy/B,kBAAmB,IACnBztC,qBACE,mEACF6V,iBAAiB,EACjB9O,KAAM,CACJS,kBAAkB,EAClBwB,gBAAgB,EAChBO,YAAa,KACbC,YA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","file":"js/app.4d7c28ad.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"lang-ar-json\":\"lang-ar-json\",\"lang-be-json\":\"lang-be-json\",\"lang-bg-json\":\"lang-bg-json\",\"lang-bs-json\":\"lang-bs-json\",\"lang-ca-json\":\"lang-ca-json\",\"lang-co-json\":\"lang-co-json\",\"lang-cs-json\":\"lang-cs-json\",\"lang-cy-json\":\"lang-cy-json\",\"lang-da-json\":\"lang-da-json\",\"lang-de-json\":\"lang-de-json\",\"lang-el-json\":\"lang-el-json\",\"lang-es-json\":\"lang-es-json\",\"lang-et-json\":\"lang-et-json\",\"lang-eu-json\":\"lang-eu-json\",\"lang-fa-json\":\"lang-fa-json\",\"lang-fi-json\":\"lang-fi-json\",\"lang-fr-json\":\"lang-fr-json\",\"lang-fy-json\":\"lang-fy-json\",\"lang-gd-json\":\"lang-gd-json\",\"lang-gl-json\":\"lang-gl-json\",\"lang-he-json\":\"lang-he-json\",\"lang-hi-json\":\"lang-hi-json\",\"lang-hr-json\":\"lang-hr-json\",\"lang-hu-json\":\"lang-hu-json\",\"lang-id-json\":\"lang-id-json\",\"lang-is-json\":\"lang-is-json\",\"lang-it-json\":\"lang-it-json\",\"lang-iw-json\":\"lang-iw-json\",\"lang-ja-json\":\"lang-ja-json\",\"lang-km-json\":\"lang-km-json\",\"lang-kn-json\":\"lang-kn-json\",\"lang-ko-json\":\"lang-ko-json\",\"lang-lt-json\":\"lang-lt-json\",\"lang-lv-json\":\"lang-lv-json\",\"lang-ml-json\":\"lang-ml-json\",\"lang-mr-json\":\"lang-mr-json\",\"lang-ms-json\":\"lang-ms-json\",\"lang-my-json\":\"lang-my-json\",\"lang-nb-json\":\"lang-nb-json\",\"lang-nl-json\":\"lang-nl-json\",\"lang-pa-json\":\"lang-pa-json\",\"lang-pl-json\":\"lang-pl-json\",\"lang-pt-json\":\"lang-pt-json\",\"lang-ro-json\":\"lang-ro-json\",\"lang-ru-json\":\"lang-ru-json\",\"lang-si-json\":\"lang-si-json\",\"lang-sk-json\":\"lang-sk-json\",\"lang-sl-json\":\"lang-sl-json\",\"lang-sq-json\":\"lang-sq-json\",\"lang-sr-json\":\"lang-sr-json\",\"lang-sv-json\":\"lang-sv-json\",\"lang-ta-json\":\"lang-ta-json\",\"lang-te-json\":\"lang-te-json\",\"lang-th-json\":\"lang-th-json\",\"lang-tr-json\":\"lang-tr-json\",\"lang-uk-json\":\"lang-uk-json\",\"lang-ur-json\":\"lang-ur-json\",\"lang-uz-json\":\"lang-uz-json\",\"lang-vi-json\":\"lang-vi-json\",\"lang-zh-json\":\"lang-zh-json\"}[chunkId]||chunkId) + \".\" + {\"chunk-2d0a45fe\":\"8a77177f\",\"chunk-2d0d3e67\":\"157acd5e\",\"chunk-2d0dec6b\":\"fdf877aa\",\"chunk-2d208e4e\":\"f66fce84\",\"chunk-2d210c1f\":\"399dbcbc\",\"chunk-2d21da93\":\"da33a67e\",\"lang-ar-json\":\"d2cfe300\",\"lang-be-json\":\"c16fb3ad\",\"lang-bg-json\":\"03c31a66\",\"lang-bs-json\":\"aca3e52a\",\"lang-ca-json\":\"a93f7703\",\"lang-co-json\":\"639c7731\",\"lang-cs-json\":\"1780494d\",\"lang-cy-json\":\"84647f6d\",\"lang-da-json\":\"534a80e1\",\"lang-de-json\":\"dd7bb6f7\",\"lang-el-json\":\"c7791280\",\"lang-es-json\":\"be0e4fac\",\"lang-et-json\":\"5428e922\",\"lang-eu-json\":\"3d5ff54c\",\"lang-fa-json\":\"b951ea54\",\"lang-fi-json\":\"3bc5197c\",\"lang-fr-json\":\"1b001236\",\"lang-fy-json\":\"cedaf119\",\"lang-gd-json\":\"7a614d3a\",\"lang-gl-json\":\"dbdd8c7c\",\"lang-he-json\":\"91de4402\",\"lang-hi-json\":\"0b842aad\",\"lang-hr-json\":\"490380f2\",\"lang-hu-json\":\"c59a4c1a\",\"lang-id-json\":\"6ba07d48\",\"lang-is-json\":\"8f0f8e20\",\"lang-it-json\":\"123a5b34\",\"lang-iw-json\":\"5243a7a1\",\"lang-ja-json\":\"ddbafc05\",\"lang-km-json\":\"c4adca52\",\"lang-kn-json\":\"29d28460\",\"lang-ko-json\":\"5d93e6dc\",\"lang-lt-json\":\"d4e007dd\",\"lang-lv-json\":\"83a45b7d\",\"lang-ml-json\":\"fa74cb7b\",\"lang-mr-json\":\"2eff44cf\",\"lang-ms-json\":\"72ec3259\",\"lang-my-json\":\"57ed26d8\",\"lang-nb-json\":\"6c287223\",\"lang-nl-json\":\"f54ff740\",\"lang-pa-json\":\"e90683fa\",\"lang-pl-json\":\"cbabfdc0\",\"lang-pt-json\":\"0044b9f4\",\"lang-ro-json\":\"d78024c9\",\"lang-ru-json\":\"a65e6e97\",\"lang-si-json\":\"f78a9653\",\"lang-sk-json\":\"36b6dab1\",\"lang-sl-json\":\"3101a2da\",\"lang-sq-json\":\"c69c511d\",\"lang-sr-json\":\"ca3d3ba3\",\"lang-sv-json\":\"0349645f\",\"lang-ta-json\":\"09e44bb5\",\"lang-te-json\":\"fc358df8\",\"lang-th-json\":\"10271f41\",\"lang-tr-json\":\"104e4fb6\",\"lang-uk-json\":\"f3659074\",\"lang-ur-json\":\"9db81bbb\",\"lang-uz-json\":\"8bc62a01\",\"lang-vi-json\":\"95b1a76b\",\"lang-zh-json\":\"781ddbf0\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateProgress.vue?vue&type=style&index=0&id=cddc0672&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransfersScreen.vue?vue&type=style&index=0&id=5b87ec20&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPage.vue?vue&type=style&index=0&id=4979ca24&prod&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/update_dialog_2.52b7fb91.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayerTv.vue?vue&type=style&index=0&id=21801da6&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=style&index=0&id=43804e4a&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectWelcome.vue?vue&type=style&index=0&id=3b6fae35&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoritesScreen.vue?vue&type=style&index=0&id=472e9158&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumWelcome.vue?vue&type=style&index=0&id=3a82513a&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastServerScreen.vue?vue&type=style&index=0&id=5e41e168&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistory.vue?vue&type=style&index=0&id=da03a2da&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputPanel.vue?vue&type=style&index=0&id=36763250&prod&scoped=true&lang=scss&\"","/**\n * SpatialNavigator simulates four-direction navigation in Javascript level.\n *\n * Navigation is the ability to navigate between focusable elements\n * within a structured document or user interface according to the spatial\n * location. Users are assumed navigating among elements on a 2D plane by\n * arrow keys (up/down/left/right).\n *\n * SpatialNavigator keeps a 'focused' element by itself. When navigating,\n * focus/unfocus events are triggered automatically. Notice the focus is just\n * an internal state rather than actual focus of DOM Element. User should\n * add event listeners of those events, and design required behaviors.\n *\n * @class SpatialNavigator\n * @param {Array.<SpatialNavigatorElement>} [collection=[]]\n *        An initial set of traversable elements.\n * @param {Object} [config]\n *        An initial set of configurations.\n */\n/**\n * SpatialNavigatorElement is a navigable element which can be traversed\n * by {@link SpatialNavigator}. Valid types are as follows:\n *\n *  1. a standard HTMLElement.\n *  2. an Object contains at least 4 properties: left, top, width, and height.\n *  3. an Object implementing getBoundingRect() which returns an object of 2.\n *\n * @typedef {Object} SpatialNavigatorElement\n */\n/**\n * Fired when an element is focused.\n * @event SpatialNavigator#focus\n * @property {SpatialNavigatorElement} elem    The element which got focus.\n */\n/**\n * Fired when an element is unfocused.\n * @event SpatialNavigator#unfocus\n * @property {SpatialNavigatorElement} elem    The element which lost focus.\n */\nvar SpatialNavigator = function () {\n  this._focus = null;\n  this._previous = null;\n\n  //this.setCollection(collection);\n\n  /*\n  if (config) {\n    for (var key in config) {\n      this[key] = config[key];\n    }\n  }\n  */\n}\n\nSpatialNavigator.prototype = {\n  /**\n   * Limit the navigating direction to vertical and horizontal only. Targets\n   * in oblique (left-top, right-top, left-bottom, and right-bottom)\n   * directions are always ignored.\n   * @type {Boolean}\n   * @default false\n   * @memberof SpatialNavigator.prototype\n   */\n  straightOnly: true,\n\n  /**\n   * This threshold is used to determine whether an element is considered in\n   * straight (vertical or horizontal) directions. Valid number is between 0\n   * to 1.0. Setting it to 0.3 means an element is counted in the straight\n   * directions if it overlaps the straight area at least 0.3x of width of the\n   * area.\n   * @type {Number}\n   * @default 0.5\n   * @memberof SpatialNavigator.prototype\n   */\n  straightOverlapThreshold: 0.4,\n\n  /**\n   * Ignore elements with \"display: none\", \"visibility: hidden\" or\n   * \"aria-hidden=true\".\n   * @type {Boolean}\n   * @default false\n   * @memberof SpatialNavigator.prototype\n   */\n  ignoreHiddenElement: false,\n\n  /**\n   * The previous focused element has high priority to be chosen as the next\n   * candidate.\n   * @type {Boolean}\n   * @default false\n   * @memberof SpatialNavigator.prototype\n   */\n  rememberSource: false,\n\n  /**\n   * A callback function that accepcts an element as the first argument will\n   * be triggered everytime when SpatialNavigator tries to traverse every\n   * single candidate. You can ignore arbitrary elements by returning \"false\"\n   * in this function.\n   * @type {Function}\n   * @default null\n   * @memberof SpatialNavigator.prototype\n   */\n  navigableFilter: null,\n\n  /**\n   * setting this property true prevents spatialNavigator from emitting any\n   * events.\n   * @type {Boolean}\n   */\n  silent: false,\n\n  /**\n   * Rect represents position and dimension of a 2D object.\n   * @typedef {Object} Rect\n   * @property {Integer} left     Left position\n   * @property {Integer} top      Top position\n   * @property {Integer} right    Right position\n   * @property {Integer} bottom   Bottom position\n   * @property {Integer} width    Width dimension\n   * @property {Integer} height   Height dimension\n   * @property {Rect}    [center] Center position\n   * @property {Integer} [x]      same as left\n   * @property {Integer} [y]      same as top\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n\n\n   follow: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tsend: function ( type,event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\n  /**\n   * Get {@link Rect} of a {@link SpatialNavigatorElement}.\n   *\n   * @param {SpatialNavigatorElement} elem\n   *\n   * @return {Rect} dimension of elem.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  _getRect: function snGetRect(elem) {\n    var rect = null;\n\n    if (!this._isNavigable(elem)) {\n      return null;\n    }\n\n    if (elem.getBoundingClientRect) {\n      var cr = elem.getBoundingClientRect();\n      rect = {\n        left: cr.left,\n        top: cr.top,\n        width: cr.width,\n        height: cr.height\n      };\n    } else if (elem.left !== undefined) {\n      rect = {\n        left: parseInt(elem.left || 0, 10),\n        top: parseInt(elem.top || 0, 10),\n        width: parseInt(elem.width || 0, 10),\n        height: parseInt(elem.height || 0, 10)\n      };\n    } else {\n      return null;\n    }\n\n    rect.element = elem;\n    rect.right = rect.left + rect.width;\n    rect.bottom = rect.top + rect.height;\n    rect.center = {\n      x: rect.left + Math.floor(rect.width / 2),\n      y: rect.top + Math.floor(rect.height / 2)\n    };\n    rect.center.left = rect.center.right = rect.center.x;\n    rect.center.top = rect.center.bottom = rect.center.y;\n\n    return rect;\n  },\n\n  /**\n   * Get all {@link Rect} objects from the collection.\n   *\n   * @param {SpatialNavigatorElement} [excludedElem]\n   *        You can pass excludedElem here to ignore it from calculating.\n   *        (most likely, the currently focused element is passed).\n   *\n   * @return {Array.<Rect>} {@link Rect} objects of all traversable elements.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  _getAllRects: function snGetAllRects(excludedElem) {\n    var rects = [];\n\n    this._collection.forEach(function (elem) {\n      if (!excludedElem || excludedElem !== elem) {\n        var rect = this._getRect(elem);\n        if (rect) {\n          rects.push(rect);\n        }\n      }\n    }, this);\n\n    return rects;\n  },\n\n  /**\n   * Check whether a {@link SpatialNavigatorElement} is navigable.\n   *\n   * @param {SpatialNavigatorElement} elem\n   *\n   * @return {Boolean} true if it's navigable.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  _isNavigable: function snIsNavigable(elem) {\n    if (this.ignoreHiddenElement && elem instanceof HTMLElement) {\n      var computedStyle = window.getComputedStyle(elem);\n      if ((elem.offsetWidth <= 0 && elem.offsetHeight <= 0) ||\n        computedStyle.getPropertyValue('visibility') == 'hidden' ||\n        computedStyle.getPropertyValue('display') == 'none' ||\n        elem.hasAttribute('aria-hidden')) {\n        return false;\n      }\n    }\n    if (this.navigableFilter && !this.navigableFilter(elem)) {\n      return false;\n    }\n    return true;\n  },\n\n  /**\n   * Given a set of {@link Rect} array, divide them into 9 groups with\n   * respect to the position of targetRect. Rects centered inside targetRect\n   * are grouped as 4th group; straight left as 3rd group; straight right as\n   * 5th group; ..... and so on. See below for the corresponding group number:\n   *\n   * <pre>\n   *  |---+---+---|\n   *  | 0 | 1 | 2 |\n   *  |---+---+---|\n   *  | 3 | 4 | 5 |\n   *  |---+---+---|\n   *  | 6 | 7 | 8 |\n   *  |---+---+---|\n   * </pre>\n   *\n   * @param {Array.<Rect>} rects\n   *        {@link RectS} to be divided.\n   * @param {Rect} targetRect\n   *         Reference position for groups.\n   *\n   * @return {Array.Array.<SpatialNavigatorElement>}\n   *         A 9-elements array of array, where rects are categorized into\n   *         these 9 arrays by their group number.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   *\n   */\n  _partition: function snDemarcate(rects, targetRect) {\n    var groups = [[], [], [], [], [], [], [], [], []];\n\n    var threshold = this.straightOverlapThreshold;\n    if (threshold > 1 || threshold < 0) {\n      // Fallback to default value\n      threshold = 0.5;\n    }\n\n    rects.forEach(function (rect) {\n      var center = rect.center;\n      var x, y, groupId;\n\n      if (center.x < targetRect.left) {\n        x = 0;\n      } else if (center.x <= targetRect.right) {\n        x = 1;\n      } else {\n        x = 2;\n      }\n\n      if (center.y < targetRect.top) {\n        y = 0;\n      } else if (center.y <= targetRect.bottom) {\n        y = 1;\n      } else {\n        y = 2;\n      }\n\n      groupId = y * 3 + x;\n      groups[groupId].push(rect);\n\n      // Although a rect is in the oblique directions, we categorize it in\n      // the straight area as well if it overlaps the straight directions more\n      // than a specified threshold (0.5 by default).\n      if ([0, 2, 6, 8].indexOf(groupId) !== -1) {\n        if (rect.left <= targetRect.right - targetRect.width * threshold) {\n          if (groupId === 2) {\n            groups[1].push(rect);\n          } else if (groupId === 8) {\n            groups[7].push(rect);\n          }\n        }\n\n        if (rect.right >= targetRect.left + targetRect.width * threshold) {\n          if (groupId === 0) {\n            groups[1].push(rect);\n          } else if (groupId === 6) {\n            groups[7].push(rect);\n          }\n        }\n\n        if (rect.top <= targetRect.bottom - targetRect.height * threshold) {\n          if (groupId === 6) {\n            groups[3].push(rect);\n          } else if (groupId === 8) {\n            groups[5].push(rect);\n          }\n        }\n\n        if (rect.bottom >= targetRect.top + targetRect.height * threshold) {\n          if (groupId === 0) {\n            groups[3].push(rect);\n          } else if (groupId === 2) {\n            groups[5].push(rect);\n          }\n        }\n      }\n    });\n\n    return groups;\n  },\n\n  /**\n   * Bind targetRect to a set of distance functions for ranking. These\n   * functions work with another {@link Rect} object passed to get a ranking\n   * value relative to targetRect.\n   *\n   * @param {Rect} targetRect\n   *\n   * @return {Object.<function>}\n   *         An object containing a bunch of functions bound with targetRect.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  _getDistanceFunction: function snGetDistanceFunction(targetRect) {\n    return {\n      /* Plumb Line: a vertical line through the center of the\n         targetRect. */\n      nearPlumbLineIsBetter: function (rect) {\n        var d;\n        if (rect.center.x < targetRect.center.x) {\n          d = targetRect.center.x - rect.right;\n        } else {\n          d = rect.left - targetRect.center.x;\n        }\n        return d < 0 ? 0 : d;\n      },\n\n      /* Horizon: a horizontal line through the center of the\n         \"targetRect\". */\n      nearHorizonIsBetter: function (rect) {\n        var d;\n        if (rect.center.y < targetRect.center.y) {\n          d = targetRect.center.y - rect.bottom;\n        } else {\n          d = rect.top - targetRect.center.y;\n        }\n        return d < 0 ? 0 : d;\n      },\n\n      /* Target Left: a coincident line of the left edge of the\n         \"targetRect\". */\n      nearTargetLeftIsBetter: function (rect) {\n        var d;\n        if (rect.center.x < targetRect.center.x) {\n          d = targetRect.left - rect.right;\n        } else {\n          d = rect.left - targetRect.left;\n        }\n        return d < 0 ? 0 : d;\n      },\n\n      /* Target Top: a coincident line of the top edge of the\n         \"targetRect\". */\n      nearTargetTopIsBetter: function (rect) {\n        var d;\n        if (rect.center.y < targetRect.center.y) {\n          d = targetRect.top - rect.bottom;\n        } else {\n          d = rect.top - targetRect.top;\n        }\n        return d < 0 ? 0 : d;\n      },\n\n      /* top, bottom, left, and right: Just ranking by absolute coordinate\n         without respect to targetRect. Usually they are used as fallback\n         rules when ranks above are draw. */\n      topIsBetter: function (rect) {\n        return rect.top;\n      },\n      bottomIsBetter: function (rect) {\n        return -1 * rect.bottom;\n      },\n      leftIsBetter: function (rect) {\n        return rect.left;\n      },\n      rightIsBetter: function (rect) {\n        return -1 * rect.right;\n      }\n    };\n  },\n\n\n\n  /**\n   * PrioritySet contains a set of elements with distance functions that\n   * should be used to rank them (obtained from {@link\n   * SpatialNavigator#_getDistanceFunction}).\n   *\n   * @typedef PrioritySet\n   * @property {Array.<Rects>} group\n   *           {@link Rects} of elements that need to be prioritized.\n   * @property {Array.<function>} distance\n   *           Distance functions. Primary ranking rule should be put in index\n   *           0; secondary in index 1 (fallback rule when primary rule draws\n   *           ); and so on.\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  /**\n   * Pick a {@link Rect} with highest priority.\n   *\n   * @param {Array.<PrioritySet>} priorities\n   *        An array of {@link PrioritySet} that need to be prioritized. The\n   *        set with lowest index containing non-empty {PrioritySet.group}\n   *        would be prioritized.\n   * @param {SpatialNavigatorElement} target\n   *        The origin of coordinates for traversal.\n   * @param {String} direction\n   *        It should be \"left\", \"right\", \"up\" or \"down\".\n   *\n   * @return {Rect} the {@link Rect} of highest priority.\n   *\n   * @access private\n   * @memberof SpatialNavigator.prototype\n   */\n  _prioritize: function snPrioritize(priorities, target, direction) {\n    var destPriority = priorities.find(function (p) {\n      return !!p.group.length;\n    });\n\n    if (!destPriority) {\n      return null;\n    }\n\n    if (this.rememberSource &&\n      this._previous &&\n      target == this._previous.destination &&\n      direction == this._previous.reverse) {\n\n      var source = this._previous.source;\n      var found = destPriority.group.find(function (dest) {\n        return dest.element == source;\n      });\n      if (found) {\n        return found;\n      }\n    }\n\n    destPriority.group.sort(function (a, b) {\n      return destPriority.distance.reduce(function (answer, distance) {\n        return answer || (distance(a) - distance(b));\n      }, 0);\n    });\n\n    return destPriority.group[0];\n  },\n\n  /**\n   * Replace the set of traversable elements.\n   *\n   * @param  {Array.<SpatialNavigatorElement>} [collection=[]]\n             elements to be replaced. The array is deep-copied and never\n             be changed directly by SpatialNavigator.\n   *\n   * @fires SpatialNavigator#unfocus\n   * @memberof SpatialNavigator.prototype\n   */\n  setCollection: function snSetCollection(collection) {\n    this.unfocus();\n    this._collection = [];\n    if (collection) {\n      this.multiAdd(collection);\n    }\n  },\n\n  getCollection: function snGetCollection() {\n    return this._collection\n  },\n\n  /**\n   * Add an element to traversable set.\n   *\n   * @param  {SpatialNavigatorElement} elem\n   * @return {Boolean} true if succeed.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  add: function snAdd(elem) {\n    var index = this._collection.indexOf(elem);\n    if (index >= 0) {\n      return false;\n    }\n    this._collection.push(elem);\n    return true;\n  },\n\n  /**\n   * Add a bunch of elements to traversable set.\n   *\n   * @param  {Array.<SpatialNavigatorElement>} elements\n   * @return {Boolean} true if all elements are added successfully.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  multiAdd: function snMultiAdd(elements) {\n    return Array.from(elements).every(this.add, this);\n  },\n\n  /**\n   * Remove an element from traversable set.\n   *\n   * @param {SpatialNavigatorElement} elem\n   * @return {Boolean} true if succeed. false if elem does not exist.\n   *\n   * @fires SpatialNavigator#unfocus\n   * @memberof SpatialNavigator.prototype\n   */\n  remove: function snRemove(elem) {\n    var index = this._collection.indexOf(elem);\n    if (index < 0) {\n      return false;\n    }\n\n    if (this._focus === elem) {\n      this.unfocus();\n    }\n\n    this._collection.splice(index, 1);\n    return true;\n  },\n\n  /**\n   * Remove a bunch of elements to traversable set.\n   *\n   * @param  {Array.<SpatialNavigatorElement>} elements\n   * @return {Boolean} true if all elements are removed successfully.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  multiRemove: function snMultiRemove(elements) {\n    return Array.from(elements).every(this.remove, this);\n  },\n\n  focused: function (elem) {\n    this._focus = elem;\n  },\n\n  /**\n   * Move focus to an existing element.\n   *\n   * @param  {SpatialNavigatorElement} [elem]\n   *         when omitted, it focuses the last focused element or the first\n   *         navigable element if no previously-focused element is found.\n   *\n   * @return {Boolean} true if succeed. false if element doesn't exist.\n   *\n   * @fires SpatialNavigator#focus\n   * @fires SpatialNavigator#unfocus\n   * @memberof SpatialNavigator.prototype\n   */\n  focus: function snFocus(elem, direction, options) {\n    // If no arguments are received, let current focused element be the\n    // default.\n    if (!elem && this._focus && this._isNavigable(this._focus)) {\n      elem = this._focus;\n    }\n\n    if (!this._collection) {\n      return false;\n    }\n\n    if (!elem) {\n      var navigableElems = this._collection.filter(this._isNavigable, this);\n      if (!navigableElems.length) {\n        return false;\n      }\n      elem = navigableElems[0];\n    } else if (this._collection.indexOf(elem) < 0 ||\n      !this._isNavigable(elem)) {\n      return false;\n    }\n\n    this.unfocus();\n    this._focus = elem;\n\n    if (!this.silent) {\n      this.send('focus',{elem: this._focus, direction, options });\n    }\n    return true;\n  },\n\n  /**\n   * Remove focus if any.\n   *\n   * It will trigger \"unfocus\" event.\n   *\n   * @return {Boolean} succeed or not.\n   *\n   * @fires SpatialNavigator#unfocus\n   * @memberof SpatialNavigator.prototype\n   */\n  unfocus: function snUnfocus() {\n    if (this._focus) {\n      var elem = this._focus;\n      this._focus = null;\n      if (!this.silent) {\n        this.send('unfocus',{ elem: elem });\n      }\n    }\n    return true;\n  },\n\n  /**\n   * Get the currently focused element.\n   *\n   * @return {SpatialNavigatorElement} or null if nothing focused.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  getFocusedElement: function snGetFocusedElement() {\n    return this._focus;\n  },\n\n  /**\n   * Given a direction, find the element nearest to the focus element in that\n   * direction. This is equivalent to {@link SpatialNavigator#navigate} with\n   * focused element passed as target.\n   *\n   * @param {String} direction\n   *        It should be \"left\", \"right\", \"up\" or \"down\".\n   *\n   * @return {Boolean} true if succeed, false if nothing can be focused.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  move: function snMove(direction, options) {\n    var reverse = {\n      'left': 'right',\n      'up': 'down',\n      'right': 'left',\n      'down': 'up'\n    };\n\n    if (!this._focus) {\n      this._previous = null;\n      this.focus(null, direction, options);\n    } else {\n      var elem = this.navigate(this._focus, direction);\n      if (!elem) {\n        return false;\n      }\n      if (this.rememberSource) {\n        this._previous = {\n          source: this._focus,\n          destination: elem,\n          reverse: reverse[direction.toLowerCase()]\n        };\n      }\n      this.unfocus();\n      this.focus(elem, direction, options);\n    }\n    return true;\n  },\n\n\n  canmove: function (direction) {\n    if (this._focus) {\n      var elem = this.navigate(this._focus, direction);\n\n      if (elem !== null) return elem;\n    }\n\n    return false;\n  },\n\n  /**\n   * Given a direction, find an element nearest to the target element in that\n   * direction.\n   *\n   * @param {SpatialNavigatorElement} target\n   *        The origin of coordinates for traversal.\n   * @param {String} direction\n   *        It should be \"left\", \"right\", \"up\" or \"down\".\n   *\n   * @return {SpatialNavigatorElement}\n   *         The destination of the element which has the highest priority.\n   *\n   * @memberof SpatialNavigator.prototype\n   */\n  navigate: function snNavigate(target, direction) {\n    if (!target || !direction || !this._collection) {\n      return null;\n    }\n\n    direction = direction.toLowerCase();\n\n    var rects = this._getAllRects(target);\n    var targetRect = this._getRect(target);\n    if (!targetRect || !rects.length) {\n      return null;\n    }\n\n    /* Get distance functions for ranking priorities relative to targetRect */\n    var distanceFunction = this._getDistanceFunction(targetRect);\n\n    /* Candidate {@link Rect}s are divided into nine regions based on its\n       position with respect to targetRect. */\n    var groups = this._partition(rects, targetRect);\n\n    /* {@link Rect}s in group 4 overlaps with targetRect. We distribute them\n       further into 9 regions based on its position with respect to the\n       center point of targetRect. */\n    var internalGroups = this._partition(groups[4], targetRect.center);\n\n    /* priorities: This big array carrys candidate elements with related\n     * distance functions by appropriate priority we want. Depenging on the\n     * direction, 3 kinds of elements are added separately in the following\n     * order:\n     *\n     *   - 1st: candidates centered inside targetRect (group 4)\n     *          (so we pick up corresponding internalGroups).\n     *   - 2nd: in groups of straight direction (group 1, 3, 5, 7).\n     *   - 3rd: in groups of oblique direction (group 0, 2, 6, 8).\n     *\n     * For each kind of element above, ranking is performed by the following\n     * rules (distance functions) in order:\n     *\n     *   - 1st: distance between candidate and target.\n     *   - 2nd: absolute coordinate of candidates.\n     *   - 3rd: distance of left or top coordinate between candidate and\n     *          target (for oblique direction only)\n     *\n     * The switch...case block below is just to construct this array.\n     * We just pick the required order into array here, then call\n     * {SpatialNavigator#_prioritize} to do the trick.\n     */\n    var priorities;\n\n    switch (direction) {\n      case 'left':\n        priorities = [\n          {\n            group: internalGroups[0].concat(internalGroups[3])\n              .concat(internalGroups[6]),\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.topIsBetter\n            ]\n          },\n          {\n            group: groups[3],\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.topIsBetter\n            ]\n          },\n          {\n            group: groups[0].concat(groups[6]),\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.rightIsBetter,\n              distanceFunction.nearTargetTopIsBetter\n            ]\n          }\n        ];\n        break;\n      case 'right':\n        priorities = [\n          {\n            group: internalGroups[2].concat(internalGroups[5])\n              .concat(internalGroups[8]),\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.topIsBetter\n            ]\n          },\n          {\n            group: groups[5],\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.topIsBetter\n            ]\n          },\n          {\n            group: groups[2].concat(groups[8]),\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.leftIsBetter,\n              distanceFunction.nearTargetTopIsBetter\n            ]\n          }\n        ];\n        break;\n      case 'up':\n        priorities = [\n          {\n            group: internalGroups[0].concat(internalGroups[1])\n              .concat(internalGroups[2]),\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.leftIsBetter\n            ]\n          },\n          {\n            group: groups[1],\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.leftIsBetter\n            ]\n          },\n          {\n            group: groups[0].concat(groups[2]),\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.bottomIsBetter,\n              distanceFunction.nearTargetLeftIsBetter\n            ]\n          }\n        ];\n        break;\n      case 'down':\n        priorities = [\n          {\n            group: internalGroups[6].concat(internalGroups[7])\n              .concat(internalGroups[8]),\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.leftIsBetter\n            ]\n          },\n          {\n            group: groups[7],\n            distance: [\n              distanceFunction.nearHorizonIsBetter,\n              distanceFunction.leftIsBetter\n            ]\n          },\n          {\n            group: groups[6].concat(groups[8]),\n            distance: [\n              distanceFunction.nearPlumbLineIsBetter,\n              distanceFunction.topIsBetter,\n              distanceFunction.nearTargetLeftIsBetter\n            ]\n          }\n        ];\n        break;\n      default:\n        return null;\n    }\n\n    if (this.straightOnly) {\n      // Ignore candidates in oblique direction.\n      priorities.pop();\n    }\n\n    var dest = this._prioritize(priorities, target, direction);\n    if (!dest) {\n      return null;\n    }\n\n    return dest.element;\n  }\n};\n\nwindow.Navigator = new SpatialNavigator();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorVersion.vue?vue&type=style&index=0&id=88406768&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep4.vue?vue&type=style&index=0&id=03e3e160&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardScreen.vue?vue&type=style&index=0&id=5d5ef454&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavoritesNeedPremium.vue?vue&type=style&index=0&id=4a3ad48f&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=style&index=0&id=243619fa&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionNotification.vue?vue&type=style&index=0&id=3541da14&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatFrame.vue?vue&type=style&index=0&id=5e940f52&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumWelcome.vue?vue&type=style&index=1&id=3a82513a&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryScreen.vue?vue&type=style&index=0&id=c566bd42&prod&scoped=true&lang=scss&\"","var map = {\n\t\"./ar.json\": [\n\t\t\"af08\",\n\t\t\"lang-ar-json\"\n\t],\n\t\"./be.json\": [\n\t\t\"d174\",\n\t\t\"lang-be-json\"\n\t],\n\t\"./bg.json\": [\n\t\t\"dcd0\",\n\t\t\"lang-bg-json\"\n\t],\n\t\"./bs.json\": [\n\t\t\"5dca\",\n\t\t\"lang-bs-json\"\n\t],\n\t\"./ca.json\": [\n\t\t\"a4e4\",\n\t\t\"lang-ca-json\"\n\t],\n\t\"./co.json\": [\n\t\t\"cfec\",\n\t\t\"lang-co-json\"\n\t],\n\t\"./cs.json\": [\n\t\t\"c686\",\n\t\t\"lang-cs-json\"\n\t],\n\t\"./cy.json\": [\n\t\t\"60f1\",\n\t\t\"lang-cy-json\"\n\t],\n\t\"./da.json\": [\n\t\t\"21aa\",\n\t\t\"lang-da-json\"\n\t],\n\t\"./de.json\": [\n\t\t\"6ce2\",\n\t\t\"lang-de-json\"\n\t],\n\t\"./el.json\": [\n\t\t\"f184\",\n\t\t\"lang-el-json\"\n\t],\n\t\"./en.json\": [\n\t\t\"edd4\"\n\t],\n\t\"./es.json\": [\n\t\t\"a306\",\n\t\t\"lang-es-json\"\n\t],\n\t\"./et.json\": [\n\t\t\"e1db\",\n\t\t\"lang-et-json\"\n\t],\n\t\"./eu.json\": [\n\t\t\"3fdb\",\n\t\t\"lang-eu-json\"\n\t],\n\t\"./fa.json\": [\n\t\t\"15ad\",\n\t\t\"lang-fa-json\"\n\t],\n\t\"./fi.json\": [\n\t\t\"5754\",\n\t\t\"lang-fi-json\"\n\t],\n\t\"./fr.json\": [\n\t\t\"f693\",\n\t\t\"lang-fr-json\"\n\t],\n\t\"./fy.json\": [\n\t\t\"5ed9\",\n\t\t\"lang-fy-json\"\n\t],\n\t\"./gd.json\": [\n\t\t\"192a\",\n\t\t\"lang-gd-json\"\n\t],\n\t\"./gl.json\": [\n\t\t\"a2bd\",\n\t\t\"lang-gl-json\"\n\t],\n\t\"./he.json\": [\n\t\t\"ba8d\",\n\t\t\"lang-he-json\"\n\t],\n\t\"./hi.json\": [\n\t\t\"7a03\",\n\t\t\"lang-hi-json\"\n\t],\n\t\"./hr.json\": [\n\t\t\"92d7\",\n\t\t\"lang-hr-json\"\n\t],\n\t\"./hu.json\": [\n\t\t\"4e73\",\n\t\t\"lang-hu-json\"\n\t],\n\t\"./id.json\": [\n\t\t\"210c\",\n\t\t\"lang-id-json\"\n\t],\n\t\"./is.json\": [\n\t\t\"32db\",\n\t\t\"lang-is-json\"\n\t],\n\t\"./it.json\": [\n\t\t\"0825\",\n\t\t\"lang-it-json\"\n\t],\n\t\"./iw.json\": [\n\t\t\"4afc\",\n\t\t\"lang-iw-json\"\n\t],\n\t\"./ja.json\": [\n\t\t\"0423\",\n\t\t\"lang-ja-json\"\n\t],\n\t\"./km.json\": [\n\t\t\"5153\",\n\t\t\"lang-km-json\"\n\t],\n\t\"./kn.json\": [\n\t\t\"5914\",\n\t\t\"lang-kn-json\"\n\t],\n\t\"./ko.json\": [\n\t\t\"dd11\",\n\t\t\"lang-ko-json\"\n\t],\n\t\"./lt.json\": [\n\t\t\"6045\",\n\t\t\"lang-lt-json\"\n\t],\n\t\"./lv.json\": [\n\t\t\"f620\",\n\t\t\"lang-lv-json\"\n\t],\n\t\"./ml.json\": [\n\t\t\"b7ff\",\n\t\t\"lang-ml-json\"\n\t],\n\t\"./mr.json\": [\n\t\t\"18df\",\n\t\t\"lang-mr-json\"\n\t],\n\t\"./ms.json\": [\n\t\t\"2060\",\n\t\t\"lang-ms-json\"\n\t],\n\t\"./my.json\": [\n\t\t\"3ecc\",\n\t\t\"lang-my-json\"\n\t],\n\t\"./nb.json\": [\n\t\t\"85fc\",\n\t\t\"lang-nb-json\"\n\t],\n\t\"./nl.json\": [\n\t\t\"a625\",\n\t\t\"lang-nl-json\"\n\t],\n\t\"./pa.json\": [\n\t\t\"f2b6\",\n\t\t\"lang-pa-json\"\n\t],\n\t\"./pl.json\": [\n\t\t\"89b2\",\n\t\t\"lang-pl-json\"\n\t],\n\t\"./pt.json\": [\n\t\t\"5d67\",\n\t\t\"lang-pt-json\"\n\t],\n\t\"./ro.json\": [\n\t\t\"9542\",\n\t\t\"lang-ro-json\"\n\t],\n\t\"./ru.json\": [\n\t\t\"7704\",\n\t\t\"lang-ru-json\"\n\t],\n\t\"./si.json\": [\n\t\t\"0e7c\",\n\t\t\"lang-si-json\"\n\t],\n\t\"./sk.json\": [\n\t\t\"3da9\",\n\t\t\"lang-sk-json\"\n\t],\n\t\"./sl.json\": [\n\t\t\"d34a\",\n\t\t\"lang-sl-json\"\n\t],\n\t\"./sq.json\": [\n\t\t\"eb5e\",\n\t\t\"lang-sq-json\"\n\t],\n\t\"./sr.json\": [\n\t\t\"081a\",\n\t\t\"lang-sr-json\"\n\t],\n\t\"./sv.json\": [\n\t\t\"4c5b\",\n\t\t\"lang-sv-json\"\n\t],\n\t\"./ta.json\": [\n\t\t\"2393\",\n\t\t\"lang-ta-json\"\n\t],\n\t\"./te.json\": [\n\t\t\"143f\",\n\t\t\"lang-te-json\"\n\t],\n\t\"./th.json\": [\n\t\t\"8680\",\n\t\t\"lang-th-json\"\n\t],\n\t\"./tr.json\": [\n\t\t\"ffeb\",\n\t\t\"lang-tr-json\"\n\t],\n\t\"./uk.json\": [\n\t\t\"62ea\",\n\t\t\"lang-uk-json\"\n\t],\n\t\"./ur.json\": [\n\t\t\"621c\",\n\t\t\"lang-ur-json\"\n\t],\n\t\"./uz.json\": [\n\t\t\"7500\",\n\t\t\"lang-uz-json\"\n\t],\n\t\"./vi.json\": [\n\t\t\"aced\",\n\t\t\"lang-vi-json\"\n\t],\n\t\"./zh.json\": [\n\t\t\"3504\",\n\t\t\"lang-zh-json\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"39c3\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcecastAppBar.vue?vue&type=style&index=0&id=a5b0ed92&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectServer.vue?vue&type=style&index=1&id=1495de5c&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMenu.vue?vue&type=style&index=0&id=5c7149e1&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPremiumScreenTv.vue?vue&type=style&index=0&id=8b030502&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistoryNeedPremium.vue?vue&type=style&index=0&id=63925d8f&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOnline.vue?vue&type=style&index=0&id=f1e22032&prod&scoped=true&lang=scss&\"","export function shouldInstallMock(location) {\n  const url = new URL(location.href);\n  return parseInt(url.searchParams.get(\"mock\")) === 1;\n}\n","import { registerPlugin } from '@capacitor/core';\n\nimport type { AceStreamAppPlugin } from './definitions';\n\nconst AceStreamApp = registerPlugin<AceStreamAppPlugin>('AceStreamApp', {\n  web: () => import('./web').then(m => new m.AceStreamAppWeb()),\n});\n\nexport * from './definitions';\nexport { AceStreamApp };\n","import axios from \"axios\";\nimport { Base64 } from \"js-base64\";\n\nexport async function getAuthToken(host, params = {}) {\n  const response = await axios.get(`${host}/auth/token/get`, { params });\n  if (response.data.error) {\n    throw new Error(response.data.error);\n  }\n\n  if (!response.data.token) {\n    throw new Error(\"Failed to get auth token\");\n  }\n\n  return response.data.token;\n}\n\nexport function createDispatcherLink(host, token, data) {\n  const dataBase64 = Base64.encode(JSON.stringify(data));\n\n  return `${host}/do?stoken=${encodeURIComponent(\n    token\n  )}&data=${encodeURIComponent(dataBase64)}`;\n}\n","import axios from \"axios\";\n\nconst DOMAINS = [\n  \"https://m.acestream.org\",\n  \"https://m.acestream.net\",\n  \"https://m.acestream.media\",\n  \"https://m.acestream.tv\",\n];\n\nlet lastSuccessfulDomain = null;\n\n/**\n * Get domain list. Last successful is first, rest in the original order.\n */\nfunction getSortedDomainList() {\n  const list = [];\n\n  if (lastSuccessfulDomain) {\n    list.push(lastSuccessfulDomain);\n  }\n\n  for (const domain of DOMAINS) {\n    if (domain !== lastSuccessfulDomain) {\n      list.push(domain);\n    }\n  }\n\n  return list;\n}\n\n\nasync function ping(domain) {\n  try {\n    const url = `${domain}/.well-known/acestream/758d61f26a44448384e5c4468a0dcb7a2abe456067b0f7b505bc28b9411fe931?${Math.random()}`;\n\n    const timeoutMs = 5000;\n    const options = {};\n    if (window.AbortSignal && window.AbortSignal.timeout) {\n      options.signal = AbortSignal.timeout(timeoutMs);\n    } else {\n      options.timeout = timeoutMs;\n    }\n\n    const response = await axios.get(url, options);\n    console.log(\n      `ping response: domain=${domain} status=${response.status} data=${response.data}`\n    );\n    return (\n      response.data ===\n      \"9795c5ff8937f23526ccb207a5684c1fc94a7854e19c021b39d944e51f5baef2\"\n    );\n  } catch (e) {\n    console.log(`ping failed: domain=${domain} error=${e}`);\n    return false;\n  }\n}\n\n/**\n * Get first alive mirror\n */\nexport async function getBackendDomain() {\n  for (const domain of getSortedDomainList()) {\n    const status = await ping(domain);\n    if (status) {\n      lastSuccessfulDomain = domain;\n      return domain;\n    }\n  }\n  return null;\n}\n","export const NEED_STORAGE_PERMISSION = false;\n\nexport const BILLING_SUBSCRIPTION_ID_MONTH = \"packagepremium.m1.v2\";\nexport const BILLING_SUBSCRIPTION_ID_YEAR = \"packagepremium.y1.v2\";\nexport const BILLING_PRODUCT_ID_LIFETIME = \"premium.lifetime.v2\";\nexport const BILLING_PRODUCT_ID_LIFETIME_FULL = \"premium.lifetime.v2.full\";\n\n// Use this to test subscriptions configuration\n// export const BILLING_SUBSCRIPTION_ID_MONTH = \"packagepremium.m1.v2.test\";\n// export const BILLING_SUBSCRIPTION_ID_YEAR = \"packagepremium.y1.v2.test\";\n// export const BILLING_PRODUCT_ID_LIFETIME = \"premium.lifetime.v1.test\";\n// export const BILLING_PRODUCT_ID_LIFETIME_FULL = \"premium.lifetime.v1.full.test\";","import { defineStore } from \"pinia\";\nimport { NEED_STORAGE_PERMISSION } from \"@/config\";\n\nexport const usePermissionsStore = defineStore(\"permissions\", {\n  state: () => {\n    const permissions = {\n      notifications: \"granted\",\n    }\n\n    // granted - nothing to request, permission is granted\n    // ask - show a dialog to ask for the permission\n    // notify - don't show dialog, notify user in non-interactive way\n    const requests = {\n      notifications: \"granted\",\n    }\n\n    if (NEED_STORAGE_PERMISSION) {\n      permissions.storage = \"granted\"\n      requests.storage = \"granted\"\n    }\n\n    return {\n      permissions,\n      outstandingPermission: null, // this is set when we cannot continue without this permission\n      requests,\n    };\n  },\n  getters: {\n    allGranted: (state) => {\n      for (const permission in state.permissions) {\n        if (state.permissions[permission] !== \"granted\") {\n          return false;\n        }\n      }\n      return true;\n    },\n    pendingPermissionDialog: (state) => {\n      if (state.outstandingPermission) {\n        return state.outstandingPermission;\n      }\n\n      //TODO: move to config\n      // set the priority of permissions\n      const permissions = [\n        // 'notifications',\n      ];\n\n      for (let i = 0; i < permissions.length; i++) {\n        const permission = permissions[i];\n        if (state.requests[permission] === \"ask\") {\n          return permission;\n        }\n      }\n\n      return null;\n    },\n    pendingPermissionNotification: (state) => {\n      //TODO: move to config\n      // set the priority of permissions\n      const permissions = [\"notifications\"];\n      if (NEED_STORAGE_PERMISSION) {\n        permissions.push(\"storage\")\n      }\n\n      for (let i = 0; i < permissions.length; i++) {\n        const permission = permissions[i];\n        if (state.requests[permission] === \"notify\") {\n          return permission;\n        }\n      }\n\n      return null;\n    },\n  },\n  actions: {},\n});\n","import { defineStore } from \"pinia\";\nimport { Preferences } from \"@capacitor/preferences\";\n\nasync function readPref(key, defaultValue = null) {\n  const { value } = await Preferences.get({ key });\n  return value ? JSON.parse(value) : defaultValue;\n}\n\nasync function writePref(key, value) {\n  await Preferences.set({\n    key,\n    value: JSON.stringify(value),\n  });\n}\n\nexport const usePrefsStore = defineStore(\"prefs\", {\n  state: () => {\n    return {\n      onboarding: {\n        welcome: null,\n        mainScreen: null,\n        inputPanel: null,\n      },\n    };\n  },\n  getters: {},\n  actions: {\n    async init() {\n      this.onboarding.welcome = await readPref(\"onboarding_welcome\", true);\n      this.onboarding.mainScreen = await readPref(\n        \"onboarding_main_screen\",\n        true\n      );\n      this.onboarding.inputPanel = await readPref(\n        \"onboarding_input_panel\",\n        true\n      );\n    },\n    async setOnboardingWelcome(value) {\n      await writePref(\"onboarding_welcome\", value);\n      this.onboarding.welcome = value;\n    },\n    async setOnboardingMainScreen(value) {\n      await writePref(\"onboarding_main_screen\", value);\n      this.onboarding.mainScreen = value;\n    },\n    async setOnboardingInputPanel(value) {\n      await writePref(\"onboarding_input_panel\", value);\n      this.onboarding.inputPanel = value;\n    },\n  },\n});\n","import axios from \"axios\";\n\nconst endpoint = axios.create({\n  baseURL: \"https://android.acestream.net\",\n  timeout: 10000,\n});\n\n// eslint-disable-next-line no-unused-vars\nexport async function getBillingConfig() {\n  try {\n    const reponse = await endpoint.get(\"/config/billing\");\n    if (reponse.status !== 200) {\n      console.error(`Failed to get billing config: code=${reponse.status} response=${reponse.data}`);\n      return null\n    }\n    return reponse.data;\n  } catch (e) {\n    console.error(`Failed to get billing config: error=${e.message}`);\n    return null;\n  }\n}\n","import axios from \"axios\";\nimport { defineStore } from \"pinia\";\nimport { Toast } from \"@capacitor/toast\";\nimport { usePermissionsStore } from \"@/stores/permissions\";\nimport { usePrefsStore } from \"@/stores/prefs\";\nimport { getBillingConfig } from \"@/lib/billing\";\nimport { BILLING_SUBSCRIPTION_ID_MONTH, BILLING_SUBSCRIPTION_ID_YEAR, BILLING_PRODUCT_ID_LIFETIME, BILLING_PRODUCT_ID_LIFETIME_FULL } from \"@/config\";\n\n\nasync function postJson(url, data) {\n  //NOTE: we actually use GET here because our webview doesn't support POST requests (drawback of using custom resolver)\n  return await axios.get(url, { params: { body: JSON.stringify(data) } });\n}\n\nfunction parseDaysFromOfferString(offerString) {\n    // Regular Expression:\n    // (\\d+)      -> Capture one or more digits (the number)\n    // d          -> Followed immediately by the letter 'd'\n    const regex = /free-(\\d+)d/;\n\n    // Attempt to match the pattern in the string\n    const match = offerString.match(regex);\n\n    // Check if a match was found and if the capturing group (\\d+) exists\n    if (match && match[1]) {\n        // match[0] is the full match (\"7d\")\n        // match[1] is the content of the first capturing group (\"7\")\n        return parseInt(match[1], 10);\n    }\n\n    // Return null if the pattern was not found\n    return null;\n}\n\nexport const useMainStore = defineStore(\"main\", {\n  state: () => {\n    return {\n      appVersion: process.env.VUE_APP_VERSION,\n      initialized: false,\n      firstRenderReceived: false,\n      state: {},\n      media: {\n        uri: null,\n        item: null,\n        state: null,\n        error: null,\n      },\n      appInfo: null,\n      // Used for testing only. Must be disabled in production.\n      showTestButtons: false,\n      showTestMenu: false,\n      showTestLinks: false,\n      // This is set when we receive \"FAILED\" event and reset on \"RUNNING\" event.\n      // The purpose is to cache \"failed\" state and not hide \"failed\" message when engine is trying to restart.\n      engineFailed: false,\n      remoteDebugEnabled: false,\n      dialogs: {\n        needPremium: false,\n      },\n      error: {\n        visible: false,\n        message: null,\n        timeout: 3000,\n      },\n      // Current visible interactive element (e.g. dialog or menu)\n      currentInteractive: null,\n\n      // If this ref is set to function then it's called when \"back\" arrow from nav bar is clicked\n      navBackHook: null,\n\n      currentSubscriptionType: \"year\",\n      lastIntent: null,\n      forumLink: \"https://forum.acestream.media/\",\n      minRemoteEngineVersionName: \"3.2.2\",\n      minRemoteEngineVersionCode: 3020200,\n\n      engineActivation: {\n        host: null,\n        port: 0,\n        token: null,\n      },\n\n      sidePanelVisible: false,\n      billingConfig: null,\n      appNotifications: [],\n      fullscreenNotificationVisible: false,\n      fullscreenNotificationUrl: null,\n      fullscreenNotificationCloseOnBack: false,\n      fullscreenNotifications: [],\n      fullscreenNotificationDismissed: false,\n    };\n  },\n  getters: {\n    appNotification: (state) => state.appNotifications.length > 0 ? state.appNotifications[0].notification : null,\n    fullscreenNotification: (state) => state.fullscreenNotifications.length > 0 && !state.fullscreenNotificationDismissed\n      ? state.fullscreenNotifications[0].notification : null,\n    isMock: (state) => state.state?.isMock,\n    locale: (state) => state.state?.locale,\n    applicationId: (state) => state.state?.applicationId,\n    applicationVersionCode: (state) => state.state?.applicationVersionCode,\n    showMediaPopup: (state) => state.media.state !== null,\n    engineReady: (state) =>\n      state.state &&\n      state.state.engineState == \"RUNNING\" &&\n      !!state.state.engineApiAccessToken,\n    pendingAppUpdate: (state) => state.state?.appUpdate,\n    appUpdateError: (state) => state.state?.appUpdateError,\n    isBaseApp: (state) => state.initialized && !state.state.isEngineInstalled,\n    isEngineActivated: (state) =>\n      state.initialized &&\n      (!state.isBaseApp || state.state.selectedEngineState?.useRemote),\n    showWelcomeOnBoarding() {\n      const permissionsStore = usePermissionsStore();\n      const prefsStore = usePrefsStore();\n      return (\n        prefsStore.onboarding.welcome &&\n        permissionsStore.permissions.notifications !== \"granted\"\n      );\n    },\n    isTv(state) {\n      return this.sendAndCastEnabled || state.state.isTv\n    },\n    hasBrowser: (state) => state.state?.hasBrowser,\n    hasMarketApp: (state) => state.state?.hasMarketApp,\n    sendAndCastEnabled: () => process.env.VUE_APP_MODE === \"sendcast\",\n    isGooglePlayVersion: (state) =>\n      state?.state?.applicationId === \"org.acestream.node\",\n    aceCastConnectUrl: (state) =>\n      state.sendAndCastEnabled ? \"websend.app/connect\" : \"acestream.me/acecast\",\n    liveTvEnabled: () => false,\n    historySupported: (state) => state.state?.historySupported,\n    favoritesSupported: (state) => state.state?.favoritesSupported,\n    uninstallOldAppEnabled: () => false,\n    showAccountView: (state) => !state.isTv,\n    preventFocus: (state) => state.currentInteractive !== null,\n    mainSmartphoneRouteName: () => \"main\",\n    mainTvRouteName: () => \"acecast-dashboard\",\n    // mainTvRouteName: () => \"premium-tv\",\n    mainRouteName(state) {\n      return state.isTv ? this.mainTvRouteName : this.mainSmartphoneRouteName;\n    },\n    sortedTransfers: (state) =>\n      state.state.fileReceiver?.transfers?.sort(\n        (a, b) => b.created_at - a.created_at\n      ) ?? [],\n    activeTransfers() {\n      return this.sortedTransfers.filter((t) => !t.completed && !t.failed);\n    },\n    failedTransfers() {\n      return this.sortedTransfers.filter((t) => t.failed);\n    },\n    completedTransfers() {\n      return this.sortedTransfers.filter((t) => t.completed);\n    },\n\n    allAvailableAceCastDevices: (state) =>\n      state.state?.aceCastDiscoveryState?.devices?.length > 0\n        ? state.state?.aceCastDiscoveryState?.devices\n        : [],\n\n    // first available acecast device\n    availableAceCastDevice: (state) =>\n      state.state?.aceCastDiscoveryState?.devices?.length > 0\n        ? state.state?.aceCastDiscoveryState?.devices[0]\n        : null,\n    aceCastGotConnection() {\n      return !!this.availableAceCastDevice;\n    },\n\n    canGoBack: (state) => state.sidePanelVisible,\n  },\n  actions: {\n    showFullscreenNotification({ url, closeOnBack=false }) {\n      console.log(`showFullscreenNotification: url=${url} closeOnBack=${closeOnBack}`);\n      this.fullscreenNotificationVisible = true;\n      this.fullscreenNotificationUrl = url;\n      this.fullscreenNotificationCloseOnBack = closeOnBack;\n    },\n    dismissFullscreenNotification() {\n      console.log(`dismissFullscreenNotification`);\n      this.fullscreenNotificationDismissed = true;\n      this.fullscreenNotificationVisible = false;\n      this.fullscreenNotificationCloseOnBack = false;\n    },\n    async updateBillingConfig() {\n      const config = await getBillingConfig();\n      console.log(`updateBillingConfig: config=${JSON.stringify(config)}`);\n      this.billingConfig = config;\n    },\n    openNeedPremiumDialog() {\n      this.dialogs.needPremium = true;\n    },\n    closeNeedPremiumDialog() {\n      this.dialogs.needPremium = false;\n    },\n    canGoBackFromRoute(name) {\n      const mainRoutes = this.isTv ? [\"main\", \"account\", \"sign-in\"] : [\"main\"];\n      return !mainRoutes.includes(name);\n    },\n    resetMedia() {\n      this.media.uri = null;\n      this.media.item = null;\n      this.media.state = null;\n      this.media.error = null;\n    },\n    showError(message) {\n      //TODO: is it good idea to implement global \"show error\" here, in the store?\n      if (typeof message === \"object\") {\n        message = message.message;\n      }\n      this.showToast(message);\n    },\n    showToast(message) {\n      Toast.show({ text: message });\n    },\n    showErrorSnackbar(message) {\n      this.error.message = message;\n      this.error.visible = true;\n      setTimeout(() => {\n        this.error.message = null;\n        this.error.visible = false;\n      }, this.error.timeout);\n    },\n    remoteLog(message, data = {}) {\n      try {\n        if (this.remoteDebugEnabled) {\n          postJson(\"https://android.acestream.net/api/v1/log\", {\n            message,\n            data,\n          });\n        }\n      } catch (e) {\n        console.error(`remote log failed: ${e}`);\n      }\n    },\n    cancelInteractive() {\n      this.currentInteractive.cancel();\n      this.currentInteractive = null;\n    },\n    getSubscriptionInfo(subscriptionId) {\n      const defaultPrices = {};\n      defaultPrices[BILLING_SUBSCRIPTION_ID_MONTH] = {\n        fullPrice: \"$3.00\",\n        // promoPrice: \"$1.50\",\n        promoPrice: null,\n        currency: \"USD\",\n        freeDays: 0,\n      }\n      defaultPrices[BILLING_SUBSCRIPTION_ID_YEAR] = {\n        fullPrice: \"$30.00\",\n        // promoPrice: \"$15.00\",\n        promoPrice: null,\n        currency: \"USD\",\n        freeDays: 0,\n      }\n\n      let gotDataFromConfig = false\n      let fullPrice;\n      let promoPrice;\n      let currency;\n      let freeDays;\n\n      const data = this.state?.subscriptionPrices?.[subscriptionId];\n      if (data) {\n        let firstOffer = true;\n        for (const offer of data) {\n          // First offer is promo price\n          if (offer.offerId && firstOffer) {\n            firstOffer = false;\n\n            if (offer.offerId.indexOf(\"-free-\") !== -1) {\n              freeDays = parseDaysFromOfferString(offer.offerId);\n            } else {\n              promoPrice = offer.formattedPrice;\n            }\n\n            console.log(`getSubscriptionInfo: id=${subscriptionId} offerId=${offer.offerId} promoPrice=${promoPrice} freeDays=${freeDays} data=${JSON.stringify(offer)}`)\n          }\n          // Base plan (offerId == null)\n          if (!offer.offerId) {\n            fullPrice = offer.formattedPrice;\n            currency = offer.currency;\n            gotDataFromConfig = true;\n          }\n        }\n      } else if (this.billingConfig && this.billingConfig[subscriptionId]) {\n        const configData = this.billingConfig[subscriptionId];\n        fullPrice = configData.fullPrice;\n        promoPrice = configData.promoPrice;\n        currency = configData.currency;\n        gotDataFromConfig = true;\n      }\n\n      if (!gotDataFromConfig) {\n        if (defaultPrices[subscriptionId]) {\n          fullPrice = defaultPrices[subscriptionId].fullPrice;\n          promoPrice = defaultPrices[subscriptionId].promoPrice;\n          freeDays = defaultPrices[subscriptionId].freeDays;\n          currency = defaultPrices[subscriptionId].currency;\n        }\n      }\n\n      return {\n        fullPrice,\n        promoPrice,\n        freeDays,\n        currency,\n      };\n    },\n    getProductInfo(productId) {\n      const defaultPrices = {};\n      defaultPrices[BILLING_PRODUCT_ID_LIFETIME] = {\n        fullPrice: \"$150.00\",\n        // promoPrice: \"$105.00\",\n        promoPrice: null,\n        currency: \"USD\",\n      }\n\n      let gotDataFromConfig = false;\n      let realPrice;\n      let fullPrice;\n      let promoPrice;\n      let currency;\n\n      const data = this.state?.productPrices?.[productId];\n      if (data && data.length > 0) {\n        const offer = data[0];\n        currency = offer.currency;\n        realPrice = offer.formattedPrice;\n        gotDataFromConfig = true;\n      } else if (this.billingConfig && this.billingConfig[productId]) {\n        const configData = this.billingConfig[productId];\n        fullPrice = configData.fullPrice;\n        promoPrice = configData.promoPrice;\n        currency = configData.currency;\n        gotDataFromConfig = true;\n      }\n\n      if (this.isGooglePlayVersion && productId === BILLING_PRODUCT_ID_LIFETIME) {\n        const dataFullPrice = this.state?.productPrices?.[BILLING_PRODUCT_ID_LIFETIME_FULL];\n        if (dataFullPrice && dataFullPrice.length > 0) {\n          const offer = dataFullPrice[0];\n          fullPrice = offer.formattedPrice;\n          promoPrice = realPrice;\n\n          if (fullPrice === promoPrice) {\n            promoPrice = null;\n          }\n        } else {\n          fullPrice = realPrice;\n        }\n      }\n\n      if (!gotDataFromConfig) {\n        if (defaultPrices[productId]) {\n          fullPrice = defaultPrices[productId].fullPrice;\n          promoPrice = defaultPrices[productId].promoPrice;\n          currency = defaultPrices[productId].currency;\n        }\n      }\n\n      return {\n        fullPrice,\n        promoPrice,\n        currency,\n      };\n    },\n    setBannerNotifications(notifications) {\n      this.appNotifications = notifications;\n    },\n    setFullscreenNotifications(notifications) {\n      this.fullscreenNotifications = notifications;\n    },\n  },\n});\n","import { defineStore } from \"pinia\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { getAuthToken, createDispatcherLink } from \"@/lib/auth\";\nimport { getBackendDomain } from \"@/lib/backend-state\";\nimport { useMainStore } from \"@/stores/main\";\n\nconst PREMIUM_LINK_TTL = 60000; // 1 minute\n\nexport const useAuthStore = defineStore(\"auth\", {\n  state: () => {\n    return {\n      auth: null,\n      premiumLinkStore: {}, // map userName => premiumLink\n    };\n  },\n  getters: {\n    showBalance: (state) => {\n      const authData = state.auth?.authData;\n      if (!authData) return false;\n      if (authData.purse_amount < 0) return false; // -1 when not initialized\n      return authData.purse_amount > 0 || authData.auth_level > 1;\n    },\n    loading: (state) => state.auth?.isAuthInProgress,\n    packageColor: (state) => state.auth?.authData?.package_color,\n    packageDaysLeft: (state) => state.auth?.authData?.package_days_left,\n    packageName: (state) => state.auth?.authData?.package_name,\n    purseAmount: (state) => state.auth?.authData?.purse_amount / 100.0,\n    webViewAuthMethod: (state) => state.auth?.webViewAuthMethod,\n    webViewAuthToken: (state) => state.auth?.webViewAuthToken,\n    signedIn: (state) =>\n      state.auth?.googleSignedIn || state.auth?.authData?.auth_level > 0,\n    //TODO: is this enough?\n    hasPremium: (state) => state.auth?.authData?.auth_level > 17,\n    username: (state) =>\n      state.auth?.googleSignedIn\n        ? state.auth.googleLogin\n        : state.auth?.engineLogin,\n  },\n  actions: {\n    async signInGoogle() {\n      await AceStreamApp.signInGoogle();\n    },\n    async signInUsername(username, password, autoRegister) {\n      const response = await AceStreamApp.signInUsername({\n        username,\n        password,\n        autoRegister,\n      });\n      this.auth.authData = response;\n    },\n    async signOut() {\n      await AceStreamApp.signOut();\n      this.auth = null;\n    },\n\n    /**\n     * Get auth token for the specified backend mirron.\n     * User is authenticated via webview_auth_token.\n     * Retrieved token can then be used to auth on that domain via ?stoken=<token> param\n     */\n    async getAuthTokenForDomain(domain) {\n      const params = {\n        use_internal_auth: 2, // to use token from query string\n        x_acestream_auth_method: this.webViewAuthMethod,\n        x_acestream_auth_token: this.webViewAuthToken,\n      };\n\n      return await getAuthToken(domain, params);\n    },\n\n    /**\n     * Get payment link.\n     *\n     * This method find alive backend mirror and creates premium payment link, trying also to\n     * add auth token (but this is optional).\n     */\n    async getPremiumLink() {\n\n      // Check cache\n      const username = this.username ?? 'guest';\n      const savedData = this.premiumLinkStore[username];\n      if (savedData) {\n        const age = Date.now() - savedData.createdAt;\n        if (age < PREMIUM_LINK_TTL) {\n          console.log(`getPremiumLink: use cached: username=${username} age=${age}`);\n          return savedData.value;\n        } else {\n          console.log(`getPremiumLink: skip cached: username=${username} age=${age}`);\n        }\n      }\n\n      // Get alive backend domain mirror\n      const backendDomain = await getBackendDomain();\n      if (!backendDomain) {\n          throw new Error(`failed to get backend domain`);\n      }\n\n      // Try to get auth token\n      let authToken = null\n      try {\n          authToken = await this.getAuthTokenForDomain(backendDomain);\n      } catch (e) {\n          console.error(`getPremiumLink: failed to get auth token: ${e.message}`);\n      }\n\n      // URL to show to user\n      const displayUrl = `${backendDomain}/premium`;\n\n      // Real URL (e.g. to be encoded in QR-code)\n      let url;\n\n      if (authToken) {\n        const mainStore = useMainStore();\n        const data = {\n          locale: mainStore.locale,\n          target: \"premium-init\",\n        };\n        url = createDispatcherLink(backendDomain, authToken, data);\n      } else {\n        url = displayUrl;\n      }\n\n      const result = {\n        displayUrl,\n        url,\n      };\n\n      // Save to cache\n      this.premiumLinkStore[username] = {\n        createdAt: Date.now(),\n        value: result,\n      };\n\n      return result;\n    },\n  },\n});\n","//NOTE: this store is currently not used\nimport { defineStore } from \"pinia\";\nimport { computed, nextTick, ref, watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\nexport const useAppUpdateStore = defineStore(\"appUpdate\", () => {\n  const mainStore = useMainStore();\n\n  // refs\n  const waitingForDownload = ref(false);\n  const installClicked = ref(false);\n  const waitingForStateUpdate = ref(false);\n  const errorFlag = ref(false);\n  const showErrorFlag = ref(false);\n  const selfUpdateNotificationShown = ref(false);\n  const updateNotificationVisible = ref(false);\n\n  // computed\n  const loading = computed(\n    () =>\n      updateStatus.value === \"IN_QUEUE\" ||\n      updateStatus.value === \"ACTIVE\" ||\n      (updateStatus.value === \"STANDBY\" && waitingForDownload.value) ||\n      (waitingForState.value && installClicked.value)\n  );\n  const updateStatus = computed(() => mainStore.pendingAppUpdate?.status);\n  const updateProgress = computed(() => mainStore.pendingAppUpdate?.progress);\n  const gotError = computed(\n    () => !!mainStore.appUpdateError || errorFlag.value\n  );\n  const showError = computed(() => gotError.value && showErrorFlag.value);\n  const waitingForState = computed(\n    () =>\n      !updateStatus.value && (!gotError.value || waitingForStateUpdate.value)\n  );\n\n  //NOTE: base app has its own update progress UI\n  const isUpdateActive = computed(\n    () => !mainStore.isBaseApp && (loading.value || gotError.value)\n  );\n  const gotSelfUpdate = computed(() => {\n    if (mainStore.pendingAppUpdate) {\n      if (mainStore.isGooglePlayVersion) {\n        return true;\n      } else {\n        return (\n          Math.floor(mainStore.pendingAppUpdate.versionCode / 100) >\n          Math.floor(mainStore.state.applicationVersionCode / 100)\n        );\n      }\n    }\n    return false;\n  });\n\n  // methods\n  function snooze() {\n    const delay = 86400000;\n    const snoozedUntil = Date.now() + delay;\n    window.localStorage.setItem(\n      \"update_notification_snoozed_until\",\n      snoozedUntil\n    );\n  }\n\n  function unsnooze() {\n    window.localStorage.removeItem(\"update_notification_snoozed_until\");\n  }\n\n  function isSnoozed() {\n    let snoozedUntil = window.localStorage.getItem(\n      \"update_notification_snoozed_until\"\n    );\n    if (snoozedUntil) {\n      snoozedUntil = parseInt(snoozedUntil);\n      if (isNaN(snoozedUntil)) {\n        snoozedUntil = 0;\n      }\n    } else {\n      snoozedUntil = 0;\n    }\n\n    const wait = snoozedUntil - Date.now();\n    return wait > 0;\n  }\n\n  async function checkSelfUpdate() {\n    try {\n      waitingForStateUpdate.value = true;\n      await AceStreamApp.checkSelfUpdate();\n    } catch (e) {\n      console.error(`checkSelfUpdate:error: ${e}`);\n    } finally {\n      waitingForStateUpdate.value = false;\n    }\n  }\n\n  async function install(fromUser = false) {\n    try {\n      if (!mainStore.pendingAppUpdate.canInstall) {\n        if (mainStore.pendingAppUpdate?.notificationUrl) {\n          window.open(mainStore.pendingAppUpdate.notificationUrl);\n        } else {\n          console.error(\"install: missing notification url\");\n          throw \"internal_error\";\n        }\n        return;\n      }\n\n      // reset error flag\n      errorFlag.value = false;\n\n      if (fromUser) {\n        showErrorFlag.value = true;\n      }\n\n      if (gotError.value && fromUser) {\n        checkSelfUpdate();\n      }\n\n      if (waitingForState.value) {\n        // If there is no state yet then show \"downloading\" screen and run install()\n        // again as soon as the state is available.\n\n        console.log(\n          `install: wait for state: waitingForStateUpdate=${waitingForStateUpdate.value} status=${updateStatus.value}`\n        );\n        installClicked.value = true;\n\n        // Don't wait for state forever\n        const timeoutTimer = setTimeout(() => {\n          unwatch();\n          installClicked.value = false;\n        }, 30000);\n\n        // Wait for the state\n        const unwatch = watch(\n          waitingForState,\n          (newValue) => {\n            console.log(`install: state update: available=${!newValue}`);\n            if (!newValue) {\n              installClicked.value = false;\n              if (timeoutTimer) {\n                clearTimeout(timeoutTimer);\n              }\n              install();\n            }\n          },\n          { immediate: true }\n        );\n      } else if (mainStore.pendingAppUpdate?.canInstall) {\n        if (updateProgress.value != 100) {\n          // We are going to download an update.\n          // We won't receive ACTIVE state immediately but we want to give a feedback to user right now.\n          // To do this we add artificial delay.\n          waitingForDownload.value = true;\n          await nextTick();\n        }\n\n        // Setup timer after calling selfUpdateClicked() because we don't want to reset timer\n        // earlier than it finishes. selfUpdateClicked() can take some time to finish because\n        // it may issue a network request.\n        if (waitingForDownload.value) {\n          setTimeout(() => (waitingForDownload.value = false), 3500);\n        }\n\n        await AceStreamApp.selfUpdateClicked();\n      } else {\n        throw new Error(\"internal_error\");\n      }\n    } catch (e) {\n      console.error(`install:error: ${e.message}`);\n      errorFlag.value = true;\n    }\n  }\n\n  function reset() {\n    waitingForDownload.value = false;\n    installClicked.value = false;\n    waitingForStateUpdate.value = false;\n    errorFlag.value = false;\n    showErrorFlag.value = false;\n  }\n\n  function showUpdateNotification() {\n    if (!isSnoozed()) {\n      updateNotificationVisible.value = true;\n      mainStore.currentInteractive = {\n        cancel: () => {},\n      };\n    }\n  }\n\n  function hideUpdateNotification() {\n    updateNotificationVisible.value = false;\n    mainStore.currentInteractive = null;\n  }\n\n  return {\n    waitingForDownload,\n    installClicked,\n    waitingForStateUpdate,\n    loading,\n    updateProgress,\n    updateStatus,\n    isUpdateActive,\n    gotError,\n    showError,\n    updateNotificationVisible,\n    selfUpdateNotificationShown,\n    gotSelfUpdate,\n    install,\n    reset,\n    showUpdateNotification,\n    hideUpdateNotification,\n    snooze,\n    unsnooze,\n  };\n});\n","import axios from \"axios\";\nimport { useMainStore } from \"@/stores/main\";\n\nfunction engineAddress() {\n  const store = useMainStore();\n  return `${store.state.engineHost}:${store.state.enginePort}`;\n}\n\nfunction endpoint(method) {\n  return `http://${engineAddress()}/server/api?method=${method}`;\n}\n\nasync function makeRequest(method, { params = {}, useToken = false } = {}) {\n  const url = endpoint(method);\n  if (useToken) {\n    const store = useMainStore();\n    const token = store.state.engineApiAccessToken;\n    params[\"token\"] = token;\n  }\n  return axios.get(url, { params }).then(convertResponse).catch(handleError);\n}\n\nfunction convertResponse(response) {\n  if (response.data.error) {\n    throw response.data.error;\n  } else {\n    return response.data.result;\n  }\n}\n\nfunction handleError(error) {\n  if (error.code == \"ERR_NETWORK\") {\n    throw \"engine_not_connected\";\n  } else {\n    throw error;\n  }\n}\n\nexport const engine = {\n  analyzeContent(query) {\n    const params = {\n      query,\n      expand_wrapper: 1,\n      fetch_title: 1,\n    };\n    return makeRequest(\"analyze_content\", { params });\n  },\n\n  notifications: {\n    get(force = false) {\n      return makeRequest(\"get_notifications\", {\n        params: { force },\n        useToken: true,\n      });\n    },\n    markRead(id) {\n      return makeRequest(\"notification_mark_read\", {\n        params: { id },\n        useToken: true,\n      });\n    },\n    markUnread(id) {\n      return makeRequest(\"notification_mark_unread\", {\n        params: { id },\n        useToken: true,\n      });\n    },\n  },\n\n  filetransfers: {\n    cancel(id) {\n      return axios.get(\n        `http://${engineAddress()}/api/v1/filetransfers/${id}/cancel`\n      );\n    },\n    delete(id) {\n      return axios.get(\n        `http://${engineAddress()}/api/v1/filetransfers/${id}/delete`\n      );\n    },\n  },\n};\n","import { defineStore } from \"pinia\";\nimport { engine } from \"@/lib/engine\";\n\nexport const useNotificationsStore = defineStore(\"notifications\", {\n  state: () => {\n    return {\n      notifications: [],\n    };\n  },\n  getters: {\n    topNotification: (state) => {\n      const unread = state.notifications.filter((x) => !x.read);\n      if (unread.length == 0) {\n        return () => null;\n      }\n\n      const sorted = unread.sort((a, b) => {\n        if (a.priority < b.priority) {\n          return -1;\n        } else if (a.priority == b.priority) {\n          return 0;\n        } else {\n          return 1;\n        }\n      });\n\n      return (type) => {\n        for (let index = 0; index < sorted.length; index++) {\n          const notification = sorted[index];\n          if (notification.type === type) {\n            return notification;\n          }\n        }\n        return null;\n      };\n    },\n  },\n  actions: {\n    async load(force = false) {\n      const response = await engine.notifications.get(force);\n      console.log(`notifications: ${JSON.stringify(response)}`);\n      this.notifications = response.notifications;\n    },\n    async markRead(id) {\n      await engine.notifications.markRead(id);\n      this.load();\n    },\n    async markUnread(id) {\n      await engine.notifications.markUnread(id);\n      this.load();\n    },\n  },\n});\n","import { defineStore } from \"pinia\";\nimport { computed, ref } from \"vue\";\n\n\nexport const useAppsStore = defineStore(\"appUpdate\", () => {\n  const installingPackageId = ref(null);\n  const installingPackageName = ref(null);\n\n  const installed = ref([]);\n  const updates = ref([]);\n  const downloads = ref([]);\n  const available = ref([]);\n\n  const allApps = computed(() => {\n    // Merge all apps into a single object with type info\n\n    const mergeItems = [\n      { ref: available, type: \"available\" },\n      { ref: installed, type: \"installed\" },\n      { ref: downloads, type: \"downloads\" },\n      { ref: updates, type: \"updates\" },\n    ];\n\n    const apps = {};\n\n    mergeItems.forEach(({ ref, type }) => {\n      ref.value.forEach((item) => {\n        apps[item.packageName] = {\n          type,\n          ...item,\n        };\n      });\n    });\n\n    return apps;\n  });\n\n  function getAppState(packageId) {\n    for (const app of Object.values(allApps.value)) {\n      if (app.packageName === packageId) {\n        return app;\n      }\n    }\n    return null;\n  }\n\n  return {\n    installed,\n    updates,\n    downloads,\n    available,\n    installingPackageId,\n    installingPackageName,\n    allApps,\n    getAppState,\n  }\n});","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page fill-height\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex justify-center landscape--hidden\",staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"cols\":\"12\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})]),_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_vm._v(\" \"+_vm._s(_setup.authStore.username)+\" \")]),_c('v-col',{staticClass:\"d-flex justify-center align-center\",attrs:{\"cols\":\"12\"}},[(_setup.authStore.packageDaysLeft >= 43000)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"lifetime\"))+\" \")]):(_setup.authStore.packageDaysLeft >= 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$tc(\"days_left\", _setup.authStore.packageDaysLeft, { count: _setup.authStore.packageDaysLeft, }))+\" \")]):_vm._e(),_c('div',{staticClass:\"package-circle mx-2\",class:_setup.authStore.packageColor}),_c('div',[_vm._v(\" \"+_vm._s(_setup.authStore.packageName)+\" \")])]),_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-upgrade', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-upgrade', enabled: !mainStore.preventFocus }\"}],attrs:{\"blue\":\"\"},on:{\"click\":function($event){return _setup.upgrade()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"upgrade\"))+\" \")])],1),(_setup.authStore.showBalance && !_setup.mainStore.isGooglePlayVersion)?_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-balance', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-balance', enabled: !mainStore.preventFocus }\"}],attrs:{\"disabled\":_setup.loadingBackendState},on:{\"click\":function($event){return _setup.topup()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"topup_button_title\", { amount: _vm.$n(_setup.authStore.purseAmount, \"decimal\"), }))+\" \")])],1):_vm._e(),_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-sign-out', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-sign-out', enabled: !mainStore.preventFocus }\"}],on:{\"click\":function($event){return _setup.signOut()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_out\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"as-btn\",class:_setup.styleClass,attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed } from \"vue\";\n\ndefineEmits([\"click\"]);\n\nconst props = defineProps({\n  blue: {\n    type: Boolean,\n    default: false,\n  },\n  white: {\n    type: Boolean,\n    default: false,\n  },\n  rounded: {\n    type: Boolean,\n    default: false,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst styleClass = computed(() => {\n  let className;\n\n  if (props.blue) {\n    className = \"btn-blue\";\n  } else if (props.white) {\n    className = \"btn-white\";\n  } else {\n    className = \"btn-transparent\";\n  }\n\n  if (props.disabled) {\n    className += \" as-disabled\";\n  }\n\n  if (props.rounded) {\n    className += \" as-rounded\";\n  }\n\n  return className;\n});\n</script>\n\n<template>\n  <div\n    class=\"as-btn\"\n    tabindex=\"0\"\n    :class=\"styleClass\"\n    v-ripple\n    @click=\"$emit('click')\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$focusedBackgroundColor: rgba(255, 255, 255, 0.9);\n$focusedColor: #212121;\n\n.as-btn {\n  display: block;\n  height: 36px;\n  line-height: 34px;\n  width: 100vw;\n  background-color: transparent;\n  border: 1px solid #bbbbbb;\n  border-radius: 4px;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  position: relative;\n  cursor: pointer;\n  box-sizing: border-box;\n  color: #fff;\n  max-width: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .is-tv &:focus {\n    background-color: $focusedBackgroundColor !important;\n    color: $focusedColor;\n    border-color: transparent !important;\n  }\n\n  .is-tv &:focus .v-icon {\n    color: $focusedColor;\n  }\n\n  &.btn-blue {\n    background-color: #218caf;\n    border-color: #218caf;\n  }\n\n  &.as-disabled {\n    border-color: rgba(255, 255, 255, 0.65);\n    color: rgba(255, 255, 255, 0.65);\n  }\n\n  &.as-rounded {\n    border-radius: 64px;\n    max-width: none;\n    width: auto;\n    height: auto;\n    padding: 0px 24px;\n  }\n\n  &.btn-white {\n    background-color: $focusedBackgroundColor;\n    border-color: $focusedBackgroundColor;\n    color: $focusedColor;\n\n    &.as-disabled {\n      background-color: rgba(255, 255, 255, 0.5);\n      border-color: rgba(255, 255, 255, 0.1);\n      color: rgba(0, 0, 0, 0.5);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainButton.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainButton.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./MainButton.vue?vue&type=template&id=de6dbb4c&scoped=true&\"\nimport script from \"./MainButton.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./MainButton.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./MainButton.vue?vue&type=style&index=0&id=de6dbb4c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de6dbb4c\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { getCurrentInstance, onMounted, onBeforeUnmount } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useLinkDeviceStore } from \"@/stores/link-device\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\nimport Controller from \"@/lib/controller\";\n\n// variables\nconst PAGE_ID = 'account-signed-in';\n\nlet canSaveFocus = [\n  'app-bar-account-signed-in',\n  'button-upgrade',\n  'button-sign-out',\n];\n\n// router\nconst router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\nconst linkDeviceStore = useLinkDeviceStore();\n\n// lifecycle\nonMounted(() => {\n  Controller.setupNavigation({ pageId: PAGE_ID });\n  bindEvents();\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n});\n\nasync function signOut() {\n  linkDeviceStore.requestCode({ force: true });\n  await authStore.signOut();\n}\n\nfunction upgrade() {\n  router.replace({ name: \"premium-tv\" });\n}\n\nfunction onFocus(event) {\n  console.log(`account:focus: id=${event.elem.id}`)\n  if (canSaveFocus.indexOf(event.elem.id) !== -1) {\n    Controller.setLastFocused({ pageId: PAGE_ID, elementId: event.elem.id });\n  }\n}\n\nfunction bindEvents() {\n  Navigator.follow('focus', onFocus);\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      console.log('account: move down', e);\n      if (e.target?.id === 'app-bar-account-signed-in' || e.target?.id === 'button-main-menu') {\n        Navigator.focus(document.getElementById('button-upgrade'));\n      } else {\n        Navigator.move('down');\n      }\n    },\n    up: (e) => {\n      console.log('account: move up', e);\n      if (e.target?.id === 'button-upgrade') {\n        Navigator.focus(document.getElementById('app-bar-account-signed-in'));\n      } else {\n        Navigator.move('up');\n      }\n    },\n    enter: (e) => {\n      if (e.target?.id === 'app-bar-account-signed-in') {\n        Navigator.focus(document.getElementById('button-upgrade'));\n      }\n    }\n  });\n}\n\nfunction unbindEvents() {\n  Navigator.removeListener('focus', onFocus);\n  Controller.removeHandler(PAGE_ID);\n}\n</script>\n\n<template>\n  <v-container class=\"fill-height\">\n    <v-row dense>\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <img src=\"@/assets/img/acestream_logo.svg\" height=\"96\" />\n      </v-col>\n\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        {{ authStore.username }}\n      </v-col>\n\n      <v-col cols=\"12\" class=\"d-flex align-center justify-center my-1\">\n        <div v-if=\"authStore.packageDaysLeft >= 43000\">\n          {{ $t(\"lifetime\") }}\n        </div>\n        <div v-else-if=\"authStore.packageDaysLeft >= 0\">\n          {{\n            $tc(\"days_left\", authStore.packageDaysLeft, {\n              count: authStore.packageDaysLeft,\n            })\n          }}\n        </div>\n        <div class=\"package-circle mx-2\" :class=\"authStore.packageColor\"></div>\n        <div>\n          {{ authStore.packageName }}\n        </div>\n      </v-col>\n\n      <v-col cols=\"12\" class=\"d-flex justify-center my-1\">\n        <the-button\n          id=\"button-upgrade\"\n          key=\"button-upgrade\"\n          class=\"selector account-button\"\n          text\n          withBorder\n          blue\n          v-focus=\"{ id: 'button-upgrade', enabled: !mainStore.preventFocus }\"\n          @click=\"upgrade()\"\n        >\n          {{ $t(\"upgrade\") }}\n        </the-button>\n      </v-col>\n\n      <v-col cols=\"12\" class=\"d-flex justify-center my-1\">\n        <the-button\n          id=\"button-sign-out\"\n          key=\"button-sign-out\"\n          class=\"selector account-button\"\n          text\n          withBorder\n          v-focus=\"{ id: 'button-sign-out', enabled: !mainStore.preventFocus }\"\n          @click=\"signOut()\"\n        >\n          {{ $t(\"sign_out\") }}\n        </the-button>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<style scoped>\n.package-circle {\n  display: inline-block;\n  border-radius: 50%;\n  width: 13px;\n  height: 13px;\n}\n.package-circle.red {\n  background-color: #ff5c46;\n}\n.package-circle.yellow {\n  background-color: #fdc725;\n}\n.package-circle.green {\n  background-color: #27a75b;\n}\n.package-circle.blue {\n  background-color: #218caf;\n}\n.account-button {\n  min-width: 150px !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AccountScreen.vue?vue&type=template&id=661cc627&scoped=true&\"\nimport script from \"./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AccountScreen.vue?vue&type=style&index=0&id=661cc627&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"661cc627\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_setup.mainStore.isEngineActivated)?_c(_setup.ActivationWelcome,_vm._b({},'activation-welcome',_vm.$attrs,false)):(_setup.mainStore.showWelcomeOnBoarding)?_c(_setup.OnBoardingScreen):_c(_setup.MainScreen)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page as-page-engine-activation\"},[(_setup.loading)?[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.engine_downloading\"))+\" \")])]),_c('div',{staticClass:\"as-center-container d-flex flex-column\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.permissions_hint\"))+\" \"),_vm._m(1)]),_c('div',{staticClass:\"as-vertical-fill d-flex align-center justify-center\"},[(_setup.loading)?_c('v-progress-circular',{attrs:{\"size\":\"48\",\"width\":\"2\",\"indeterminate\":_setup.waitingForState || _setup.updateProgress == 100,\"value\":_setup.updateProgress}},[(_setup.updateProgress != 100)?_c('span',[_vm._v(\" \"+_vm._s(_setup.updateProgress)+\" \")]):_vm._e()]):_vm._e()],1)]:[_c('div',{staticClass:\"as-top-container\"},[_vm._m(2),_c('div',{staticClass:\"as-title\"},[_vm._v(_vm._s(_vm.$t(\"activation_welcome.title\")))])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button mb-5\",on:{\"click\":function($event){return _setup.install(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.use_local\"))+\" \")]),_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button mb-6\",on:{\"click\":_setup.connectRemote}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.use_remote\"))+\" \")]),_c('div',{staticClass:\"help-container\"},[_c('div',{staticClass:\"as-text\",domProps:{\"innerHTML\":_vm._s(_vm.$t('activation_welcome.need_help'))}}),_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button as-icon\",on:{\"click\":_setup.showHelp}},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" contact_support \")])])])]),_c('div',{staticClass:\"as-vertical-fill\"})]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" system_update_alt \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-image flex-grow d-flex flex-column align-center justify-end\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/grant_install_permissions.svg\")}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport {\n  computed,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  ref,\n  watch,\n} from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\n// props\nconst props = defineProps({\n  autoInstall: {\n    type: Boolean,\n    default: false,\n  },\n});\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst waitingForDownload = ref(false);\nconst installClicked = ref(false);\nconst waitingForStateUpdate = ref(false);\n\n// computed\nconst loading = computed(\n  () =>\n    updateStatus.value === \"IN_QUEUE\" ||\n    updateStatus.value === \"ACTIVE\" ||\n    (updateStatus.value === \"STANDBY\" && waitingForDownload.value) ||\n    (waitingForState.value && installClicked.value)\n);\nconst updateStatus = computed(() => mainStore.pendingAppUpdate?.status);\nconst updateProgress = computed(() => mainStore.pendingAppUpdate?.progress);\nconst gotError = computed(() => !!mainStore.appUpdateError);\nconst waitingForState = computed(\n  () => !updateStatus.value && (!gotError.value || waitingForStateUpdate.value)\n);\n\n// lifecycle\nonMounted(() => {\n  if (props.autoInstall) {\n    install(true);\n  }\n});\n\n// methods\nfunction connectRemote() {\n  $router.push({ name: \"activation-connect-welcome\" });\n}\n\nfunction showHelp() {\n  $router.push({ name: \"activation-help\" });\n}\n\nasync function checkSelfUpdate() {\n  try {\n    waitingForStateUpdate.value = true;\n    await AceStreamApp.checkSelfUpdate();\n  } catch (e) {\n    console.error(`checkSelfUpdate:error: ${e}`);\n  } finally {\n    waitingForStateUpdate.value = false;\n  }\n}\n\nasync function install(fromUser = false) {\n  try {\n    if (gotError.value && fromUser) {\n      checkSelfUpdate();\n    }\n\n    if (waitingForState.value) {\n      // If there is no state yet then show \"downloading\" screen and run install()\n      // again as soon as the state is available.\n\n      console.log(\n        `install: wait for state: waitingForStateUpdate=${waitingForStateUpdate.value} status=${updateStatus.value}`\n      );\n      installClicked.value = true;\n\n      // Don't wait for state forever\n      const timeoutTimer = setTimeout(() => {\n        unwatch();\n        installClicked.value = false;\n      }, 30000);\n\n      // Wait for the state\n      const unwatch = watch(\n        waitingForState,\n        (newValue) => {\n          console.log(`install: state update: available=${!newValue}`);\n          if (!newValue) {\n            installClicked.value = false;\n            if (timeoutTimer) {\n              clearTimeout(timeoutTimer);\n            }\n            install();\n          }\n        },\n        { immediate: true }\n      );\n    } else if (gotError.value) {\n      $router.push({ name: \"activation-install-error\" });\n    } else if (mainStore.pendingAppUpdate?.canInstall) {\n      if (updateProgress.value != 100) {\n        // We are going to download an update.\n        // We won't receive ACTIVE state immediately but we want to give a feedback to user right now.\n        // To do this we add artificial delay.\n        waitingForDownload.value = true;\n        await nextTick();\n      }\n      await AceStreamApp.selfUpdateClicked();\n\n      // Setup timer after calling selfUpdateClicked() because we don't want to reset timer\n      // earlier than it finishes. selfUpdateClicked() can take some time to finish because\n      // it may issue a network request.\n      if (waitingForDownload.value) {\n        setTimeout(() => (waitingForDownload.value = false), 3500);\n      }\n    } else {\n      throw new Error(\"internal_error\");\n    }\n  } catch (e) {\n    const msg = e.toString();\n    mainStore.showError(msg);\n  }\n}\n</script>\n\n<template>\n  <div class=\"as-page as-page-engine-activation\">\n    <!--\n    <div style=\"position: absolute; top: 0; left: 0\">\n      autoInstall:{{ autoInstall }} status:{{ updateStatus }} progress:{{\n        updateProgress\n      }}\n      gotError:{{ gotError }}\n    </div>\n    -->\n\n    <!-- we are loading apk -->\n    <template v-if=\"loading\">\n      <div class=\"as-top-container\">\n        <div class=\"as-icon\">\n          <span class=\"material-symbols-outlined\"> system_update_alt </span>\n        </div>\n        <div class=\"as-title\">\n          {{ $t(\"activation_welcome.engine_downloading\") }}\n        </div>\n      </div>\n\n      <div class=\"as-center-container d-flex flex-column\">\n        {{ $t(\"activation_welcome.permissions_hint\") }}\n        <div\n          class=\"as-image flex-grow d-flex flex-column align-center justify-end\"\n        >\n          <img src=\"@/assets/img/grant_install_permissions.svg\" />\n        </div>\n      </div>\n\n      <div class=\"as-vertical-fill d-flex align-center justify-center\">\n        <v-progress-circular\n          v-if=\"loading\"\n          size=\"48\"\n          width=\"2\"\n          :indeterminate=\"waitingForState || updateProgress == 100\"\n          :value=\"updateProgress\"\n        >\n          <span v-if=\"updateProgress != 100\">\n            {{ updateProgress }}\n          </span>\n        </v-progress-circular>\n      </div>\n    </template>\n\n    <!-- regular welcome page -->\n    <template v-else>\n      <div class=\"as-top-container\">\n        <div class=\"as-icon\">\n          <img src=\"@/assets/img/acestream_logo.svg\" height=\"96\" />\n        </div>\n        <div class=\"as-title\">{{ $t(\"activation_welcome.title\") }}</div>\n      </div>\n\n      <div class=\"as-center-container\">\n        {{ $t(\"activation_welcome.description\") }}\n      </div>\n\n      <div class=\"as-bottom-container\">\n        <div v-ripple class=\"selector-button mb-5\" @click=\"install(true)\">\n          {{ $t(\"activation_welcome.use_local\") }}\n        </div>\n        <div v-ripple class=\"selector-button mb-6\" @click=\"connectRemote\">\n          {{ $t(\"activation_welcome.use_remote\") }}\n        </div>\n        <div class=\"help-container\">\n          <div\n            class=\"as-text\"\n            v-html=\"$t('activation_welcome.need_help')\"\n          ></div>\n          <div v-ripple class=\"selector-button as-icon\" @click=\"showHelp\">\n            <span class=\"material-symbols-outlined\"> contact_support </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"as-vertical-fill\"></div>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\"></style>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  @media screen and (max-height: 640px) {\n    .as-top-container {\n      min-height: auto;\n      .as-icon {\n        display: none;\n      }\n    }\n  }\n\n  .as-center-container {\n    padding-bottom: 0;\n\n    .as-image {\n      flex-grow: 1;\n\n      img {\n        opacity: 0.65;\n        width: 55vw;\n      }\n    }\n  }\n\n  .help-container {\n    .as-text {\n      line-height: 1.2;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationWelcome.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationWelcome.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ActivationWelcome.vue?vue&type=template&id=564396a7&scoped=true&\"\nimport script from \"./ActivationWelcome.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ActivationWelcome.vue?vue&type=script&setup=true&lang=js&\"\nimport style1 from \"./ActivationWelcome.vue?vue&type=style&index=1&id=564396a7&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"564396a7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"screen-container\",on:{\"click\":function($event){return _vm.hideHints()}}},[(_vm.mainStore.showTestButtons)?_c('engine-connection-info'):_vm._e(),_c('div',{staticClass:\"as-slot as-slot-top-banner\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.mainStore.engineFailed)?_c('engine-failed-banner'):(_vm.notificationsStore.topNotification('inline'))?_c('message-banner',{staticClass:\"mb-4\",attrs:{\"notification\":_vm.notificationsStore.topNotification('inline')}}):_vm._e()],1)],1),(!_vm.mainStore.engineFailed)?_c('div',{staticClass:\"as-slot as-slot-content\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"85%\"}},[_c('input-button',{staticClass:\"mb-8\",on:{\"showInputPanel\":function($event){return _vm.showInputPanel()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"universal_input_prompt\"))+\" \")]),_c('transition',{attrs:{\"name\":\"fade-slow\",\"mode\":\"out-in\"}},[(_vm.typingInput)?_c('div',{staticClass:\"as-typeit typeit-input\",on:{\"click\":function($event){_vm.typingInput = false}}},[_c('span',{ref:\"typeitInput\"})]):_vm._e()])],1),_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"d-flex align-center justify-center\",staticStyle:{\"position\":\"relative\"},attrs:{\"cols\":\"4\"}},[_c('app-icon',{attrs:{\"icon\":\"select-file\",\"title\":_vm.$t('open_file')},on:{\"click\":function($event){return _vm.selectFile()}}}),_c('transition',{attrs:{\"name\":\"fade-slow\",\"mode\":\"out-in\"}},[(_vm.typingOpenFile)?_c('div',{staticClass:\"as-typeit typeit-open-file\",on:{\"click\":function($event){_vm.typingOpenFile = false}}},[_c('span',{ref:\"typeitOpenFile\"})]):_vm._e()])],1),(_vm.mainStore.favoritesSupported)?_c('v-col',{staticClass:\"d-flex align-center justify-center\",staticStyle:{\"position\":\"relative\"},attrs:{\"cols\":\"4\"}},[_c('app-icon',{attrs:{\"icon\":\"favorites\",\"title\":_vm.$t('favorites'),\"disabled\":!_vm.mainStore.engineReady},on:{\"click\":function($event){return _vm.openFavorites()}}})],1):_vm._e(),(_vm.mainStore.historySupported)?_c('v-col',{staticClass:\"d-flex align-center justify-center\",staticStyle:{\"position\":\"relative\"},attrs:{\"cols\":\"4\"}},[_c('app-icon',{attrs:{\"icon\":\"history\",\"title\":_vm.$t('history'),\"disabled\":!_vm.mainStore.engineReady},on:{\"click\":function($event){return _vm.openHistory()}}})],1):_vm._e()],1)],1)],1):_vm._e(),_c('div',{staticClass:\"as-slot as-slot-bottom-banner\"},[(_vm.showUninstallBanner)?_c('UninstallOldAppBanner',{staticClass:\"mb-4\"}):(_vm.showSelfUpdateBanner)?_c('AppUpdateBanner',{staticClass:\"mb-4\"}):_vm._e()],1),(_vm.mainStore.showTestButtons)?_c('div',[_c('v-btn',{on:{\"click\":function($event){return _vm.testSyncClicked()}}},[_vm._v(\"Test sync\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testNotificationClicked()}}},[_vm._v(\"Test notification\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testToastClicked()}}},[_vm._v(\"Test toast\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testPermissionsClicked()}}},[_vm._v(\"Test permissions\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testNetworkRequest()}}},[_vm._v(\"Test network\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testRestoreNotificaion()}}},[_vm._v(\"Test restore notification\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testPopupClicked()}}},[_vm._v(\"Test popup\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.testInstall()}}},[_vm._v(\"Test install\")])],1):_vm._e(),(false && _vm.notificationsStore.topNotification('popup'))?_c('popup-dialog',{attrs:{\"notification\":_vm.notificationsStore.topNotification('popup')}}):_vm._e(),_c('need-premium-dialog'),_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { usePermissionsStore } from \"@/stores/permissions\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { NativeSettings, AndroidSettings } from \"capacitor-native-settings\";\nimport { Preferences } from \"@capacitor/preferences\";\nimport { NEED_STORAGE_PERMISSION } from \"@/config\";\n\nconst PERMISSION_ASK_MAX_COUNT = 3;\nconst PERMISSION_ASK_FREQUENCY = 86400 * 1000;\n\nexport async function updatePermissions() {\n  const store = usePermissionsStore();\n  let result;\n\n  result = await AceStreamApp.checkNotificationsPermission();\n  console.log(`notifications: ${result.state}`);\n  store.permissions.notifications = result.state;\n  await updatePermissionsRequestsState(\"notifications\");\n\n  result = await AceStreamApp.checkPermissions();\n  console.log(`storage: ${result.storage}`);\n  store.permissions.storage = result.storage;\n  await updatePermissionsRequestsState(\"storage\");\n}\n\nasync function updatePermissionsRequestsState(permission) {\n  const store = usePermissionsStore();\n\n  if (store.permissions[permission] === \"granted\") {\n    store.requests[permission] = \"granted\";\n  } else if (await shouldAskForPermission(permission)) {\n    store.requests[permission] = \"ask\";\n  } else {\n    store.requests[permission] = \"notify\";\n  }\n}\n\nfunction prefkey(permission) {\n  return `ask_permission_${permission}`;\n}\n\nfunction defaultAskPrefs() {\n  return {\n    askedCount: 0,\n    lastAskedAt: 0,\n  };\n}\n\nasync function getAskPrefs(permission) {\n  const { value } = await Preferences.get({ key: prefkey(permission) });\n  return value ? JSON.parse(value) : defaultAskPrefs();\n}\n\nasync function setAskPrefs(permission, value) {\n  await Preferences.set({\n    key: prefkey(permission),\n    value: JSON.stringify(value),\n  });\n}\n\nasync function shouldAskForPermission(permission) {\n  const prefs = await getAskPrefs(permission);\n\n  if (prefs.askedCount >= PERMISSION_ASK_MAX_COUNT) {\n    return false;\n  }\n\n  const age = Date.now() - prefs.lastAskedAt;\n  if (age < PERMISSION_ASK_FREQUENCY) {\n    return false;\n  }\n\n  return true;\n}\n\nexport async function registerPermissionAsk(permission) {\n  const store = usePermissionsStore();\n  store.outstandingPermission = null;\n\n  const prefs = await getAskPrefs(permission);\n  prefs.askedCount += 1;\n  prefs.lastAskedAt = Date.now();\n  await setAskPrefs(permission, prefs);\n}\n\nexport async function requestPermission(permission) {\n  if (permission == \"notifications\") {\n    return requestNotificationsPermission();\n  } else if (permission == \"storage\") {\n    return requestStoragePermission();\n  } else {\n    throw `unknown permission requested: ${permission}`;\n  }\n}\n\nasync function requestStoragePermission() {\n  const store = usePermissionsStore();\n  let result = await AceStreamApp.checkPermissions();\n  if (result.storage !== \"granted\") {\n    if (result.storage === \"denied\") {\n      openAppSettings();\n    } else {\n      result = await AceStreamApp.requestPermissions({\n        permissions: [\"storage\"],\n      });\n      store.permissions.storage = result.storage;\n      if (result.storage !== \"granted\") {\n        throw \"No storage permission\";\n      }\n    }\n  }\n}\n\nfunction openAppSettings() {\n  NativeSettings.openAndroid({\n    option: AndroidSettings.ApplicationDetails,\n  });\n}\n\nexport async function openNotificationsSettings() {\n  await NativeSettings.openAndroid({\n    option: AndroidSettings.AppNotification,\n  });\n}\n\nasync function requestNotificationsPermission() {\n  const store = usePermissionsStore();\n  let result = await AceStreamApp.checkNotificationsPermission();\n  if (result.state !== \"granted\") {\n    if (result.state === \"denied\") {\n      openNotificationsSettings();\n    } else {\n      result = await AceStreamApp.requestNotificationsPermission();\n      store.permissions.notifications = result.state;\n      if (result.state !== \"granted\") {\n        throw \"No notifications permission\";\n      }\n    }\n  }\n}\n\nexport function isGranted(permission) {\n  if (permission === \"storage\" && !NEED_STORAGE_PERMISSION) {\n    return true\n  } else {\n    return usePermissionsStore().permissions[permission] === \"granted\";\n  }\n}\n\nexport function isDenied(permission) {\n  if (permission === \"storage\" && !NEED_STORAGE_PERMISSION) {\n    return false\n  } else {\n    return usePermissionsStore().permissions[permission] === \"denied\";\n  }\n}\n","import { useMainStore } from \"@/stores/main\";\nimport { FilePicker } from \"@capawesome/capacitor-file-picker\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { isGranted } from \"@/lib/permissions\";\n\nexport async function selectFile() {\n  const store = useMainStore();\n\n  if (store.state.useRemoteEngine) {\n    throw \"unavailable_for_remote_engine\";\n  }\n\n  if (!isGranted(\"storage\")) {\n    throw \"missing_storage_permission\";\n  }\n\n  try {\n    const result = await FilePicker.pickFiles({ multiple: false });\n    console.log(`pick-file:success: ${JSON.stringify(result)}`);\n\n    const uri = result.files[0].path\n    const title = result.files[0].name\n\n    if (uri?.startsWith('content:')) {\n      await AceStreamApp.playDirectStream({ uri, title });\n    } else {\n      const resolved = await AceStreamApp.resolveContentUri({\n        uri,\n      });\n      console.log(`resolved=${JSON.stringify(resolved)}`);\n      await AceStreamApp.play({ uri: resolved.result });\n    }\n  } catch (e) {\n    let suppress = false;\n\n    if (e.message == \"pickFiles canceled.\") {\n      // This exception is thrown when the user cancels \"pick files\" dialog.\n      // No need to show an error message.\n      suppress = true;\n    }\n\n    if (!suppress) {\n      // rethrow with more readable message\n      throw new Error(e.message || 'Unknown error', { cause: e });\n    }\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-app-icon-container\",class:{'disabled': _vm.disabled },on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('v-badge',{attrs:{\"value\":_vm.badgeNew,\"color\":\"accent\",\"overlap\":\"\"}},[_c('div',{staticClass:\"as-app-icon-body\",class:`as-app-icon-body-${_vm.icon}`},[_c('div',{staticClass:\"as-app-icon\",class:`as-icon-${_vm.icon}`})])]),_c('div',{staticClass:\"as-app-icon-title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcon.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcon.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AppIcon.vue?vue&type=template&id=92d69d0e&scoped=true&\"\nimport script from \"./AppIcon.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AppIcon.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AppIcon.vue?vue&type=style&index=0&id=92d69d0e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92d69d0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"outlined\":\"\",\"color\":\"rgba(0, 0, 0, 0.25)\",\"width\":\"90%\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.title\"))+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.text\", { version: _setup.mainStore.pendingAppUpdate.version }))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_setup.loading},on:{\"click\":function($event){return _setup.update()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"update\"))+\" \")])],1),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"timeout\":\"3000\"},model:{value:(_setup.error.visible),callback:function ($$v) {_vm.$set(_setup.error, \"visible\", $$v)},expression:\"error.visible\"}},[_vm._v(\" \"+_vm._s(_vm.$t(_setup.error.message))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, ref, watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\n\n// stores\nconst mainStore = useMainStore();\nconst appUpdateStore = useAppUpdateStore();\n\nconst buttonDisabled = ref(false);\nconst error = ref({\n  visible: false,\n  message: null,\n});\n\nasync function update() {\n  try {\n    // always disable the button for a while to prevent mutiple clicks\n    buttonDisabled.value = true;\n    setTimeout(() => {\n      buttonDisabled.value = false;\n    }, 2000);\n\n    if (mainStore.pendingAppUpdate.canInstall) {\n      await appUpdateStore.install(true);\n    } else if (mainStore.pendingAppUpdate.notificationUrl) {\n      window.open(mainStore.pendingAppUpdate.notificationUrl);\n    } else {\n      throw \"internal_error\";\n    }\n  } catch (e) {\n    mainStore.showError(e.toString());\n  }\n}\n\nconst loading = computed(\n  () => buttonDisabled.value || mainStore.pendingAppUpdate?.status === \"ACTIVE\"\n);\nconst updateStatus = computed(() => mainStore.pendingAppUpdate?.status);\n\nwatch(updateStatus, (newValue, oldValue) => {\n  if (oldValue !== undefined && newValue === \"ERROR\") {\n    error.value.message = \"update_failed_try_later\";\n    error.value.visible = true;\n  }\n});\n\n// function dismiss() {\n//     console.log('dismiss')\n// }\n</script>\n\n<template>\n  <v-card outlined color=\"rgba(0, 0, 0, 0.25)\" width=\"90%\">\n    <v-card-title>\n      {{ $t(\"app_update.title\") }}\n    </v-card-title>\n    <v-card-text>\n      {{\n        $t(\"app_update.text\", { version: mainStore.pendingAppUpdate.version })\n      }}\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer />\n\n      <v-btn @click=\"update()\" text :disabled=\"loading\">\n        {{ $t(\"update\") }}\n      </v-btn>\n    </v-card-actions>\n\n    <v-snackbar bottom v-model=\"error.visible\" timeout=\"3000\">\n      {{ $t(error.message) }}\n    </v-snackbar>\n  </v-card>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateBanner.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateBanner.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AppUpdateBanner.vue?vue&type=template&id=035b2c94&\"\nimport script from \"./AppUpdateBanner.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AppUpdateBanner.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"outlined\":\"\",\"color\":\"rgba(0, 0, 0, 0.25)\",\"width\":\"90%\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.$t(\"uninstall_old_app.title\"))+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.$t(\"uninstall_old_app.text\"))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"disabled\":_setup.loading},on:{\"click\":function($event){return _setup.uninstall()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"uninstall\"))+\" \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst loading = ref(false);\n\n// methods\nasync function uninstall() {\n  try {\n    loading.value = true;\n    await AceStreamApp.uninstallAppClicked({\n      packageName: \"org.acestream.node\",\n    });\n  } catch (e) {\n    mainStore.showError(e.toString());\n  } finally {\n    loading.value = false;\n  }\n}\n</script>\n\n<template>\n  <v-card outlined color=\"rgba(0, 0, 0, 0.25)\" width=\"90%\">\n    <v-card-title>\n      {{ $t(\"uninstall_old_app.title\") }}\n    </v-card-title>\n    <v-card-text>\n      {{ $t(\"uninstall_old_app.text\") }}\n    </v-card-text>\n    <v-card-actions>\n      <v-spacer />\n\n      <v-btn @click=\"uninstall()\" text :disabled=\"loading\">\n        {{ $t(\"uninstall\") }}\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UninstallOldAppBanner.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UninstallOldAppBanner.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./UninstallOldAppBanner.vue?vue&type=template&id=5bfb1ab0&\"\nimport script from \"./UninstallOldAppBanner.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./UninstallOldAppBanner.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"connection-info\"},[_vm._v(\" Connected to \"+_vm._s(_setup.state.engineHost)+\":\"+_vm._s(_setup.state.enginePort)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { storeToRefs } from \"pinia\";\nimport { useMainStore } from \"@/stores/main\";\n\nconst { state } = storeToRefs(useMainStore());\n</script>\n\n<template>\n  <div class=\"connection-info\">\n    Connected to {{ state.engineHost }}:{{ state.enginePort }}\n  </div>\n</template>\n\n<style scoped>\n.connection-info {\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  font-size: 12px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EngineConnectionInfo.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EngineConnectionInfo.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./EngineConnectionInfo.vue?vue&type=template&id=8b5b5e0a&scoped=true&\"\nimport script from \"./EngineConnectionInfo.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./EngineConnectionInfo.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./EngineConnectionInfo.vue?vue&type=style&index=0&id=8b5b5e0a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b5b5e0a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"outlined\":\"\",\"color\":\"rgba(0, 0, 0, 0.25)\",\"width\":\"90%\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.$t(\"engine_failed.title\"))+\" \")]),_c('v-card-text',[_c('span',{domProps:{\"innerHTML\":_vm._s(\n        _vm.$t('engine_failed.message', {\n          helpLink: 'https://docs.acestream.net/',\n        })\n      )}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EngineFailedBanner.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EngineFailedBanner.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./EngineFailedBanner.vue?vue&type=template&id=189e5f53&\"\nimport script from \"./EngineFailedBanner.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./EngineFailedBanner.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input-button\",on:{\"click\":function($event){return _vm.showInputPanel()}}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  emits: [\"showInputPanel\"],\n  methods: {\n    showInputPanel() {\n      this.$emit(\"showInputPanel\");\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"input-button\" @click=\"showInputPanel()\">\n    <slot></slot>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$color: rgba(255, 255, 255, 0.5);\n\n.input-button {\n  width: 100%;\n  text-align: start;\n  padding: 6px;\n  color: $color;\n  border-bottom: 1px solid $color;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputButton.vue?vue&type=template&id=6c709baf&scoped=true&\"\nimport script from \"./InputButton.vue?vue&type=script&lang=js&\"\nexport * from \"./InputButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputButton.vue?vue&type=style&index=0&id=6c709baf&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c709baf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{attrs:{\"outlined\":\"\",\"color\":\"rgba(0, 0, 0, 0.25)\",\"width\":\"90%\"}},[_c('v-card-title',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.notification.title)},on:{\"click\":function($event){return _setup.openMessage()}}}),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _setup.close()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',{on:{\"click\":function($event){return _setup.openMessage()}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.notification.text)}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useNotificationsStore } from \"@/stores/notifications\";\n\nconst props = defineProps([\"notification\"]);\n\nfunction close() {\n  const store = useNotificationsStore();\n  store.markRead(props.notification.id);\n}\n\nfunction openMessage() {\n  window.open(props.notification.url);\n  close();\n}\n</script>\n\n<template>\n  <v-card outlined color=\"rgba(0, 0, 0, 0.25)\" width=\"90%\">\n    <v-card-title>\n      <span @click=\"openMessage()\" v-html=\"notification.title\"> </span>\n      <v-spacer />\n      <v-btn icon @click=\"close()\">\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n    </v-card-title>\n    <v-card-text @click=\"openMessage()\">\n      <div v-html=\"notification.text\"></div>\n    </v-card-text>\n  </v-card>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBanner.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBanner.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./MessageBanner.vue?vue&type=template&id=0afdf17a&\"\nimport script from \"./MessageBanner.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./MessageBanner.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_setup.mainStore.dialogs.needPremium),callback:function ($$v) {_vm.$set(_setup.mainStore.dialogs, \"needPremium\", $$v)},expression:\"mainStore.dialogs.needPremium\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.title\"))+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.text\"))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"later\"))+\" \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.proceed()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"continue\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\n\nimport { getCurrentInstance } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\nconst mainStore = useMainStore();\n\nfunction close() {\n  mainStore.dialogs.needPremium = false;\n}\n\nfunction proceed() {\n  mainStore.closeNeedPremiumDialog();\n  $router.push({ name: \"premium-welcome\" });\n}\n</script>\n\n<template>\n  <v-dialog v-model=\"mainStore.dialogs.needPremium\" persistent>\n    <v-card>\n      <v-card-title class=\"text-h5\">\n        {{ $t(\"need_premium_dialog.title\") }}\n      </v-card-title>\n\n      <v-card-text>\n        {{ $t(\"need_premium_dialog.text\") }}\n      </v-card-text>\n\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn text @click=\"close()\">\n          {{ $t(\"later\") }}\n        </v-btn>\n\n        <v-btn text @click=\"proceed()\">\n          {{ $t(\"continue\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedPremiumDialog.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedPremiumDialog.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./NeedPremiumDialog.vue?vue&type=template&id=7750ea2c&\"\nimport script from \"./NeedPremiumDialog.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./NeedPremiumDialog.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_setup.visible),callback:function ($$v) {_setup.visible=$$v},expression:\"visible\"}},[_c('div',{ref:\"notificationBody\",domProps:{\"innerHTML\":_vm._s(_vm.notification.text)}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useMainStore } from \"@/stores/main\";\n\ndefineProps([\"notification\"]);\n// defineEmits(['input']);\nconst visible = ref(true);\nconst notificationBody = ref(null);\n\nasync function update() {\n  try {\n    AceStreamApp.updateAppClicked();\n  } catch (e) {\n    useMainStore().showError(e.toString());\n  }\n}\n\nonMounted(() => {\n  const actions = notificationBody.value.querySelectorAll(\".as-action\");\n  actions.forEach((element) => {\n    element.addEventListener(\"click\", (event) => {\n      const payload = event.target.getAttribute(\"data-payload\");\n      console.log(`click: ${payload}`);\n      if (payload === \"action-2\") {\n        update();\n      }\n    });\n  });\n});\n</script>\n\n<template>\n  <!-- <v-dialog :value=\"value\" @input=\"$emit('input', $event)\"> -->\n  <v-dialog v-model=\"visible\" persistent>\n    <div ref=\"notificationBody\" v-html=\"notification.text\"></div>\n\n    <!--\n        <v-container class=\"d-flex flex-column\" style=\"background-color: #888;\">\n            <div class=\"title\">\n                What is Lorem Ipsum?\n            </div>\n\n            <div class=\"text overflow-y-auto\">\n                <p>\n                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n                    </p>\n\n                    <h2>Why do we use it?</h2>\n                    <p>\n                        It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n                    </p>\n\n                    <h2>Why do we use it?</h2>\n                    <p>\n                        It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n                    </p>\n            </div>\n\n            <div class=\"actions\">\n                Actions\n            </div>\n        </v-container>\n        -->\n  </v-dialog>\n</template>\n\n<style scoped>\n.text {\n  max-height: 75vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PopupDialog.vue?vue&type=template&id=43804e4a&scoped=true&\"\nimport script from \"./PopupDialog.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PopupDialog.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PopupDialog.vue?vue&type=style&index=0&id=43804e4a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43804e4a\",\n  null\n  \n)\n\nexport default component.exports","export function inject(url, { async, onload, crossorigin } = {}) {\n  var s = document.createElement(\"script\");\n  s.src = url;\n  if (async) {\n    s.async = \"true\";\n  }\n  if (crossorigin) {\n    s.crossorigin = crossorigin;\n  }\n  if (onload) {\n    s.onload = onload;\n    // continue on error\n    s.onerror = onload;\n  }\n  document.head.appendChild(s);\n}\n","import { inject } from \"@/lib/inject\";\n\nexport function showPrivacyOptions() {\n  window.googlefc.callbackQueue.push({\n    CONSENT_DATA_READY: () => window.googlefc.showRevocationMessage(),\n  });\n}\n\nexport function initAdManager() {\n  const domain = window.location.hostname;\n  if (domain === \"tv.acestream.org\") {\n    inject(\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\", {\n      async: true,\n    });\n  }\n}\n\nexport function waitTcfApi() {\n  return new Promise((resolve, reject) => {\n    let counter = 20;\n\n    function check() {\n      --counter;\n      if (typeof window.__tcfapi === \"function\") {\n        resolve();\n      } else if (counter > 0) {\n        // retry\n        setTimeout(check, 100);\n      } else {\n        // give up\n        reject();\n      }\n    }\n\n    check();\n  });\n}\n","<template>\n  <div class=\"screen-container\" @click=\"hideHints()\">\n    <engine-connection-info v-if=\"mainStore.showTestButtons\" />\n\n    <div class=\"as-slot as-slot-top-banner\">\n      <transition name=\"fade\">\n        <engine-failed-banner v-if=\"mainStore.engineFailed\" />\n        <message-banner\n          v-else-if=\"notificationsStore.topNotification('inline')\"\n          :notification=\"notificationsStore.topNotification('inline')\"\n          class=\"mb-4\"\n        />\n      </transition>\n    </div>\n\n    <div class=\"as-slot as-slot-content\" v-if=\"!mainStore.engineFailed\">\n      <div style=\"position: relative; width: 85%\">\n        <input-button @showInputPanel=\"showInputPanel()\" class=\"mb-8\">\n          {{ $t(\"universal_input_prompt\") }}\n        </input-button>\n\n        <transition name=\"fade-slow\" mode=\"out-in\">\n          <div\n            v-if=\"typingInput\"\n            class=\"as-typeit typeit-input\"\n            @click=\"typingInput = false\"\n          >\n            <span ref=\"typeitInput\"></span>\n          </div>\n        </transition>\n      </div>\n\n      <v-container>\n        <v-row>\n          <!-- Open file -->\n          <v-col\n            cols=\"4\"\n            class=\"d-flex align-center justify-center\"\n            style=\"position: relative\"\n          >\n            <app-icon icon=\"select-file\" :title=\"$t('open_file')\" @click=\"selectFile()\" />\n\n            <transition name=\"fade-slow\" mode=\"out-in\">\n              <div\n                v-if=\"typingOpenFile\"\n                class=\"as-typeit typeit-open-file\"\n                @click=\"typingOpenFile = false\"\n              >\n                <span ref=\"typeitOpenFile\"></span>\n              </div>\n            </transition>\n          </v-col>\n\n          <!-- Favorites -->\n          <v-col\n            v-if=\"mainStore.favoritesSupported\"\n            cols=\"4\"\n            class=\"d-flex align-center justify-center\"\n            style=\"position: relative\"\n          >\n            <app-icon icon=\"favorites\" :title=\"$t('favorites')\" :disabled=\"!mainStore.engineReady\" @click=\"openFavorites()\" />\n          </v-col>\n\n          <!-- History -->\n          <v-col\n            v-if=\"mainStore.historySupported\"\n            cols=\"4\"\n            class=\"d-flex align-center justify-center\"\n            style=\"position: relative\"\n          >\n            <app-icon icon=\"history\" :title=\"$t('history')\" :disabled=\"!mainStore.engineReady\" @click=\"openHistory()\" />\n          </v-col>\n\n        </v-row>\n      </v-container>\n    </div>\n\n    <div class=\"as-slot as-slot-bottom-banner\">\n      <UninstallOldAppBanner v-if=\"showUninstallBanner\" class=\"mb-4\" />\n      <AppUpdateBanner v-else-if=\"showSelfUpdateBanner\" class=\"mb-4\" />\n    </div>\n\n    <!--\n        <div v-if=\"mainStore.showMediaPopup\" class=\"media-popup-container\">\n            <div class=\"media-popup-content\">\n                <div @click=\"closeMediaDialog\" class=\"media-popup-close\">\n                    Close\n                </div>\n\n                <div v-if=\"mainStore.media.state == 'loading'\" >\n                    Loading...\n                </div>\n                <div v-else-if=\"mainStore.media.state == 'error'\" >\n                    {{ mainStore.media.error }}\n                </div>\n                <div v-else-if=\"mainStore.media.state == 'select-action'\">\n                    <div>\n                        {{ mainStore.media.item.title }}\n                    </div>\n                    <div style=\"text-align: center; margin-top: 16px;\">\n                        <button @click=\"playClicked\">play</button>\n                        <button v-if=\"mainStore.media.item.canDownload\" @click=\"downloadClicked\">download</button>\n                    </div>\n                </div>\n                <div v-else-if=\"mainStore.media.state == 'select-stream-play'\" class=\"media-popup-stream-list\">\n                    <div>\n                        Select stream to play\n                    </div>\n                    <a v-for=\"stream in mainStore.media.item.streams\"\n                        :key=\"stream.id\"\n                        @click.prevent=\"streamSelected('play', stream)\"\n                        href=\"#\">\n                        {{ stream.name }}\n                    </a>\n                </div>\n                <div v-else-if=\"mainStore.media.state == 'select-stream-download'\" class=\"media-popup-stream-list\">\n                    <div>\n                        Select stream to download\n                    </div>\n                    <a v-for=\"stream in mainStore.media.item.downloadableStreams\"\n                        :key=\"stream.id\"\n                        @click.prevent=\"streamSelected('download', stream)\"\n                        href=\"#\">\n                        {{ stream.name }}\n                    </a>\n                </div>\n\n            </div>\n        </div>\n        -->\n\n    <!-- This block is visible only during tests -->\n    <div v-if=\"mainStore.showTestButtons\">\n      <v-btn @click=\"testSyncClicked()\">Test sync</v-btn>\n      <v-btn @click=\"testNotificationClicked()\">Test notification</v-btn>\n      <v-btn @click=\"testToastClicked()\">Test toast</v-btn>\n      <v-btn @click=\"testPermissionsClicked()\">Test permissions</v-btn>\n      <v-btn @click=\"testNetworkRequest()\">Test network</v-btn>\n      <v-btn @click=\"testRestoreNotificaion()\">Test restore notification</v-btn>\n      <v-btn @click=\"testPopupClicked()\">Test popup</v-btn>\n      <v-btn @click=\"testInstall()\">Test install</v-btn>\n    </div>\n\n    <popup-dialog\n      v-if=\"false && notificationsStore.topNotification('popup')\"\n      :notification=\"notificationsStore.topNotification('popup')\"\n    />\n\n    <need-premium-dialog />\n\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapStores } from \"pinia\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { usePrefsStore } from \"@/stores/prefs\";\nimport { useNotificationsStore } from \"@/stores/notifications\";\nimport { usePermissionsStore } from \"@/stores/permissions\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { Toast } from \"@capacitor/toast\";\nimport { selectFile } from \"@/lib/input-handler\";\nimport {\n  isDenied,\n  isGranted,\n  registerPermissionAsk,\n  requestPermission,\n  updatePermissions,\n} from \"@/lib/permissions\";\n\nimport AppIcon from \"@/components/AppIcon.vue\";\nimport AppUpdateBanner from \"@/components/AppUpdateBanner.vue\";\nimport UninstallOldAppBanner from \"@/components/UninstallOldAppBanner.vue\";\nimport EngineConnectionInfo from \"@/components/EngineConnectionInfo.vue\";\nimport EngineFailedBanner from \"@/components/EngineFailedBanner.vue\";\nimport InputButton from \"@/components/InputButton.vue\";\nimport MessageBanner from \"@/components/MessageBanner.vue\";\nimport NeedPremiumDialog from \"@/components/NeedPremiumDialog.vue\";\nimport PopupDialog from \"@/components/PopupDialog.vue\";\nimport TypeIt from \"typeit\";\nimport { watch } from \"vue\";\nimport { initAdManager } from \"@/lib/cmp\";\n\nexport default {\n  components: {\n    AppIcon,\n    AppUpdateBanner,\n    UninstallOldAppBanner,\n    EngineConnectionInfo,\n    EngineFailedBanner,\n    InputButton,\n    MessageBanner,\n    NeedPremiumDialog,\n    PopupDialog,\n  },\n  data() {\n    return {\n      testPopupVisible: false,\n      typingInput: false,\n      typingOpenFile: false,\n      uninstallBannerAvailable: false,\n      appCheckTimer: null,\n    };\n  },\n  computed: {\n    ...mapStores(\n      useMainStore,\n      useAuthStore,\n      useAppUpdateStore,\n      useNotificationsStore,\n      usePermissionsStore,\n      usePrefsStore\n    ),\n    state() {\n      return this.mainStore.state;\n    },\n    onboarding() {\n      return this.prefsStore.onboarding.mainScreen;\n    },\n    showSelfUpdateBanner() {\n      return !this.typingOpenFile && this.appUpdateStore.gotSelfUpdate;\n    },\n    showUninstallBanner() {\n      return this.uninstallBannerAvailable && !this.typingOpenFile;\n    },\n  },\n  async mounted() {\n    this.mainStore.remoteLog(`main:mounted: onboarding=${this.onboarding}`);\n    if (this.onboarding === null) {\n      // not yet initialized - watch\n      watch(\n        () => this.onboarding,\n        (newValue) => {\n          if (newValue) {\n            this.typeInput();\n          }\n        }\n      );\n    } else if (this.onboarding) {\n      // initialized - handle now\n      this.typeInput();\n    }\n    AceStreamApp.homeScreenReady();\n    initAdManager();\n\n    if (\n      !this.mainStore.isGooglePlayVersion &&\n      this.mainStore.uninstallOldAppEnabled\n    ) {\n      const { result } = await AceStreamApp.isAppInstalled({\n        packageName: \"org.acestream.node\",\n      });\n\n      this.uninstallBannerAvailable = result;\n      if (result) {\n        this.startAppCheckTimer();\n      }\n    }\n  },\n  unmounted() {\n    this.stopAppCheckTimer();\n  },\n  methods: {\n    startAppCheckTimer() {\n      this.appCheckTimer = setInterval(async () => {\n        const { result } = await AceStreamApp.isAppInstalled({\n          packageName: \"org.acestream.node\",\n        });\n\n        this.uninstallBannerAvailable = result;\n      }, 1000);\n    },\n    stopAppCheckTimer() {\n      if (this.appCheckTimer) {\n        clearInterval(this.appCheckTimer);\n      }\n    },\n    hideHints() {\n      this.typingInput = false;\n      this.typingOpenFile = false;\n    },\n    async typeInput() {\n      this.typingInput = true;\n      await this.$nextTick();\n      new TypeIt(this.$refs.typeitInput, {\n        speed: 20,\n        initialDelay: 1000,\n        cursor: false,\n        strings: [this.$t(\"onboarding.universal_input\")],\n        afterComplete: () => {\n          this.typeOpenFile();\n        },\n      }).go();\n    },\n    async typeOpenFile() {\n      this.typingOpenFile = true;\n      await this.$nextTick();\n      new TypeIt(this.$refs.typeitOpenFile, {\n        speed: 20,\n        initialDelay: 1000,\n        cursor: false,\n        strings: [this.$t(\"onboarding.open_file\")],\n        afterComplete: () => {\n          this.dismissOnBoarding();\n        },\n      }).go();\n    },\n    dismissOnBoarding() {\n      const prefsStore = usePrefsStore();\n      prefsStore.setOnboardingMainScreen(false);\n    },\n    async selectFile() {\n      const permissionId = \"storage\";\n      console.log(\"select file\", isGranted(permissionId));\n      if (isGranted(permissionId)) {\n        try {\n          await selectFile();\n        } catch (error) {\n          useMainStore().showError(error);\n        }\n      } else if (isDenied(permissionId)) {\n        const store = usePermissionsStore();\n        store.outstandingPermission = permissionId;\n      } else {\n        try {\n          await requestPermission(permissionId);\n        } catch (e) {\n          console.log(`error: ${e}`);\n        } finally {\n          registerPermissionAsk(permissionId);\n          await updatePermissions();\n        }\n      }\n    },\n    showInputPanel() {\n      this.$router.push({ name: \"input-panel\" });\n    },\n    hideInputPanel() {\n      this.inputPanelVisible = false;\n    },\n    playClicked() {\n      if (this.mainStore.media.item.hasStreams) {\n        this.mainStore.media.state = \"select-stream-play\";\n      } else {\n        this.play(this.mainStore.media.uri, -1);\n      }\n    },\n    downloadClicked() {\n      if (this.mainStore.media.item.hasStreams) {\n        this.mainStore.media.state = \"select-stream-download\";\n      } else {\n        this.download(\n          this.mainStore.media.uri,\n          this.mainStore.media.item.filename,\n          this.mainStore.media.item.type\n        );\n      }\n    },\n    closeMediaDialog() {\n      this.mainStore.resetMedia();\n    },\n    streamSelected(intent, stream) {\n      if (intent == \"download\") {\n        this.download(stream.url, stream.filename);\n      } else {\n        this.play(this.mainStore.media.uri, stream.id);\n      }\n    },\n    play(uri, streamIndex) {\n      AceStreamApp.play({ uri, streamIndex }).then(() => {\n        this.closeMediaDialog();\n      });\n    },\n    download(url, filename, type) {\n      AceStreamApp.downloadFile({ url, filename, type }).then(() => {\n        this.closeMediaDialog();\n      });\n    },\n    async showInterstitial() {\n      try {\n        console.log(`showInterstitial`);\n        await AceStreamApp.showInterstitial();\n        console.log(`showInterstitial done`);\n      } catch (e) {\n        console.error(`showInterstitial:error: ${e}`);\n      }\n    },\n    openHistory() {\n      if (this.mainStore.engineReady) {\n        if (!this.authStore.hasPremium) {\n          AceStreamApp.openResolverActivity({ mode: \"history\" });\n          return;\n        }\n        this.$router.push({ name: \"history\" });\n      }\n    },\n    openFavorites() {\n      if (this.mainStore.engineReady) {\n        if (!this.authStore.hasPremium) {\n          AceStreamApp.openResolverActivity({ mode: \"favorites\" });\n          return;\n        }\n        this.$router.push({ name: \"favorites\" });\n      }\n    },\n\n    // for testing\n    testPopupClicked() {\n      this.testPopupVisible = true;\n    },\n    async testInstall() {\n      console.log(\"testInstall\");\n      await AceStreamApp.installAppClicked({\n        packageName: \"com.alibaba.aliexpresshd\",\n      });\n    },\n    testNotificationClicked() {\n      AceStreamApp.testNotificationClicked();\n    },\n    testSyncClicked() {\n      AceStreamApp.testSyncClicked();\n    },\n    testToastClicked() {\n      Toast.show({ text: \"Test toast message\" });\n    },\n    testPermissionsClicked() {\n      AceStreamApp.checkPermissions().then((result) => {\n        console.log(`permissions: ${JSON.stringify(result)}`);\n        // if(result.storage !== 'granted') {\n        //     AceStreamApp.requestPermissions({ permissions: ['storage'] }).then(\n        //         response => {\n        //             console.log(`storage permissions response: ${JSON.stringify(response)}`)\n        //         }\n        //     )\n        // }\n      });\n\n      AceStreamApp.checkNotificationsPermission().then((result) => {\n        console.log(`notifications: ${JSON.stringify(result)}`);\n        // if(result.storage !== 'granted') {\n        //     AceStreamApp.requestPermissions({ permissions: ['storage'] }).then(\n        //         response => {\n        //             console.log(`storage permissions response: ${JSON.stringify(response)}`)\n        //         }\n        //     )\n        // }\n      });\n    },\n    testNetworkRequest() {\n      const url = \"https://test-android.acestream.net/api/v1/ui/version\";\n      axios\n        .get(url)\n        .then((response) => {\n          console.log(`response: ${JSON.stringify(response.data)}`);\n        })\n        .catch((error) => {\n          console.log(`error: ${error}`);\n        });\n    },\n    testRestoreNotificaion() {\n      const store = useNotificationsStore();\n      store.markUnread(123);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.typeit-input {\n  height: 152px;\n  position: absolute;\n  bottom: calc(100% + 16px);\n  left: -16px;\n  width: 90vw;\n  max-width: 420px;\n  font-size: 16px;\n  line-height: 1.3;\n\n  &:before {\n    top: 100%;\n    bottom: auto;\n    border-bottom: none;\n    border-top: 15px solid rgba(255, 255, 255, 0.25);\n  }\n}\n.typeit-open-file {\n  height: 124px;\n  position: absolute;\n  top: calc(100% + 24px);\n  left: 16px;\n  width: 90vw;\n  max-width: 420px;\n  font-size: 16px;\n  line-height: 1.3;\n\n  &:before {\n    left: 28px;\n  }\n}\n\n.screen-container {\n  height: 100%;\n  // Set padding to compencate app bar height\n  padding-top: 96px;\n}\n.as-slot {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.as-slot-top-banner {\n  height: 25%;\n}\n.as-slot-content {\n  height: 25%;\n}\n.as-slot-bottom-banner {\n  height: 40%;\n}\n.media-popup-container {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.media-popup-content {\n  background-color: #fff;\n  min-width: 640px;\n  padding: 32px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  position: relative;\n  box-sizing: border-box;\n}\n.media-popup-close {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  cursor: pointer;\n}\n.media-popup-stream-list {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.media-popup-stream-list a {\n  text-decoration: none;\n  margin-bottom: 8px;\n}\n.media-popup-stream-list a:hover {\n  text-decoration: underline;\n}\n\n.media-popup-content {\n  background-color: #fff;\n  min-width: 640px;\n  padding: 32px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  position: relative;\n}\n@media screen and (max-width: 767px) {\n  .media-popup-content {\n    min-width: 80%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainScreen.vue?vue&type=template&id=d87e4738&scoped=true&\"\nimport script from \"./MainScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./MainScreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainScreen.vue?vue&type=style&index=0&id=d87e4738&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d87e4738\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{ref:\"typeit\",staticClass:\"as-typeit\"})]),_c('v-col',{staticClass:\"d-flex justify-end\",staticStyle:{\"height\":\"64px\"},attrs:{\"cols\":\"12\"}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.showActions)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"skip\"))+\" \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.requestPermissions()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"continue\"))+\" \")])],1):_vm._e()])],1)],1),(_vm.askPermission)?_c('general-dialog',{attrs:{\"title\":\"Settings\",\"text\":\"Please grant notifications permission in the settings\",\"positiveText\":\"Open settings\",\"negativeText\":\"Cancel\"},on:{\"confirm\":function($event){return _vm.dialogConfirm()},\"cancel\":function($event){return _vm.dialogCancel()}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"persistent\":_vm.persistent},model:{value:(_setup.visible),callback:function ($$v) {_setup.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]),_c('v-card-actions',[_c('v-spacer'),(_vm.negativeText)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.negativeText)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('confirm')}}},[_vm._v(\" \"+_vm._s(_vm.positiveText)+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { ref } from \"vue\";\n\ndefineEmits([\"confirm\", \"cancel\"]);\n\ndefineProps({\n  title: {\n    type: String,\n    required: true,\n  },\n  text: {\n    type: String,\n    required: true,\n  },\n  positiveText: {\n    type: String,\n    required: true,\n  },\n  negativeText: {\n    type: String,\n    default: null,\n  },\n  persistent: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst visible = ref(true);\n</script>\n\n<template>\n  <v-dialog v-model=\"visible\" :persistent=\"persistent\">\n    <v-card>\n      <v-card-title class=\"text-h5\">\n        {{ title }}\n      </v-card-title>\n\n      <v-card-text>\n        {{ text }}\n      </v-card-text>\n\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn v-if=\"negativeText\" text @click=\"$emit('cancel')\">\n          {{ negativeText }}\n        </v-btn>\n\n        <v-btn text @click=\"$emit('confirm')\">\n          {{ positiveText }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralDialog.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralDialog.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./GeneralDialog.vue?vue&type=template&id=c8e896ae&\"\nimport script from \"./GeneralDialog.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./GeneralDialog.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport TypeIt from \"typeit\";\nimport { usePrefsStore } from \"@/stores/prefs\";\nimport { usePermissionsStore } from \"@/stores/permissions\";\nimport GeneralDialog from \"@/components/GeneralDialog.vue\";\n\nimport {\n  openNotificationsSettings,\n  requestPermission,\n  registerPermissionAsk,\n  updatePermissions,\n} from \"@/lib/permissions\";\n\nexport default {\n  data() {\n    return {\n      showActions: false,\n      askPermission: false,\n    };\n  },\n  components: {\n    GeneralDialog,\n  },\n  computed: {\n    isDenied() {\n      return usePermissionsStore().permissions.notifications === \"denied\";\n    },\n    permissionsStore() {\n      return usePermissionsStore();\n    },\n  },\n  methods: {\n    typeWelcome() {\n      this.typeit = new TypeIt(this.$refs.typeit, {\n        speed: 20,\n        nextStringDelay: 20,\n        waitUntilVisible: true,\n        cursor: false,\n        strings: [\n          this.$t(\"onboarding.welcome\"),\n          \" \",\n          this.$t(\"onboarding.require_notifications_permission\"),\n        ],\n        afterComplete: () => {\n          this.showActions = true;\n        },\n      }).go();\n    },\n    async close() {\n      const prefsStore = usePrefsStore();\n      registerPermissionAsk(\"notifications\");\n      await updatePermissions();\n      await prefsStore.setOnboardingWelcome(false);\n    },\n    async requestPermissions() {\n      if (this.isDenied) {\n        // Show custom dialog because we need to open settings\n        this.askPermission = true;\n      } else {\n        // Show system permission dialog\n        try {\n          await requestPermission(\"notifications\");\n        } catch (e) {\n          console.log(`error: ${e}`);\n        } finally {\n          this.close();\n        }\n      }\n    },\n    async dialogConfirm() {\n      this.askPermission = false;\n      try {\n        await openNotificationsSettings();\n      } catch (e) {\n        console.log(`error: ${e}`);\n      } finally {\n        this.close();\n      }\n    },\n    async dialogCancel() {\n      this.askPermission = false;\n      this.close();\n    },\n  },\n  mounted() {\n    this.typeWelcome();\n  },\n};\n</script>\n\n<template>\n  <v-container class=\"fill-height\">\n    <v-row dense>\n      <v-col cols=\"12\">\n        <div ref=\"typeit\" class=\"as-typeit\"></div>\n      </v-col>\n      <v-col cols=\"12\" class=\"d-flex justify-end\" style=\"height: 64px\">\n        <transition name=\"fade\" mode=\"out-in\">\n          <div v-if=\"showActions\">\n            <v-btn text @click=\"close()\">\n              {{ $t(\"skip\") }}\n            </v-btn>\n            <v-btn text @click=\"requestPermissions()\">\n              {{ $t(\"continue\") }}\n            </v-btn>\n          </div>\n        </transition>\n      </v-col>\n    </v-row>\n\n    <general-dialog\n      v-if=\"askPermission\"\n      title=\"Settings\"\n      text=\"Please grant notifications permission in the settings\"\n      positiveText=\"Open settings\"\n      negativeText=\"Cancel\"\n      @confirm=\"dialogConfirm()\"\n      @cancel=\"dialogCancel()\"\n    />\n  </v-container>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnBoardingScreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnBoardingScreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OnBoardingScreen.vue?vue&type=template&id=72855785&\"\nimport script from \"./OnBoardingScreen.vue?vue&type=script&lang=js&\"\nexport * from \"./OnBoardingScreen.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport ActivationWelcome from \"@/pages/engine-activation/ActivationWelcome.vue\";\nimport MainScreen from \"@/pages/MainScreen.vue\";\nimport OnBoardingScreen from \"@/pages/OnBoardingScreen.vue\";\n\n// stores\nconst mainStore = useMainStore();\n</script>\n<template>\n  <activation-welcome v-if=\"!mainStore.isEngineActivated\" v-bind=\"$attrs\" />\n  <on-boarding-screen v-else-if=\"mainStore.showWelcomeOnBoarding\" />\n  <main-screen v-else />\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreenPlaceholder.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreenPlaceholder.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./MainScreenPlaceholder.vue?vue&type=template&id=27756f66&\"\nimport script from \"./MainScreenPlaceholder.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./MainScreenPlaceholder.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page fill-height align-center justify-center\"},[_c('v-row',{staticClass:\"main-row\"},[_c('v-col',{staticClass:\"d-flex justify-center landscape--hidden\",staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"cols\":\"12\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})]),(_vm.target == 'premium')?_c('v-col',{staticClass:\"d-flex justify-center align-center text-center\",attrs:{\"cols\":\"12\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in_to_get_premium\"))+\" \")]):_vm._e(),_c('v-col',{staticClass:\"d-flex justify-center align-center\",attrs:{\"cols\":\"12\"}},[(_setup.googleServiceAvailable)?_c(_setup.MainButton,{on:{\"click\":function($event){return _setup.authStore.signInGoogle()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-google \")]),_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in_google\"))+\" \")],1):_vm._e()],1),_c('v-col',{staticClass:\"d-flex justify-center align-center\",attrs:{\"cols\":\"12\"}},[_c(_setup.MainButton,{on:{\"click\":function($event){return _setup.signInAceStream()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in_acestream\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\n\nexport function getNextRoute(target) {\n  let routeName;\n\n  const authStore = useAuthStore();\n  const mainStore = useMainStore();\n\n  if (target == \"premium\") {\n    if (authStore.hasPremium) {\n      routeName = \"account\";\n    } else if (mainStore.isGooglePlayVersion) {\n      routeName = \"premium-payment\";\n    } else {\n      routeName = \"premium-payment-external\";\n    }\n  } else {\n    routeName = mainStore.mainRouteName;\n  }\n\n  return routeName;\n}\n","<script setup>\nimport { computed, onMounted, onBeforeUnmount, ref } from \"vue\";\nimport { useTimestamp } from \"@vueuse/core\";\nimport { useQRCode } from \"@vueuse/integrations/useQRCode\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useLinkDeviceStore } from \"@/stores/link-device\";\nimport Controller from \"@/lib/controller\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\nimport { getLinkBackendDomain } from \"@/lib/link-backend-state\";\n\n// variables\nconst PAGE_ID = 'account-signed-out';\n\nlet canSaveFocus = [\n  'app-bar-account-signed-out',\n  'button-sign-in-google',\n];\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\nconst linkDeviceStore = useLinkDeviceStore();\n\n// refs\nconst linkBackendDomain = ref(null);\n\n// computed\nconst googleServiceAvailable = computed(\n  () => mainStore.state.googleServiceAvailable\n);\n\nconst timestamp = useTimestamp();\n\nconst loading = computed(() => !linkBackendDomain.value || !linkDeviceStore.linkCode);\nconst linkUrl = computed(\n  () => `${linkBackendDomain.value}/${linkDeviceStore.linkCode}`\n);\n\nconst codeExpiresIn = computed(\n  () => linkDeviceStore.linkCodeExpiresAt - timestamp.value\n);\nconst codeExpiresInReadble = computed(() =>\n  Math.round(codeExpiresIn.value / 1000)\n);\n\n// composables\nconst qrCodeImage = useQRCode(linkUrl);\n\n// lifecycle\nonMounted(async () => {\n  Controller.setupNavigation({ pageId: PAGE_ID });\n  bindEvents();\n  linkDeviceStore.requestCode();\n\n  let domain = await getLinkBackendDomain();\n  if (!domain) {\n    // use default one\n    domain = 'https://link.acestream.me';\n  }\n  linkBackendDomain.value = domain;\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n});\n\n// methods\nfunction onFocus(event) {\n  console.log(`account:focus: id=${event.elem.id}`)\n  if (canSaveFocus.indexOf(event.elem.id) !== -1) {\n    Controller.setLastFocused({ pageId: PAGE_ID, elementId: event.elem.id });\n  }\n}\n\nfunction bindEvents() {\n  Navigator.follow('focus', onFocus);\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      console.log('account: move down', e);\n      if (e.target?.id === 'app-bar-account-signed-out' || e.target?.id === 'button-main-menu') {\n        Navigator.focus(document.getElementById('button-sign-in-google'));\n      } else {\n        Navigator.move('down');\n      }\n    },\n    up: (e) => {\n      console.log('account: move up', e);\n      if (e.target?.id === 'button-sign-in-google') {\n        Navigator.focus(document.getElementById('app-bar-account-signed-out'));\n      } else {\n        Navigator.move('up');\n      }\n    },\n    enter: (e) => {\n      if (e.target?.id === 'app-bar-account-signed-out') {\n        Navigator.focus(document.getElementById('button-sign-in-google'));\n      }\n    }\n  });\n}\n\nfunction unbindEvents() {\n  Navigator.removeListener('focus', onFocus);\n  Controller.removeHandler(PAGE_ID);\n}\n\nfunction formatTime(time) {\n  let prefix = \"\";\n  if (time < 0) {\n    time *= -1;\n    prefix = \"-\";\n  }\n  time = Math.floor(time / 1000);\n  const hours = Math.floor(time / 3600);\n  const minutes = Math.floor((time - hours * 3600) / 60);\n  const seconds = Math.floor(time - hours * 3600 - minutes * 60);\n\n  if (hours > 0) {\n    return `${prefix}${hours}:${minutes.toString().padStart(2, \"0\")}:${seconds\n      .toString()\n      .padStart(2, \"0\")}`;\n  } else {\n    return `${prefix}${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n  }\n}\n</script>\n\n<template>\n  <div\n    class=\"page-container fill-height d-flex flex-column justify-center align-center\"\n  >\n    <template v-if=\"googleServiceAvailable\">\n      <the-button\n        id=\"button-sign-in-google\"\n        key=\"button-sign-in-google\"\n        class=\"selector\"\n        text\n        withBorder\n        @click=\"authStore.signInGoogle()\"\n        v-focus=\"{\n          id: 'button-sign-in-google',\n          enabled: !mainStore.preventFocus,\n        }\"\n      >\n        <v-icon left> mdi-google </v-icon>\n        {{ $t(\"sign_in_google\") }}\n      </the-button>\n\n      <div class=\"or-separator\">\n        {{ $t(\"or\") }}\n      </div>\n    </template>\n\n    <div v-if=\"loading\">\n      {{ $t(\"link_account.loading\") }}\n    </div>\n    <template v-else>\n      <div class=\"as-title\">\n        {{ $t(\"link_account.title\") }}\n      </div>\n      <div class=\"qr-code\">\n        <img :src=\"qrCodeImage\" />\n      </div>\n      <div class=\"as-link\">\n        {{ linkUrl }}\n      </div>\n      <div class=\"timer\">\n        {{\n          $t(\"link_account.link_will_refresh\", {\n            time: formatTime(codeExpiresInReadble * 1000),\n          })\n        }}\n      </div>\n    </template>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-title {\n  font-size: 24px;\n  margin-bottom: 16px;\n}\n.timer {\n  margin-top: 16px;\n  font-size: 14px;\n}\n.or-separator {\n  font-size: 20px;\n  padding: 16px 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SignInScreen.vue?vue&type=template&id=2033119e&scoped=true&\"\nimport script from \"./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SignInScreen.vue?vue&type=style&index=0&id=2033119e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2033119e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-form',{staticClass:\"as-page\",model:{value:(_setup.formValid),callback:function ($$v) {_setup.formValid=$$v},expression:\"formValid\"}},[_c('v-container',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":_vm.$t('email'),\"rules\":_setup.emailRules,\"error-messages\":_setup.usernameErrors,\"required\":\"\"},model:{value:(_setup.email),callback:function ($$v) {_setup.email=$$v},expression:\"email\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":_vm.$t('password'),\"rules\":_setup.passwordRules,\"error-messages\":_setup.passwordErrors,\"append-icon\":_setup.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_setup.showPassword ? 'text' : 'password',\"required\":\"\"},on:{\"click:append\":function($event){_setup.showPassword = !_setup.showPassword},\"input\":function($event){return _setup.clearErrors()}},model:{value:(_setup.password),callback:function ($$v) {_setup.password=$$v},expression:\"password\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"text-end\"},[_c('v-btn',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n            id: 'button-do-sign-in',\n            enabled: !_setup.mainStore.preventFocus,\n          }),expression:\"{\\n            id: 'button-do-sign-in',\\n            enabled: !mainStore.preventFocus,\\n          }\"}],attrs:{\"outlined\":\"\",\"loading\":_setup.loading},on:{\"click\":function($event){return _setup.submit()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in\"))+\" \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, ref, watch } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { getNextRoute } from \"./sign-in/utils\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// Known errors mapped to input fields\nconst knownErrors = {\n  username: new Set(),\n  password: new Set(),\n};\nknownErrors.username.add(\"auth_error_user_not_found\");\nknownErrors.password.add(\"auth_error_bad_password\");\n\n// props\nconst props = defineProps([\"target\"]);\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\n\n// refs\nconst loading = ref(false);\nconst formValid = ref(false);\nconst showPassword = ref(false);\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst emailRules = ref([\n  (v) => !!v || this.$t(\"email_is_required\"),\n  (v) => /.+@.+\\..+/.test(v) || this.$t(\"email_must_be_valid\"),\n]);\n\nconst passwordRules = ref([(v) => !!v || this.$t(\"password_is_required\")]);\n\nconst usernameErrors = ref([]);\nconst passwordErrors = ref([]);\n\n// go the target page on sign in\nwatch(\n  () => authStore.signedIn,\n  (isSignedId) => {\n    if (isSignedId) {\n      const routeName = getNextRoute(props.target);\n      $router.replace({ name: routeName });\n    }\n  },\n  { immediate: true }\n);\n\n// methods\nasync function submit() {\n  try {\n    loading.value = true;\n    clearErrors();\n    console.log(`signin: username=${email.value} target=${props.target}`);\n    await authStore.signInUsername(email.value, password.value, true);\n  } catch (e) {\n    const messageId = e.message;\n    const messageText = $i18n.t(`errors.${messageId}`);\n    console.log(`auth error: ${messageId}`);\n    if (knownErrors.username.has(messageId)) {\n      usernameErrors.value.push(messageText);\n    } else if (knownErrors.password.has(messageId)) {\n      passwordErrors.value.push(messageText);\n    } else {\n      useMainStore().showError(messageText);\n    }\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction clearErrors() {\n  usernameErrors.value = [];\n  passwordErrors.value = [];\n}\n</script>\n\n<template>\n  <v-form v-model=\"formValid\" class=\"as-page\">\n    <v-container>\n      <v-row>\n        <v-col>\n          <v-text-field\n            v-model=\"email\"\n            :label=\"$t('email')\"\n            :rules=\"emailRules\"\n            :error-messages=\"usernameErrors\"\n            required\n          />\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col>\n          <v-text-field\n            v-model=\"password\"\n            :label=\"$t('password')\"\n            :rules=\"passwordRules\"\n            :error-messages=\"passwordErrors\"\n            :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n            :type=\"showPassword ? 'text' : 'password'\"\n            @click:append=\"showPassword = !showPassword\"\n            @input=\"clearErrors()\"\n            required\n          />\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col class=\"text-end\">\n          <v-btn\n            outlined\n            :loading=\"loading\"\n            @click=\"submit()\"\n            v-focus=\"{\n              id: 'button-do-sign-in',\n              enabled: !mainStore.preventFocus,\n            }\"\n          >\n            {{ $t(\"sign_in\") }}\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-form>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  padding: 16px;\n  height: calc(100% - 64px);\n\n  @media (orientation: landscape) {\n    margin-top: 0;\n    padding-top: 64px;\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInUsernameScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInUsernameScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SignInUsernameScreen.vue?vue&type=template&id=5405ec36&scoped=true&\"\nimport script from \"./SignInUsernameScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SignInUsernameScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SignInUsernameScreen.vue?vue&type=style&index=0&id=5405ec36&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5405ec36\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-start\"},[_c('div',{staticClass:\"top-container\"},[_c('div',{staticClass:\"as-info as-info-top as-text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_server.welcome\"))+\" \")]),_c('div',{staticClass:\"as-title\"},[_vm._v(_vm._s(_vm.$t(\"acecast_server.connection_options\")))])]),_c('div',{staticClass:\"center-container\"},[_c('div',{staticClass:\"pin-code-container\"},[_c('ol',{staticClass:\"as-main-text\"},[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_server.open_connector\", { url: _setup.mainStore.aceCastConnectUrl, }))+\" \")]),_c('li',[_vm._v(_vm._s(_vm.$t(\"acecast_server.enter_pin_code\"))+\":\")])]),_c('div',{staticClass:\"pin-code\"},[(_setup.loadingPinCode)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"1\"}}):_c('span',[_vm._v(_vm._s(_setup.pinCode))])],1),(_setup.SHOW_MANUAL_CONNECT_INFO)?_c('div',{staticClass:\"manual-connect-info\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_server.manual_connect\"))+\" \")]):_vm._e()]),_c('div',{staticClass:\"vertical-separator\"},[_c('div',{staticClass:\"vertical-separator-top\"}),_c('div',{staticClass:\"vertical-separator-text as-main-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"or\"))+\" \")]),_c('div',{staticClass:\"vertical-separator-bottom\"})]),_c('div',{staticClass:\"qr-code-container\"},[_c('div',{staticClass:\"qr-code-info as-main-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_server.scan_qr_code\"))+\" \")]),_c('div',{staticClass:\"qr-code\"},[_c('div',{staticClass:\"qr-code-holder\"},[(_setup.loadingPinCode)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"1\"}}):[_c('img',{attrs:{\"src\":_setup.qrCodeImage}}),_c('div',{staticClass:\"qr-code-url as-main-text\"},[_vm._v(\" \"+_vm._s(_setup.qrCodeUrl)+\" \")])]],2)])])]),_c('div',{staticClass:\"bottom-container\"},[_c('div',{staticClass:\"as-info as-text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_server.instruction_wifi\"))+\" \")]),(_setup.showDebugInfo)?_c('div',{staticClass:\"debug-info-container\"},[_vm._v(\" AceCast server is running \"),_c('br'),_vm._v(\" host:\"+_vm._s(_setup.acecastState.host)+\" tcp port:\"+_vm._s(_setup.acecastState.port)+\" engine port:\"+_vm._s(_setup.enginePort)+\" websocket port:\"+_vm._s(_setup.acecastState.websocketPort)+\" file server port:\"+_vm._s(_setup.acecastState.fileServerPort)+\" \")]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\nconst endpoint = axios.create({\n  baseURL: \"https://connect.acestream.net/acecast/connect\",\n  timeout: 30000,\n});\n\n// eslint-disable-next-line no-unused-vars\nexport async function createPin(\n  host,\n  port,\n  name,\n  websocketPort,\n  enginePort,\n  fileServerPort\n) {\n  const reponse = await endpoint.post(\"/device/add\", {\n    host,\n    port,\n    name,\n    websocket_port: websocketPort,\n    engine_port: enginePort,\n    file_server_port: fileServerPort,\n  });\n  if (reponse.status != 201) {\n    throw new Error(\"Failed to create pin: \" + reponse.data);\n  }\n  return reponse.data;\n}\n\n// eslint-disable-next-line no-unused-vars\nexport async function getAddressFromPin(pin) {\n  const reponse = await endpoint.get(`/device/pin/${pin}`);\n  if (reponse.status != 200) {\n    throw new Error(reponse.data);\n  }\n  return reponse.data;\n}\n","let navigationPaused = false;\nlet focusedElement = null;\nlet handler = null;\nlet longPressTimer = null;\nlet longPressTriggered = false;\nlet longPressActive = false; // Track if long press is active (waiting for keyup)\nconst LONG_PRESS_DURATION = 500; // milliseconds\n\n// Continuous navigation state\nlet repeatTimer = null;\nlet repeatInterval = null;\nlet heldKey = null;\nconst REPEAT_INITIAL_DELAY = 500; // milliseconds before starting repeat\nconst REPEAT_INTERVAL = 100; // milliseconds between repeats\n\nconst defaultFocusedMap = {\n    'dashboard': 'app-bar-dashboard',\n    'premium': 'app-bar-premium',\n    'history': 'app-bar-back',\n    'favorites': 'app-bar-back',\n    'send-cast-server': 'app-bar-back',\n    'account-signed-in': 'app-bar-account-signed-in',\n    'account-signed-out': 'app-bar-account-signed-out',\n    'external-player-tv': 'button-go-premium',\n    'playlist-notification-tv': 'button-go-premium',\n};\nconst lastFocusedMap = {};\nlet pendingPageId = null;\n\nfunction init() {\n    bindEvents();\n\n    Navigator.ignoreHiddenElement = true;\n    Navigator.navigableFilter = (elem) => {\n        // Filter disabled elements\n        if (elem instanceof HTMLElement) {\n            if (elem.hasAttribute('disabled')) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n\n    Navigator.follow('focus', (event) => {\n        focus(event.elem)\n    })\n\n    // Stop repeat navigation when window loses focus\n    window.addEventListener('blur', () => {\n        stopRepeatNavigation();\n    });\n\n    // Stop repeat navigation when page becomes hidden\n    document.addEventListener('visibilitychange', () => {\n        if (document.hidden) {\n            stopRepeatNavigation();\n        }\n    });\n}\n\nfunction performNavigation(key) {\n    const hasDown = !!handler?.down;\n    const hasUp = !!handler?.up;\n    const hasRight = !!handler?.right;\n    console.log(`controller:performNavigation: key=${key} hasDown=${hasDown} hasUp=${hasUp} hasRight=${hasRight}`);\n    switch (key) {\n        case 'ArrowDown':\n            if (handler && handler.down) {\n                handler.down({ target: focusedElement });\n            } else {\n                Navigator.move('down')\n            }\n            break\n\n        case 'ArrowUp':\n            if (handler && handler.up) {\n                handler.up({ target: focusedElement });\n            } else {\n                Navigator.move('up')\n            }\n            break\n\n        case 'ArrowLeft':\n            Navigator.move('left')\n            break\n\n        case 'ArrowRight':\n            if (handler && handler.right) {\n                handler.right({ target: focusedElement });\n            } else {\n                Navigator.move('right')\n            }\n            break\n    }\n}\n\nfunction startRepeatNavigation(key) {\n    // Clear any existing repeat timers\n    stopRepeatNavigation();\n\n    heldKey = key;\n\n    // Perform initial navigation immediately\n    performNavigation(key);\n\n    // Start repeat after initial delay\n    repeatTimer = setTimeout(() => {\n        // Start repeating at regular intervals\n        repeatInterval = setInterval(() => {\n            performNavigation(key);\n        }, REPEAT_INTERVAL);\n    }, REPEAT_INITIAL_DELAY);\n}\n\nfunction stopRepeatNavigation() {\n    if (repeatTimer) {\n        clearTimeout(repeatTimer);\n        repeatTimer = null;\n    }\n    if (repeatInterval) {\n        clearInterval(repeatInterval);\n        repeatInterval = null;\n    }\n    heldKey = null;\n}\n\nfunction bindEvents() {\n    window.addEventListener(\"keydown\", function (e) {\n        //console.log(`controller:keydown: key=${e.key} code=${e.code} paused=${navigationPaused}`)\n        e.preventDefault();\n\n        if (navigationPaused) {\n            return;\n        }\n\n        // Start long press timer for Enter key\n        if (e.key === 'Enter' && focusedElement) {\n            // Ignore all keydown events after long press is detected until keyup\n            if (longPressActive) {\n                return;\n            }\n            \n            // Only start timer if not already waiting for long press (prevents duplicate triggers)\n            if (!longPressTimer) {\n                longPressTriggered = false;\n                longPressTimer = setTimeout(() => {\n                    longPressTriggered = true;\n                    longPressActive = true; // Mark long press as active\n                    longPressTimer = null; // Clear timer reference after triggering\n                    if (handler && handler.longPress) {\n                        console.log(`controller:longPress: target=${focusedElement?.id}`);\n                        handler.longPress({ target: focusedElement });\n                    }\n                }, LONG_PRESS_DURATION);\n            }\n        }\n\n        // Start continuous navigation for arrow keys\n        if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n            // Only start if not already holding this key (prevents duplicate starts)\n            if (heldKey !== e.key) {\n                startRepeatNavigation(e.key);\n            }\n        }\n    })\n\n    window.addEventListener(\"keyup\", function (e) {\n        //console.log(`controller:keyup: key=${e.key} code=${e.code} paused=${navigationPaused}`)\n\n        e.preventDefault()\n\n        if (navigationPaused) {\n            return;\n        }\n\n        switch (e.key) {\n            case 'ArrowDown':\n            case 'ArrowUp':\n            case 'ArrowLeft':\n            case 'ArrowRight':\n                // Stop continuous navigation when key is released\n                if (heldKey === e.key) {\n                    stopRepeatNavigation();\n                }\n                break\n\n            case 'Enter':\n                // Clear long press timer\n                if (longPressTimer) {\n                    clearTimeout(longPressTimer);\n                    longPressTimer = null;\n                }\n\n                // Only trigger normal enter if long press wasn't triggered\n                if (!longPressTriggered && !longPressActive && focusedElement) {\n                    trigger(focusedElement, 'click')\n                    if (handler && handler.enter) {\n                        console.log(`controller:enter: calling handler.enter for ${focusedElement?.id}`);\n                        handler.enter({ target: focusedElement });\n                    } else {\n                        console.log(`controller:enter: no handler or no enter callback. handler=${!!handler} hasEnter=${!!handler?.enter}`);\n                    }\n                }\n                \n                // Reset long press state\n                longPressTriggered = false;\n                longPressActive = false;\n                break\n        }\n    })\n}\n\nfunction removeClass(classes){\n    if(Navigator._collection){\n        Navigator._collection.forEach(element => {\n            classes.forEach(class_name=>{\n                let wasFocused = false\n                if (class_name === 'focus') {\n                    wasFocused = element.classList.contains(class_name)\n                }\n                element.classList.remove(class_name)\n                if (wasFocused) {\n                    trigger(element, 'unfocus')\n                }\n            })\n        })\n    }\n}\n\nfunction trigger(element, event_name){\n    let event = document.createEvent('Event')\n\n    event.initEvent(event_name, false, true)\n\n    element.dispatchEvent(event)\n}\n\nfunction focus(elem) {\n    removeClass(['focus'])\n    elem.classList.add('focus')\n    elem.focus()\n    focusedElement = elem\n}\n\nexport function setupNavigation({ pageId }) {\n    pendingPageId = pageId;\n\n    setTimeout(() => {\n        if (pageId === pendingPageId) {\n            setupNavigationImpl({ pageId });\n        } else {\n            console.log(`controller:setupNavigationImpl: skip: pageId=${pageId} pendingPageId=${pendingPageId}`)\n        }\n    }, 0);\n}\n\nfunction setupNavigationImpl({ pageId }) {\n    if (!pageId) {\n        throw new Error(`setupNavigation: missing page id`);\n    }\n\n    let lastFocusedId = lastFocusedMap[pageId];\n    let lastFocusedElement = null;\n\n    if (!lastFocusedId) {\n        lastFocusedId = defaultFocusedMap[pageId]\n    }\n\n    if (lastFocusedId) {\n        lastFocusedElement = document.getElementById(lastFocusedId);\n    }\n\n    const colection = document.querySelectorAll('.selector')\n    console.log(`controller:setupNavigation: pageId=${pageId} elems=${colection.length} lastFocusedId=${lastFocusedId}`);\n    Navigator.setCollection(colection)\n\n    if (lastFocusedElement) {\n        Navigator.focus(lastFocusedElement)\n    }\n}\n\nexport function setLastFocused({ pageId, elementId }) {\n    console.log(`controller:setLastFocused: pageId=${pageId} elementId=${elementId}`);\n    lastFocusedMap[pageId] = elementId;\n}\n\nexport function setHandler(name, callbacks) {\n    console.log(`controller:setHandler: name=${name} hasEnter=${!!callbacks?.enter}`);\n    handler = callbacks;\n}\n\nexport function removeHandler(name) {\n    console.log(`controller:removeHandler: name=${name}`);\n    handler = null;\n    // Stop any ongoing repeat navigation when handler is removed\n    stopRepeatNavigation();\n}\n\nfunction pause() {\n    navigationPaused = true;\n}\n\nfunction resume() {\n    navigationPaused = false;\n}\n\nexport default {\n    init,\n    pause,\n    removeHandler,\n    resume,\n    setupNavigation,\n    setLastFocused,\n    setHandler,\n}\n","<script setup>\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useQRCode } from \"@vueuse/integrations/useQRCode\";\nimport { createPin } from \"@/lib/acecast\";\nimport { setupNavigation } from \"@/lib/controller\";\n\n// stores\nconst mainStore = useMainStore();\n\n// const\nconst SHOW_MANUAL_CONNECT_INFO = false;\nconst URL_PATH = mainStore.sendAndCastEnabled ? \"/connect\" : \"/acecast\";\n\n// refs\nconst pinCode = ref(null);\nconst loadingPinCode = ref(false);\n\n// computed\nconst showDebugInfo = computed(() => false);\nconst acecastState = computed(() => mainStore.state?.aceCastServer);\nconst enginePort = computed(() => mainStore.state?.enginePort ?? 0);\nconst fileServerPort = computed(\n  () => mainStore.state?.aceCastServer?.fileServerPort ?? 0\n);\nconst qrCodeUrl = computed(() => {\n  return `http://${acecastState.value?.host}:${fileServerPort.value}${URL_PATH}`;\n});\n\n// composables\nconst qrCodeImage = useQRCode(qrCodeUrl);\n\n// lifecycle\nonMounted(() => {\n  setupNavigation({ pageId: 'send-cast-server' });\n});\n\n// watch\nwatch(\n  acecastState,\n  (value, oldValue) => {\n    if (isAcecastStateChanged(oldValue, value)) {\n      console.log(\n        `acecast state updated: old=${JSON.stringify(\n          oldValue\n        )} new=${JSON.stringify(value)}`\n      );\n      getPinCode();\n    }\n  },\n  { immediate: true }\n);\n\nfunction isAcecastStateChanged(oldValue, newValue) {\n  return (\n    oldValue?.host !== newValue?.host ||\n    oldValue?.fileServerPort !== newValue?.fileServerPort\n  );\n}\n\n// methods\nasync function getPinCode() {\n  loadingPinCode.value = true;\n  try {\n    if (acecastState.value) {\n      const response = await createPin(\n        acecastState.value.host,\n        acecastState.value.port,\n        acecastState.value.name,\n        acecastState.value.websocketPort,\n        enginePort.value,\n        fileServerPort.value\n      );\n      pinCode.value = response.pin;\n    } else {\n      throw new Error(\"AceCast server is not running\");\n    }\n  } catch (e) {\n    console.log(e);\n    mainStore.showErrorSnackbar(e.response?.data ?? e.message);\n  } finally {\n    loadingPinCode.value = false;\n  }\n}\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column justify-start\">\n    <div class=\"top-container\">\n      <div class=\"as-info as-info-top as-text-muted\">\n        {{ $t(\"acecast_server.welcome\") }}\n      </div>\n      <div class=\"as-title\">{{ $t(\"acecast_server.connection_options\") }}</div>\n    </div>\n    <div class=\"center-container\">\n      <div class=\"pin-code-container\">\n        <ol class=\"as-main-text\">\n          <li>\n            {{\n              $t(\"acecast_server.open_connector\", {\n                url: mainStore.aceCastConnectUrl,\n              })\n            }}\n          </li>\n          <li>{{ $t(\"acecast_server.enter_pin_code\") }}:</li>\n        </ol>\n        <div class=\"pin-code\">\n          <v-progress-circular v-if=\"loadingPinCode\" indeterminate width=\"1\" />\n          <span v-else>{{ pinCode }}</span>\n        </div>\n        <div class=\"manual-connect-info\" v-if=\"SHOW_MANUAL_CONNECT_INFO\">\n          {{ $t(\"acecast_server.manual_connect\") }}\n        </div>\n      </div>\n      <div class=\"vertical-separator\">\n        <div class=\"vertical-separator-top\"></div>\n        <div class=\"vertical-separator-text as-main-text\">\n          {{ $t(\"or\") }}\n        </div>\n        <div class=\"vertical-separator-bottom\"></div>\n      </div>\n      <div class=\"qr-code-container\">\n        <div class=\"qr-code-info as-main-text\">\n          {{ $t(\"acecast_server.scan_qr_code\") }}\n        </div>\n        <div class=\"qr-code\">\n          <div class=\"qr-code-holder\">\n            <v-progress-circular\n              v-if=\"loadingPinCode\"\n              indeterminate\n              width=\"1\"\n            />\n            <template v-else>\n              <img :src=\"qrCodeImage\" />\n              <div class=\"qr-code-url as-main-text\">\n                {{ qrCodeUrl }}\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bottom-container\">\n      <div class=\"as-info as-text-muted\">\n        {{ $t(\"acecast_server.instruction_wifi\") }}\n      </div>\n      <div v-if=\"showDebugInfo\" class=\"debug-info-container\">\n        AceCast server is running\n        <br />\n        host:{{ acecastState.host }} tcp port:{{ acecastState.port }} engine\n        port:{{ enginePort }} websocket port:{{\n          acecastState.websocketPort\n        }}\n        file server port:{{ acecastState.fileServerPort }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n  padding: 0 32px;\n  font-size: 14px;\n  padding-top: 5%;\n}\n\n.top-container {\n  text-align: center;\n\n  .as-title {\n    font-size: 32px;\n    font-weight: 100;\n    padding: 16px 0;\n  }\n}\n\n.center-container {\n  display: flex;\n  flex-direction: row;\n\n  li {\n    margin-bottom: 8px;\n  }\n\n  .pin-code-container {\n    width: 50%;\n\n    ol {\n      padding-left: 24px;\n    }\n\n    .pin-code {\n      display: flex;\n      justify-content: flex-start;\n      margin-left: 24px;\n      font-size: 48px;\n      letter-spacing: 1rem;\n      height: 72px;\n\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n    }\n\n    .manual-connect-info {\n      margin-left: 24px;\n    }\n  }\n\n  .vertical-separator {\n    display: flex;\n    flex-direction: column;\n    margin: 0 24px;\n    width: 42px;\n    height: 100%;\n    align-items: center;\n\n    .vertical-separator-top,\n    .vertical-separator-bottom {\n      width: 2px;\n      background-color: rgba(255, 255, 255, 0.5);\n      height: 49%;\n    }\n\n    .vertical-separator-text {\n      font-size: 24px;\n    }\n  }\n\n  .qr-code-container {\n    width: 50%;\n\n    .qr-code-info {\n      margin-bottom: 16px;\n      text-align: center;\n    }\n\n    .qr-code {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n\n      .qr-code-holder {\n        width: 148px;\n        height: 177px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n\n      img {\n        width: 148px;\n        height: 148px;\n      }\n\n      .qr-code-url {\n        margin-top: 8px;\n      }\n    }\n  }\n}\n\n.as-info-top {\n  font-size: 18px;\n  height: 28px;\n}\n\n.bottom-container {\n  padding-top: 24px;\n  .as-info {\n    text-align: center;\n  }\n}\n\n.as-text-muted {\n  color: rgba(255, 255, 255, 0.7);\n}\n.as-main-text {\n  color: rgba(255, 255, 255, 0.7);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastServerScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastServerScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AceCastServerScreen.vue?vue&type=template&id=5e41e168&scoped=true&\"\nimport script from \"./AceCastServerScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AceCastServerScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AceCastServerScreen.vue?vue&type=style&index=0&id=5e41e168&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e41e168\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex justify-center flex-column pa-4\",attrs:{\"cols\":\"12\"}},[_c('p',[_vm._v(\" You can stream playback from the smartphone directly to your Android TV device using AceCast technology. \")]),_c('p',[_vm._v(\" To do this install Ace Stream app on your Android TV device and run it. After this choose \\\"Remote devices\\\" when starting playback. \")]),_c('p',[_vm._v(\" You should see your TV device automatically, but if something went wrong you can add it manually: \")]),_c('ul',[_c('li',[_vm._v(\"Run Ace Stream app on the TV device\")]),_c('li',[_vm._v(\"Press \\\"Ace Cast\\\" button on the main screen\")]),_c('li',[_vm._v(\"Press \\\"Connect phone\\\"\")]),_c('li',[_vm._v(\"Enter PIN code from the TV screen in the field below\")])])]),_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{staticStyle:{\"max-width\":\"50vw\"},attrs:{\"label\":\"PIN\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_setup.pin),callback:function ($$v) {_setup.pin=$$v},expression:\"pin\"}})],1),_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_setup.addDevice}},[_vm._v(\" Add device \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { ref } from \"vue\";\nimport { getAddressFromPin } from \"@/lib/acecast\";\nimport { useMainStore } from \"@/stores/main\";\nimport { getCurrentInstance } from \"vue\";\n\n// router\nconst router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst pin = ref(null);\n\n// methods\nasync function addDevice() {\n  try {\n    const result = await getAddressFromPin(pin.value);\n    console.log(\n      `got device info: host=${result.host} port=${result.port} name=${result.name}`\n    );\n    await AceStreamApp.addAceCastDevice({\n      host: result.host,\n      port: result.port,\n      name: result.name,\n    });\n    router.push({ name: mainStore.mainRouteName });\n  } catch (e) {\n    console.log(e);\n    mainStore.showErrorSnackbar(e.response?.data || e.message);\n  }\n}\n</script>\n\n<template>\n  <v-container class=\"fill-height\">\n    <v-row dense>\n      <v-col cols=\"12\" class=\"d-flex justify-center flex-column pa-4\">\n        <p>\n          You can stream playback from the smartphone directly to your Android\n          TV device using AceCast technology.\n        </p>\n        <p>\n          To do this install Ace Stream app on your Android TV device and run\n          it. After this choose \"Remote devices\" when starting playback.\n        </p>\n        <p>\n          You should see your TV device automatically, but if something went\n          wrong you can add it manually:\n        </p>\n        <ul>\n          <li>Run Ace Stream app on the TV device</li>\n          <li>Press \"Ace Cast\" button on the main screen</li>\n          <li>Press \"Connect phone\"</li>\n          <li>Enter PIN code from the TV screen in the field below</li>\n        </ul>\n      </v-col>\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-text-field\n          v-model=\"pin\"\n          label=\"PIN\"\n          outlined\n          dense\n          style=\"max-width: 50vw\"\n        />\n      </v-col>\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-btn outlined @click=\"addDevice\"> Add device </v-btn>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastClientScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastClientScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AceCastClientScreen.vue?vue&type=template&id=0dc68199&scoped=true&\"\nimport script from \"./AceCastClientScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AceCastClientScreen.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dc68199\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_setup.authStore.hasPremium)?_c(_setup.PremiumStatusScreenTv):_c(_setup.LinkPremiumScreenTv)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-start\"},[_c('div',{staticClass:\"top-container\"},[_c('div',{staticClass:\"as-info as-info-top as-main-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium_title\"))+\" \")]),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium_account\"))+\" \")])]),_c('div',{staticClass:\"center-container\"},[_c('div',{staticClass:\"left-container\"},[_c('ul',[_c('li',[_c('b',[_vm._v(\"No ADs\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_no_ads.description\")))])]),_c('li',[_c('b',[_vm._v(\"Premium Pool\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_premium_pool.description\")))])]),_c('li',[_c('b',[_vm._v(\"No Limits\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_no_limits.description\")))])])])]),_vm._m(0),_c('div',{staticClass:\"right-container\"},[_c('div',{staticClass:\"qr-code-info as-main-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"connect_premium\"))+\" \")]),_c('div',{staticClass:\"qr-code\"},[_c('div',{staticClass:\"qr-code-holder\"},[(_setup.loading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"1\"}}):[_c('img',{attrs:{\"src\":_setup.qrCodeImage}}),_c('div',{staticClass:\"qr-code-url as-main-text\"},[_vm._v(\" \"+_vm._s(_setup.linkUrl)+\" \")])]],2)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vertical-separator\"},[_c('div',{staticClass:\"vertical-separator-line\"})])\n}]\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\nconst DOMAINS = [\n  \"https://link.acestream.org\",\n  \"https://link.acestream.me\",\n  \"https://link.acestream.net\",\n  \"https://link.acestream.media\",\n  \"https://link.acestream.tv\",\n];\n\nlet lastSuccessfulDomain = null;\n\nconst CACHE_TTL = 60000;\nlet cachedDomain = null;\n\n/**\n * Get domain list. Last successful is first, rest in the original order.\n */\nfunction getSortedDomainList() {\n  const list = [];\n\n  if (lastSuccessfulDomain) {\n    list.push(lastSuccessfulDomain);\n  }\n\n  for (const domain of DOMAINS) {\n    if (domain !== lastSuccessfulDomain) {\n      list.push(domain);\n    }\n  }\n\n  return list;\n}\n\n\nasync function ping(domain) {\n  try {\n    const url = `${domain}/api/v1/ping?${Math.random()}`;\n\n    const timeoutMs = 5000;\n    const options = {};\n    if (window.AbortSignal && window.AbortSignal.timeout) {\n      options.signal = AbortSignal.timeout(timeoutMs);\n    } else {\n      options.timeout = timeoutMs;\n    }\n\n    const response = await axios.get(url, options);\n    console.log(`ping response: domain=${domain} status=${response.status} data=${JSON.stringify(response.data)}`);\n    return response.data.status === \"ok\";\n  } catch (e) {\n    console.log(`ping failed: domain=${domain} error=${e}`);\n    return false;\n  }\n}\n\n/**\n * Get first alive mirror\n */\nexport async function getLinkBackendDomain() {\n  if (cachedDomain) {\n    const age = Date.now() - cachedDomain.createdAt;\n    if (age < CACHE_TTL) {\n      console.log(`getLinkBackendDomain: use cached domain`);\n      return cachedDomain.value;\n    }\n  }\n\n  for (const domain of getSortedDomainList()) {\n    const status = await ping(domain);\n    if (status) {\n      lastSuccessfulDomain = domain;\n      cachedDomain = {\n        createdAt: Date.now(),\n        value: domain,\n      };\n      return domain;\n    }\n  }\n  return null;\n}\n","import axios from \"axios\";\nimport { getLinkBackendDomain } from \"@/lib/link-backend-state\";\n\nasync function getEndpoint() {\n  const domain = await getLinkBackendDomain();\n  if (!domain) {\n    throw new Error(`Failed to get link backend domain`);\n  }\n\n  return axios.create({\n    baseURL: `${domain}/api/v1`,\n    timeout: 30000,\n  });\n}\n\nexport async function getLinkCode(deviceIp, deviceName) {\n  const endpoint = await getEndpoint();\n  const reponse = await endpoint.post(\"/link\", {\n    device_ip: deviceIp,\n    device_name: deviceName,\n  });\n  if (reponse.status != 200) {\n    throw new Error(`Failed to link code: ${reponse.data}`);\n  }\n  return reponse.data;\n}\n\nexport async function getLinkStatus(code) {\n  const endpoint = await getEndpoint();\n  const reponse = await endpoint.get(`/link/${code}`);\n  if (reponse.status != 200) {\n    throw new Error(`Failed to get link: ${reponse.data}`);\n  }\n  return reponse.data;\n}\n","import { defineStore } from \"pinia\";\nimport { getLinkCode } from \"@/lib/link-device\";\nimport { useMainStore } from \"@/stores/main\";\n\nexport const useLinkDeviceStore = defineStore(\"linkDevice\", {\n  state: () => {\n    return {\n      linkCode: null,\n      linkCodeExpiresAt: null,\n    };\n  },\n  getters: {\n    linkCodePremium: (state) => state.linkCode ? 'P' + state.linkCode : null,\n  },\n  actions: {\n    async requestCode({ force = false } = {}) {\n      if (this.linkCode && !force) {\n        // We've got a code already\n        return;\n      }\n\n      const mainStore = useMainStore();\n      try {\n        const acecastState = mainStore.state?.aceCastServer;\n        const deviceIp = acecastState?.host;\n        const deviceName = acecastState?.name;\n\n        const response = await getLinkCode(deviceIp, deviceName);\n\n        this.linkCode = response.code;\n        this.linkCodeExpiresAt = Date.now() + response.ttl * 1000;\n      } catch (e) {\n        mainStore.showError(`Failed to get link code: ${e}`);\n      }\n    },\n  },\n});\n","<script setup>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useQRCode } from \"@vueuse/integrations/useQRCode\";\nimport { setupNavigation } from \"@/lib/controller\";\nimport { useLinkDeviceStore } from \"@/stores/link-device\";\nimport { getLinkBackendDomain } from \"@/lib/link-backend-state\";\n\n// stores\nconst linkDeviceStore = useLinkDeviceStore();\n\n// refs\nconst linkBackendDomain = ref(null);\n\n// computed\nconst loading = computed(() => !linkBackendDomain.value || !linkDeviceStore.linkCodePremium);\nconst linkUrl = computed(\n  () => `${linkBackendDomain.value}/${linkDeviceStore.linkCodePremium}`\n);\n\n// composables\nconst qrCodeImage = useQRCode(linkUrl);\n\n// lifecycle\nonMounted(async () => {\n  setupNavigation({ pageId: 'premium' });\n  linkDeviceStore.requestCode();\n\n  let domain = await getLinkBackendDomain();\n  if (!domain) {\n    // use default one\n    domain = 'https://link.acestream.me';\n  }\n  linkBackendDomain.value = domain;\n});\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column justify-start\">\n    <div class=\"top-container\">\n      <div class=\"as-info as-info-top as-main-text\">\n        {{ $t(\"premium_title\") }}\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"premium_account\") }}\n      </div>\n    </div>\n\n    <div class=\"center-container\">\n      <div class=\"left-container\">\n        <ul>\n          <li>\n            <b>No ADs</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_no_ads.description\")\n            }}</span>\n          </li>\n          <li>\n            <b>Premium Pool</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_premium_pool.description\")\n            }}</span>\n          </li>\n          <li>\n            <b>No Limits</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_no_limits.description\")\n            }}</span>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"vertical-separator\">\n        <div class=\"vertical-separator-line\"></div>\n      </div>\n\n      <div class=\"right-container\">\n        <div class=\"qr-code-info as-main-text\">\n          {{ $t(\"connect_premium\") }}\n        </div>\n        <div class=\"qr-code\">\n          <div class=\"qr-code-holder\">\n            <v-progress-circular v-if=\"loading\" indeterminate width=\"1\" />\n            <template v-else>\n              <img :src=\"qrCodeImage\" />\n              <div class=\"qr-code-url as-main-text\">\n                {{ linkUrl }}\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n  padding: 0 32px;\n  font-size: 14px;\n  padding-top: 5%;\n}\n\n.top-container {\n  text-align: center;\n\n  .as-title {\n    font-size: 32px;\n    font-weight: 100;\n    padding: 16px 0;\n  }\n}\n\n.center-container {\n  display: flex;\n  flex-direction: row;\n\n  li {\n    margin-bottom: 8px;\n  }\n\n  .left-container {\n    width: 50%;\n  }\n\n  .vertical-separator {\n    display: flex;\n    flex-direction: column;\n    margin: 0 24px;\n    width: 42px;\n    height: 100%;\n    align-items: center;\n\n    .vertical-separator-line {\n      width: 2px;\n      background-color: rgba(255, 255, 255, 0.5);\n      height: 100%;\n    }\n  }\n\n  .right-container {\n    width: 50%;\n\n    .qr-code-info {\n      margin-bottom: 4px;\n      text-align: center;\n    }\n\n    .qr-code {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n\n      .qr-code-holder {\n        width: 180px;\n        height: 200px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n\n      img {\n        width: 148px;\n        height: 148px;\n      }\n\n      .qr-code-url {\n        margin-top: 8px;\n      }\n    }\n  }\n}\n\n.bottom-container {\n  padding-top: 24px;\n  .as-info {\n    text-align: center;\n  }\n}\n\n.as-text-muted {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.timer {\n  margin-top: 16px;\n  font-size: 14px;\n}\n.as-info-top {\n  height: 28px;\n  font-size: 18px;\n}\n.as-main-text {\n  color: rgba(255, 255, 255, 0.7);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPremiumScreenTv.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkPremiumScreenTv.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./LinkPremiumScreenTv.vue?vue&type=template&id=8b030502&scoped=true&\"\nimport script from \"./LinkPremiumScreenTv.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./LinkPremiumScreenTv.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./LinkPremiumScreenTv.vue?vue&type=style&index=0&id=8b030502&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b030502\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-start\"},[_c('div',{staticClass:\"top-container\"},[_c('div',{staticClass:\"as-info as-info-top as-main-text\"}),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium\"))+\" \")])]),_c('div',{staticClass:\"center-container\"},[_c('div',{staticClass:\"left-container\"},[_c('ul',[_c('li',[_c('b',[_vm._v(\"No ADs\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_no_ads.description\")))])]),_c('li',[_c('b',[_vm._v(\"Premium Pool\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_premium_pool.description\")))])]),_c('li',[_c('b',[_vm._v(\"No Limits\")]),_vm._v(\": \"),_c('span',{staticClass:\"as-main-text\"},[_vm._v(_vm._s(_vm.$t(\"premium_options.option_no_limits.description\")))])])])]),_vm._m(0),_c('div',{staticClass:\"right-container\"},[_c('div',{staticClass:\"qr-code-info as-main-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"upgrade\"))+\" \")]),_c('div',{staticClass:\"qr-code\"},[_c('div',{staticClass:\"qr-code-holder\"},[(_setup.loading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"1\"}}):[_c('img',{attrs:{\"src\":_setup.qrCodeImage}}),_c('div',{staticClass:\"qr-code-url as-main-text\"},[_vm._v(\" \"+_vm._s(_setup.displayUrlRef)+\" \")])]],2)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vertical-separator\"},[_c('div',{staticClass:\"vertical-separator-line\"})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\n//TODO: combine this page with LinkPremiumScreenTv\n\nimport { onMounted, ref } from \"vue\";\nimport { useQRCode } from \"@vueuse/integrations/useQRCode\";\nimport { setupNavigation } from \"@/lib/controller\";\nimport { useAuthStore } from \"@/stores/auth\";\n\n// const\nconst DEFAULT_PREMIUM_LINK = \"https://m.acestream.org/premium\";\n\n// stores\nconst authStore = useAuthStore();\n\n// refs\nconst qrCodeUrlRef = ref(null);\nconst displayUrlRef = ref(null);\nconst loading = ref(true);\nconst qrCodeImage = ref(null);\n\n// lifecycle\nonMounted(async () => {\n  setupNavigation({ pageId: 'premium' });\n\n  try {\n    const { displayUrl, url } = await authStore.getPremiumLink();\n    displayUrlRef.value = displayUrl;\n    qrCodeUrlRef.value = url;\n    loading.value = false;\n  } catch (e) {\n    console.log(`premium-tv: failed to get link: ${e.message}`);\n    displayUrlRef.value = DEFAULT_PREMIUM_LINK;\n    qrCodeUrlRef.value = DEFAULT_PREMIUM_LINK;\n    loading.value = false;\n  }\n\n  qrCodeImage.value = useQRCode(qrCodeUrlRef.value);\n});\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column justify-start\">\n    <div class=\"top-container\">\n      <div class=\"as-info as-info-top as-main-text\"></div>\n      <div class=\"as-title\">\n        {{ $t(\"premium\") }}\n      </div>\n    </div>\n\n    <div class=\"center-container\">\n      <div class=\"left-container\">\n        <ul>\n          <li>\n            <b>No ADs</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_no_ads.description\")\n            }}</span>\n          </li>\n          <li>\n            <b>Premium Pool</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_premium_pool.description\")\n            }}</span>\n          </li>\n          <li>\n            <b>No Limits</b>:\n            <span class=\"as-main-text\">{{\n              $t(\"premium_options.option_no_limits.description\")\n            }}</span>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"vertical-separator\">\n        <div class=\"vertical-separator-line\"></div>\n      </div>\n\n      <div class=\"right-container\">\n        <div class=\"qr-code-info as-main-text\">\n          {{ $t(\"upgrade\") }}\n        </div>\n        <div class=\"qr-code\">\n          <div class=\"qr-code-holder\">\n            <v-progress-circular v-if=\"loading\" indeterminate width=\"1\" />\n            <template v-else>\n              <img :src=\"qrCodeImage\" />\n              <div class=\"qr-code-url as-main-text\">\n                {{ displayUrlRef }}\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n  padding: 0 32px;\n  font-size: 14px;\n  padding-top: 5%;\n}\n.top-container {\n  text-align: center;\n\n  .as-title {\n    font-size: 32px;\n    font-weight: 100;\n    padding: 16px 0;\n  }\n}\n\n.center-container {\n  display: flex;\n  flex-direction: row;\n\n  li {\n    margin-bottom: 8px;\n  }\n\n  .left-container {\n    width: 50%;\n  }\n\n  .vertical-separator {\n    display: flex;\n    flex-direction: column;\n    margin: 0 24px;\n    width: 42px;\n    height: 100%;\n    align-items: center;\n\n    .vertical-separator-line {\n      width: 2px;\n      background-color: rgba(255, 255, 255, 0.5);\n      height: 100%;\n    }\n  }\n\n  .right-container {\n    width: 50%;\n\n    .qr-code-info {\n      margin-bottom: 4px;\n      text-align: center;\n    }\n\n    .qr-code {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n\n      .qr-code-holder {\n        width: 180px;\n        height: 200px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n\n      img {\n        width: 148px;\n        height: 148px;\n      }\n\n      .qr-code-url {\n        margin-top: 8px;\n      }\n    }\n  }\n}\n\n.bottom-container {\n  padding-top: 24px;\n  .as-info {\n    text-align: center;\n  }\n}\n\n.as-text-muted {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.as-title {\n  font-size: 24px;\n}\n.timer {\n  margin-top: 16px;\n  font-size: 14px;\n}\n\n.package-circle {\n  display: inline-block;\n  border-radius: 50%;\n  width: 13px;\n  height: 13px;\n}\n.package-circle.red {\n  background-color: #ff5c46;\n}\n.package-circle.yellow {\n  background-color: #fdc725;\n}\n.package-circle.green {\n  background-color: #27a75b;\n}\n.package-circle.blue {\n  background-color: #218caf;\n}\n\n.premium-status-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding-bottom: 16px;\n  font-size: 22px;\n}\n.as-info-top {\n  height: 28px;\n}\n.as-main-text {\n  color: rgba(255, 255, 255, 0.7);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumStatusScreenTv.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumStatusScreenTv.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumStatusScreenTv.vue?vue&type=template&id=583f9e6d&scoped=true&\"\nimport script from \"./PremiumStatusScreenTv.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumStatusScreenTv.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PremiumStatusScreenTv.vue?vue&type=style&index=0&id=583f9e6d&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"583f9e6d\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport LinkPremiumScreenTv from \"@/pages/premium-tv/LinkPremiumScreenTv.vue\";\nimport PremiumStatusScreenTv from \"@/pages/premium-tv/PremiumStatusScreenTv.vue\";\n\n// stores\nconst authStore = useAuthStore();\n</script>\n\n<template>\n  <premium-status-screen-tv v-if=\"authStore.hasPremium\" />\n  <link-premium-screen-tv v-else />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumScreen.vue?vue&type=template&id=2800ca19&\"\nimport script from \"./PremiumScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumScreen.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"align-top\"},[(_setup.loadingBackendState)?_c('div',{staticClass:\"loading-overlay\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"48\",\"width\":\"1\"}})],1):_vm._e(),_c('div',{staticClass:\"premium-welcome-page\"},[_c('div',{staticClass:\"as-title-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium_title\"))+\" \")]),_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_setup.optionName)+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_setup.optionDescription)+\" \")])]),_c('div',{staticClass:\"as-options-container\"},_vm._l((_setup.options),function(option){return _c('div',{key:option.id,staticClass:\"as-option\",class:{ 'as-selected': option.id == _setup.selectedOption },on:{\"click\":function($event){_setup.selectedOption = option.id}}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0),_c('div',{staticClass:\"actions-container\"},[_c(_setup.MulticolorButton,{on:{\"click\":function($event){return _setup.showDialog()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"buy_premium\"))+\" \")])],1),_c('div',{staticClass:\"as-vertical-fill\"}),_c('v-dialog',{model:{value:(_setup.dialogVisible),callback:function ($$v) {_setup.dialogVisible=$$v},expression:\"dialogVisible\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h6\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"select_subscription_type\"))+\" \")]),_c('v-card-text',{staticClass:\"as-card-text\"},[_c('v-radio-group',{attrs:{\"mandatory\":\"\"},model:{value:(_setup.subscriptionType),callback:function ($$v) {_setup.subscriptionType=$$v},expression:\"subscriptionType\"}},[_c('v-radio',{staticClass:\"subscription-type-radio\",attrs:{\"value\":\"month\"}},[_c('template',{slot:\"label\"},[(_setup.mainStore.isGooglePlayVersion)?_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(\n                      _vm.$t('subscription_dialog_month', {\n                        price: _setup.fullPriceMonth,\n                      })\n                    )}}),(_setup.promoPriceMonth)?_c('div',{staticClass:\"discount-highlight pt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"first_month\"))+\" \"+_vm._s(_setup.promoPriceMonth)+\" \")]):_vm._e(),(_setup.promoFreeDaysMonth)?_c('div',{staticClass:\"discount-highlight pt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"first_x_days_free\", { days: _setup.promoFreeDaysMonth }))+\" \")]):_vm._e()]):_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(\n                      _vm.$t(\n                        _setup.promoPriceMonth\n                          ? 'subscription_dialog_month_web'\n                          : 'subscription_dialog_month',\n                        {\n                          price: _setup.fullPriceMonth,\n                          promoPrice: _setup.promoPriceMonth,\n                        }\n                      )\n                    )}})])])],2),_c('v-radio',{staticClass:\"subscription-type-radio\",attrs:{\"value\":\"year\"}},[_c('template',{slot:\"label\"},[(_setup.mainStore.isGooglePlayVersion)?_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(\n                      _vm.$t('subscription_dialog_year', {\n                        price: _setup.fullPriceYear,\n                      })\n                    )}}),(_setup.promoPriceYear)?_c('div',{staticClass:\"discount-highlight pt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"first_year\"))+\" \"+_vm._s(_setup.promoPriceYear)+\" \")]):_vm._e(),(_setup.promoFreeDaysYear)?_c('div',{staticClass:\"discount-highlight pt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"first_x_days_free\", { days: _setup.promoFreeDaysYear }))+\" \")]):_vm._e()]):_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(\n                      _vm.$t(\n                        _setup.promoPriceYear\n                          ? 'subscription_dialog_year_web'\n                          : 'subscription_dialog_year',\n                        {\n                          price: _setup.fullPriceYear,\n                          promoPrice: _setup.promoPriceYear,\n                        }\n                      )\n                    )}})])])],2),_c('v-radio',{staticClass:\"subscription-type-radio\",attrs:{\"value\":\"lifetime\"}},[_c('template',{slot:\"label\"},[_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(_setup.lifetimeOptionDescription)}}),(_setup.promoPriceLifetime)?_c('div',{staticClass:\"discount-highlight pt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"subscription_dialog_lifetime_promo_note\"))+\" \")]):_vm._e()])])],2)],1),(_setup.mainStore.isGooglePlayVersion)?_c('div',{staticClass:\"subscription-details\"},[_vm._v(\" \"+_vm._s(_setup.subscriptionDetails)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.hideDialog()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.proceed()}}},[_vm._v(\" OK \")])],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-btn',_vm._g(_vm._b({staticClass:\"multicolor-button bg-multi-color\"},'v-btn',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MulticolorButton.vue?vue&type=template&id=11591626&scoped=true&\"\nvar script = {}\nimport style0 from \"./MulticolorButton.vue?vue&type=style&index=0&id=11591626&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11591626\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { computed, getCurrentInstance, onMounted, ref } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { getBackendDomain } from \"@/lib/backend-state\";\nimport { createDispatcherLink } from \"@/lib/auth\";\nimport MulticolorButton from \"@/components/MulticolorButton.vue\";\nimport { BILLING_SUBSCRIPTION_ID_MONTH, BILLING_SUBSCRIPTION_ID_YEAR, BILLING_PRODUCT_ID_LIFETIME } from \"@/config\";\n\n\n// props\n// mode=default: we do nothing special on page load\n// mode=payment: on page load we open external payment page. We use this in this flow:\n// - unauthorized user clicks \"Buy Premium\"\n// - user selects subscription type\n// - user is redirected to sign-in page\n// - after sign-in the user is redirected back to this page with mode=payment\nconst props = defineProps([\"mode\"]);\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\nconst $route = getCurrentInstance().proxy.$root.$route;\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\n\n// refs\nconst loadingBackendState = ref(false);\nconst selectedOption = ref(\"option_no_ads\");\nconst dialogVisible = ref(false);\nconst subscriptionType = ref(\"year\");\n\nconst fullPriceYear = ref(null);\nconst fullPriceMonth = ref(null);\nconst fullPriceLifetime = ref(null);\nconst promoPriceYear = ref(null);\nconst promoPriceMonth = ref(null);\nconst promoPriceLifetime = ref(null);\nconst promoFreeDaysYear = ref(null);\nconst promoFreeDaysMonth = ref(null);\n\n// computed\nconst lifetimeOptionDescription = computed(() => {\n  if (promoPriceLifetime.value) {\n    return $i18n.t(\"subscription_dialog_lifetime_with_promo\", {\n      price: fullPriceLifetime.value,\n      promoPrice: promoPriceLifetime.value,\n    });\n  } else {\n    return $i18n.t(\"subscription_dialog_lifetime_no_promo\", {\n      price: fullPriceLifetime.value,\n    });\n  }\n});\n\nconst subscriptionDetails = computed(() => {\n  const periodName = $i18n.t(subscriptionType.value);\n  switch (subscriptionType.value) {\n    case \"year\":\n      if (promoFreeDaysYear.value) {\n        return $i18n.t(\"subscription_details_promo_free_first_days\", {\n          freeDays: promoFreeDaysYear.value,\n          fullPrice: fullPriceYear.value,\n          period: periodName,\n        });\n      } else if (promoPriceYear.value) {\n        return $i18n.t(\"subscription_details_promo_discount_first_period\", {\n          promoPrice: promoPriceYear.value,\n          fullPrice: fullPriceYear.value,\n          period: periodName,\n        });\n      } else {\n        return $i18n.t(\"subscription_details_no_promo\", {\n          fullPrice: fullPriceYear.value,\n          period: periodName,\n        });\n      }\n    case \"month\":\n      if (promoFreeDaysMonth.value) {\n        return $i18n.t(\"subscription_details_promo_free_first_days\", {\n          freeDays: promoFreeDaysMonth.value,\n          fullPrice: fullPriceMonth.value,\n          period: periodName,\n        });\n      } else if (promoPriceMonth.value) {\n        return $i18n.t(\"subscription_details_promo_discount_first_period\", {\n          promoPrice: promoPriceMonth.value,\n          fullPrice: fullPriceMonth.value,\n          period: periodName,\n        });\n      } else {\n        return $i18n.t(\"subscription_details_no_promo\", {\n          fullPrice: fullPriceMonth.value,\n          period: periodName,\n        });\n      }\n    case \"lifetime\":\n      if (promoPriceLifetime.value) {\n        return $i18n.t(\"subscription_details_lifetime_with_promo\", {\n          promoPrice: promoPriceLifetime.value,\n        });\n      } else {\n        return $i18n.t(\"subscription_details_lifetime_no_promo\", {\n          price: fullPriceLifetime.value,\n        });\n      }\n\n    default:\n      console.error(`Unknown subscription type: ${subscriptionType.value}`);\n      return \"\";\n  }\n});\n\nconst optionName = computed(() => {\n  for (const option of options) {\n    if (option.id === selectedOption.value) {\n      return option.name;\n    }\n  }\n  return \"Premium\";\n});\nconst optionDescription = computed(() =>\n  $i18n.t(`premium_options.${selectedOption.value}.description`)\n);\n\n// const\nconst options = [\n  { id: \"option_no_ads\", name: \"No ADs\" },\n  { id: \"option_premium_pool\", name: \"Premium Pool\" },\n  { id: \"option_no_limits\", name: \"No Limits\" },\n];\n\n// lifecycle\nonMounted(() => {\n  const month = mainStore.getSubscriptionInfo(BILLING_SUBSCRIPTION_ID_MONTH);\n  const year = mainStore.getSubscriptionInfo(BILLING_SUBSCRIPTION_ID_YEAR);\n  const lifetime = mainStore.getProductInfo(BILLING_PRODUCT_ID_LIFETIME);\n\n  fullPriceMonth.value = month.fullPrice;\n  promoPriceMonth.value = month.promoPrice;\n  promoFreeDaysMonth.value = month.freeDays;\n\n  fullPriceYear.value = year.fullPrice;\n  promoPriceYear.value = year.promoPrice;\n  promoFreeDaysYear.value = year.freeDays;\n\n  fullPriceLifetime.value = lifetime.fullPrice;\n  promoPriceLifetime.value = lifetime.promoPrice;\n\n  if (props.mode == \"payment\") {\n    openExternalPaymentPage();\n  }\n\n  // Auto-show dialog if showDialog query parameter is present\n  if ($route.query.showDialog === 'true' || $route.query.showDialog === true) {\n    showDialog();\n  }\n});\n\n// methods\nfunction showDialog() {\n  dialogVisible.value = true;\n}\n\nfunction hideDialog() {\n  dialogVisible.value = false;\n}\n\nfunction proceed() {\n  hideDialog();\n  mainStore.currentSubscriptionType = subscriptionType.value;\n  if (authStore.signedIn) {\n    if (mainStore.isGooglePlayVersion) {\n      $router.push({ name: \"premium-payment\" });\n    } else {\n      openExternalPaymentPage();\n    }\n  } else {\n    $router.push({ name: \"sign-in-premium\" });\n  }\n}\n\nasync function openExternalPaymentPage() {\n  try {\n    if (loadingBackendState.value) {\n      return;\n    }\n    loadingBackendState.value = true;\n    const domain = await getBackendDomain();\n    console.log(`openExternalPaymentPage: domain=${domain}`);\n\n    if (!domain) {\n      throw new Error('failed to get backend domain')\n    }\n\n    const token = await authStore.getAuthTokenForDomain(domain);\n    console.log(`openExternalPaymentPage: token=${token}`);\n\n    let period = \"y1\";\n    switch (mainStore.currentSubscriptionType) {\n      case \"month\":\n        period = \"m1\";\n        break;\n      case \"year\":\n        period = \"y1\";\n        break;\n      case \"lifetime\":\n        period = \"lifetime\";\n        break;\n    }\n\n    const data = {\n      locale: mainStore.locale,\n      target: \"premium-buy\",\n      service: \"packagePremium\",\n      period,\n    };\n\n    // open in external browser\n    const url = createDispatcherLink(domain, token, data);\n    console.log(`openExternalPaymentPage: period=${period} url=${url}`);\n    window.open(url);\n  } catch (e) {\n    console.error(`Failed to open external payment page: ${e}`);\n    mainStore.showError($i18n.t(\"error\") + \". \" + $i18n.t(\"try_again\"));\n  } finally {\n    // We add some delay to give extenal browser time to open\n    setTimeout(() => (loadingBackendState.value = false), 1000);\n  }\n}\n</script>\n<template>\n  <v-container class=\"align-top\">\n    <div class=\"loading-overlay\" v-if=\"loadingBackendState\">\n      <v-progress-circular indeterminate size=\"48\" width=\"1\" />\n    </div>\n    <div class=\"premium-welcome-page\">\n      <div class=\"as-title-container\">\n        {{ $t(\"premium_title\") }}\n      </div>\n      <div class=\"as-description-container\">\n        <div class=\"as-title\">\n          {{ optionName }}\n        </div>\n        <div class=\"as-description\">\n          {{ optionDescription }}\n        </div>\n      </div>\n\n      <div class=\"as-options-container\">\n        <div\n          v-for=\"option in options\"\n          :key=\"option.id\"\n          class=\"as-option\"\n          :class=\"{ 'as-selected': option.id == selectedOption }\"\n          @click=\"selectedOption = option.id\"\n        >\n          {{ option.name }}\n        </div>\n      </div>\n      <div class=\"actions-container\">\n        <multicolor-button @click=\"showDialog()\">\n          {{ $t(\"buy_premium\") }}\n        </multicolor-button>\n      </div>\n\n      <div class=\"as-vertical-fill\"></div>\n\n      <v-dialog v-model=\"dialogVisible\">\n        <v-card>\n          <v-card-title class=\"text-h6\">\n            {{ $t(\"select_subscription_type\") }}\n          </v-card-title>\n\n          <v-card-text class=\"as-card-text\">\n            <!--\n            <div class=\"sale-announce\" v-if=\"promoPriceYear || promoPriceMonth\">\n              {{\n                $t(\n                  mainStore.isGooglePlayVersion\n                    ? \"premium_promotion_first_period\"\n                    : \"premium_promotion\"\n                )\n              }}\n            </div>\n            -->\n\n            <v-radio-group v-model=\"subscriptionType\" mandatory>\n              <!-- month -->\n              <v-radio class=\"subscription-type-radio\" value=\"month\">\n                <template slot=\"label\">\n                  <div v-if=\"mainStore.isGooglePlayVersion\">\n                    <div\n                      v-html=\"\n                        $t('subscription_dialog_month', {\n                          price: fullPriceMonth,\n                        })\n                      \"\n                    ></div>\n                    <div v-if=\"promoPriceMonth\" class=\"discount-highlight pt-1\">\n                      {{ $t(\"first_month\") }}\n                      {{ promoPriceMonth }}\n                    </div>\n                    <div v-if=\"promoFreeDaysMonth\" class=\"discount-highlight pt-1\">\n                      {{ $t(\"first_x_days_free\", { days: promoFreeDaysMonth }) }}\n                    </div>\n                  </div>\n                  <div v-else>\n                    <div\n                      v-html=\"\n                        $t(\n                          promoPriceMonth\n                            ? 'subscription_dialog_month_web'\n                            : 'subscription_dialog_month',\n                          {\n                            price: fullPriceMonth,\n                            promoPrice: promoPriceMonth,\n                          }\n                        )\n                      \"\n                    ></div>\n                  </div>\n                </template>\n              </v-radio>\n\n              <!-- year -->\n              <v-radio class=\"subscription-type-radio\" value=\"year\">\n                <template slot=\"label\">\n                  <div v-if=\"mainStore.isGooglePlayVersion\">\n                    <div\n                      v-html=\"\n                        $t('subscription_dialog_year', {\n                          price: fullPriceYear,\n                        })\n                      \"\n                    ></div>\n                    <div v-if=\"promoPriceYear\" class=\"discount-highlight pt-1\">\n                      {{ $t(\"first_year\") }}\n                      {{ promoPriceYear }}\n                    </div>\n                    <div v-if=\"promoFreeDaysYear\" class=\"discount-highlight pt-1\">\n                      {{ $t(\"first_x_days_free\", { days: promoFreeDaysYear }) }}\n                    </div>\n                  </div>\n                  <div v-else>\n                    <div\n                      v-html=\"\n                        $t(\n                          promoPriceYear\n                            ? 'subscription_dialog_year_web'\n                            : 'subscription_dialog_year',\n                          {\n                            price: fullPriceYear,\n                            promoPrice: promoPriceYear,\n                          }\n                        )\n                      \"\n                    ></div>\n                  </div>\n                </template>\n              </v-radio>\n\n              <!-- lifetime -->\n              <v-radio\n                class=\"subscription-type-radio\"\n                value=\"lifetime\"\n              >\n                <template slot=\"label\">\n                  <div>\n                    <div\n                      v-html=\"lifetimeOptionDescription\"\n                    ></div>\n                    <div v-if=\"promoPriceLifetime\" class=\"discount-highlight pt-1\">\n                      {{ $t(\"subscription_dialog_lifetime_promo_note\") }}\n                    </div>\n                  </div>\n                </template>\n              </v-radio>\n            </v-radio-group>\n            <div\n              class=\"subscription-details\"\n              v-if=\"mainStore.isGooglePlayVersion\"\n            >\n              {{ subscriptionDetails }}\n            </div>\n          </v-card-text>\n\n          <v-card-actions>\n            <v-spacer />\n\n            <v-btn text @click=\"hideDialog()\">\n              {{ $t(\"cancel\") }}\n            </v-btn>\n\n            <v-btn text @click=\"proceed()\"> OK </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </v-container>\n</template>\n\n<style lang=\"scss\">\n@media (orientation: landscape) {\n  .v-input__slot {\n    margin-bottom: 0;\n  }\n  .v-input--selection-controls {\n    margin-top: 0;\n  }\n  .v-dialog>.v-card>.v-card__title {\n    padding-top: 8px;\n    padding-bottom: 4px;\n  }\n}\n</style>\n\n<style scoped lang=\"scss\">\n$pagePadding: 16px;\n\n.loading-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: var(--background-dark-1);\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.align-top {\n  padding: 0;\n  margin-top: 64px; // app bar height\n  height: calc(100% - 64px);\n}\n\n.premium-welcome-page {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .as-title-container {\n    background-color: var(--background-dark-1);\n    padding: $pagePadding;\n\n    @media (orientation: landscape) {\n      display: none;\n    }\n  }\n  .as-description-container {\n    background-color: var(--background-light);\n    padding: $pagePadding;\n    min-height: 200px;\n\n    @media (orientation: landscape) {\n      padding: 8px;\n      min-height: auto;\n    }\n  }\n\n  .as-title {\n    font-size: 26px;\n    font-weight: 300;\n    text-align: center;\n  }\n  .as-description {\n    text-align: center;\n    padding: 16px 0;\n\n    @media (orientation: landscape) {\n      padding: 0;\n    }\n  }\n\n  .as-options-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 32px 60px $pagePadding 60px;\n    background-color: var(--background-dark-2);\n\n    @media (orientation: landscape) {\n      padding: 16px 0 0 0;\n      justify-content: center;\n      gap: 16px;\n    }\n\n    .as-option {\n      border: 1px solid rgba(255, 255, 255, 0.5);\n      width: 72px;\n      height: 72px;\n      border-radius: 36px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      font-size: 12px;\n\n      &.as-selected {\n        border-color: #fff;\n        border-width: 2px;\n      }\n    }\n  }\n\n  .actions-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: $pagePadding;\n    background-color: var(--background-dark-2);\n  }\n\n  .as-vertical-fill {\n    background-color: var(--background-dark-2);\n    flex-grow: 1;\n  }\n}\n\n.subscription-type-radio {\n  height: 54px !important;\n\n  @media (orientation: landscape) {\n    height: 42px !important;\n  }\n}\n\n.as-card-text {\n  padding-bottom: 0 !important;\n}\n\n.sale-announce {\n  color: #cbc000;\n  font-size: 16px;\n  margin-bottom: 16px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumWelcome.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumWelcome.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumWelcome.vue?vue&type=template&id=3a82513a&scoped=true&\"\nimport script from \"./PremiumWelcome.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumWelcome.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PremiumWelcome.vue?vue&type=style&index=0&id=3a82513a&prod&lang=scss&\"\nimport style1 from \"./PremiumWelcome.vue?vue&type=style&index=1&id=3a82513a&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a82513a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"align-top\"},[(_setup.loading)?_c('div',{staticClass:\"loading\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"1\",\"size\":\"48\"}})],1):[(!!_setup.backendDomain)?_c(_setup.PremiumPaymentOnline,{attrs:{\"backendDomain\":_setup.backendDomain}}):_c(_setup.PremiumPaymentOffline,{on:{\"update-backend-state\":function($event){return _setup.updateBackendState()}}})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"frame-container\"},[_c('iframe',{staticClass:\"payment-page-frame\",attrs:{\"src\":_setup.paymentPageUrl}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\n\n// props\nconst props = defineProps([\"backendDomain\"]);\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\n\n// computed\nfunction getPeriodId(subscriptionType) {\n  if (subscriptionType === \"month\") {\n    return \"m1\";\n  } else if (subscriptionType === \"year\") {\n    return \"y1\";\n  } else if (subscriptionType === \"lifetime\") {\n    return \"lifetime\";\n  } else {\n    throw new Error(`Unknown subscription type: ${subscriptionType}`);\n  }\n}\n\nconst baseUrl = \"/plan/init\";\nconst params = {\n  upgrade: 1,\n  service: \"packagePremium\",\n  period: getPeriodId(mainStore.currentSubscriptionType),\n  premium: 1, // to show new premium page\n  use_internal_auth: 2, // to use token from query string\n  lang: mainStore.locale,\n  x_acestream_auth_method: authStore.webViewAuthMethod,\n  x_acestream_auth_token: authStore.webViewAuthToken,\n};\nconst paramsStr = Object.keys(params)\n  .map((name) => `${name}=${encodeURIComponent(params[name])}`)\n  .join(\"&\");\n\nconst paymentPageUrl = computed(\n  () => `${props.backendDomain}${baseUrl}?${paramsStr}`\n);\n</script>\n<template>\n  <div class=\"frame-container\">\n    <!-- for testing-->\n    <!-- <div style=\"color: white; position: absolute; top: 40px; left: 50%; transform: translateX(-50%);\">{{ backendDomain }}</div> -->\n    <iframe class=\"payment-page-frame\" :src=\"paymentPageUrl\"> </iframe>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.frame-container {\n  width: 100%;\n  height: 100%;\n}\n.payment-page-frame {\n  border: none;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOnline.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOnline.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumPaymentOnline.vue?vue&type=template&id=f1e22032&scoped=true&\"\nimport script from \"./PremiumPaymentOnline.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumPaymentOnline.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PremiumPaymentOnline.vue?vue&type=style&index=0&id=f1e22032&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1e22032\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page\"},[_c('div',{staticClass:\"no-connection-message\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium_no_connection\"))+\" \")]),_c(_setup.MainButton,{staticClass:\"try-again-button\",on:{\"click\":_setup.updateBackendState}},[_vm._v(\" \"+_vm._s(_vm.$t(\"try_again\"))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport MainButton from \"@/components/MainButton.vue\";\n\nconst emit = defineEmits([\"update-backend-state\"]);\n\nfunction updateBackendState() {\n  emit(\"update-backend-state\");\n}\n</script>\n<template>\n  <div class=\"as-page\">\n    <div class=\"no-connection-message\">\n      {{ $t(\"premium_no_connection\") }}\n    </div>\n\n    <main-button @click=\"updateBackendState\" class=\"try-again-button\">\n      {{ $t(\"try_again\") }}\n    </main-button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  padding: 16px;\n  text-align: center;\n}\n.no-connection-message {\n  padding-top: 32px;\n}\n.try-again-button {\n  margin: 16px auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOffline.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOffline.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumPaymentOffline.vue?vue&type=template&id=349464ac&scoped=true&\"\nimport script from \"./PremiumPaymentOffline.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumPaymentOffline.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PremiumPaymentOffline.vue?vue&type=style&index=0&id=349464ac&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"349464ac\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { onMounted, ref } from \"vue\";\nimport { getBackendDomain } from \"@/lib/backend-state\";\nimport PremiumPaymentOnline from \"@/pages/premium/PremiumPaymentOnline.vue\";\nimport PremiumPaymentOffline from \"@/pages/premium/PremiumPaymentOffline.vue\";\n\n// refs\nconst loading = ref(true);\nconst backendDomain = ref(null);\n\n// lifecycle\nonMounted(() => {\n  updateBackendState();\n});\n\n// methods\nasync function updateBackendState() {\n  loading.value = true;\n  const domain = await getBackendDomain();\n  console.log(`updateBackendState: domain=${domain}`);\n  backendDomain.value = domain;\n  loading.value = false;\n}\n</script>\n<template>\n  <div class=\"align-top\">\n    <div class=\"loading\" v-if=\"loading\">\n      <v-progress-circular indeterminate width=\"1\" size=\"48\" />\n    </div>\n    <template v-else>\n      <premium-payment-online\n        v-if=\"!!backendDomain\"\n        :backendDomain=\"backendDomain\"\n      />\n      <premium-payment-offline\n        v-else\n        @update-backend-state=\"updateBackendState()\"\n      />\n    </template>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.loading {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.align-top {\n  padding: 0;\n  margin-top: 64px; // app bar height\n  height: calc(100% - 64px);\n  background-color: var(--background-dark);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPayment.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPayment.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PremiumPayment.vue?vue&type=template&id=21020e58&scoped=true&\"\nimport script from \"./PremiumPayment.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PremiumPayment.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PremiumPayment.vue?vue&type=style&index=0&id=21020e58&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21020e58\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page fill-height\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex justify-center notification-text\",attrs:{\"cols\":\"12\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium\"))+\" \")]),_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.MainButton,{on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activate\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nimport { getCurrentInstance } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// methods\nfunction goPremium() {\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n</script>\n\n<template>\n  <v-container class=\"as-page fill-height\">\n    <v-row dense>\n      <v-col cols=\"12\" class=\"d-flex justify-center notification-text\">\n        {{ $t(\"need_premium\") }}\n      </v-col>\n\n      <v-col cols=\"12\" class=\"d-flex justify-center my-1\">\n        <main-button @click=\"goPremium()\">\n          {{ $t(\"activate\") }}\n        </main-button>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  height: calc(100% - 64px);\n}\n\n.notification-text {\n  font-size: 28px;\n  text-align: center;\n  padding-bottom: 16px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedPremium.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedPremium.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./NeedPremium.vue?vue&type=template&id=6a054b4c&scoped=true&\"\nimport script from \"./NeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./NeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./NeedPremium.vue?vue&type=style&index=0&id=6a054b4c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a054b4c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_setup.authStore.signedIn)?_c(_setup.AccountScreen):_c(_setup.SignInScreen)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-center align-center\"},[(_setup.googleServiceAvailable)?[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n        id: 'button-sign-in-google',\n        enabled: !_setup.mainStore.preventFocus,\n      }),expression:\"{\\n        id: 'button-sign-in-google',\\n        enabled: !mainStore.preventFocus,\\n      }\"}],key:\"button-sign-in-google\",staticClass:\"selector\",attrs:{\"id\":\"button-sign-in-google\",\"text\":\"\",\"withBorder\":\"\"},on:{\"click\":function($event){return _setup.authStore.signInGoogle()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-google \")]),_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in_google\"))+\" \")],1),_c('div',{staticClass:\"or-separator\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"or\"))+\" \")])]:_vm._e(),(_setup.loading)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"link_account.loading\"))+\" \")]):[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"link_account.title\"))+\" \")]),_c('div',{staticClass:\"qr-code\"},[_c('img',{attrs:{\"src\":_setup.qrCodeImage}})]),_c('div',{staticClass:\"as-link\"},[_vm._v(\" \"+_vm._s(_setup.linkUrl)+\" \")]),_c('div',{staticClass:\"timer\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"link_account.link_will_refresh\", { time: _setup.formatTime(_setup.codeExpiresInReadble * 1000), }))+\" \")])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-btn',_vm._g(_vm._b({class:{\n    'as-selected': _vm.$attrs.selected,\n    'as-outlined': _vm.withBorder,\n    'as-blue': _vm.blue,\n  }},'v-btn',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheButton.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheButton.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TheButton.vue?vue&type=template&id=5bc22774&scoped=true&\"\nimport script from \"./TheButton.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TheButton.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TheButton.vue?vue&type=style&index=0&id=5bc22774&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bc22774\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SignInScreen.vue?vue&type=template&id=243619fa&scoped=true&\"\nimport script from \"./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SignInScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SignInScreen.vue?vue&type=style&index=0&id=243619fa&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"243619fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"fill-height\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})]),_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_vm._v(\" \"+_vm._s(_setup.authStore.username)+\" \")]),_c('v-col',{staticClass:\"d-flex align-center justify-center my-1\",attrs:{\"cols\":\"12\"}},[(_setup.authStore.packageDaysLeft >= 43000)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"lifetime\"))+\" \")]):(_setup.authStore.packageDaysLeft >= 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$tc(\"days_left\", _setup.authStore.packageDaysLeft, { count: _setup.authStore.packageDaysLeft, }))+\" \")]):_vm._e(),_c('div',{staticClass:\"package-circle mx-2\",class:_setup.authStore.packageColor}),_c('div',[_vm._v(\" \"+_vm._s(_setup.authStore.packageName)+\" \")])]),_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-upgrade', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-upgrade', enabled: !mainStore.preventFocus }\"}],key:\"button-upgrade\",staticClass:\"selector account-button\",attrs:{\"id\":\"button-upgrade\",\"text\":\"\",\"withBorder\":\"\",\"blue\":\"\"},on:{\"click\":function($event){return _setup.upgrade()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"upgrade\"))+\" \")])],1),_c('v-col',{staticClass:\"d-flex justify-center my-1\",attrs:{\"cols\":\"12\"}},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-sign-out', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-sign-out', enabled: !mainStore.preventFocus }\"}],key:\"button-sign-out\",staticClass:\"selector account-button\",attrs:{\"id\":\"button-sign-out\",\"text\":\"\",\"withBorder\":\"\"},on:{\"click\":function($event){return _setup.signOut()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_out\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AccountScreen.vue?vue&type=template&id=590a6918&scoped=true&\"\nimport script from \"./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AccountScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AccountScreen.vue?vue&type=style&index=0&id=590a6918&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"590a6918\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport SignInScreen from \"@/pages/tv-account/SignInScreen.vue\";\nimport AccountScreen from \"@/pages/tv-account/AccountScreen.vue\";\n\n// stores\nconst authStore = useAuthStore();\n</script>\n\n<template>\n  <account-screen v-if=\"authStore.signedIn\" />\n  <sign-in-screen v-else />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvAccountScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvAccountScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvAccountScreen.vue?vue&type=template&id=6f544f4e&\"\nimport script from \"./TvAccountScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvAccountScreen.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-center align-center\"},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'open-live-tv', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'open-live-tv', enabled: !mainStore.preventFocus }\"}],attrs:{\"text\":\"\"},on:{\"click\":_setup.openLiveTv}},[_vm._v(\" Live TV \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ref, watch } from \"vue\";\n\nconst VERBOSE = false;\nexport let navigationService = null;\n\nfunction verbose(...args) {\n  if (VERBOSE) {\n    console.log(...args);\n  }\n}\n\nconst FocusPlugin = {\n  install(Vue, options) {\n    navigationService = new NavigationService(options);\n\n    Vue.directive(\"focus\", {\n      bind(el, binding, vnode) {\n        verbose(`bind: id=${binding.value?.id}`);\n        if (!(binding.value instanceof Object)) {\n          throw new Error(\n            'v-focus value must be an object with at least \"id\" property'\n          );\n        }\n        if (!binding.value.id) {\n          throw new Error(\"focus element must have id\");\n        }\n        const focusElement = new FocusElement(\n          navigationService,\n          el,\n          vnode,\n          binding.value\n        );\n        navigationService.registerElement(focusElement);\n        el.addEventListener(\"keydown\", (e) => e.preventDefault());\n      },\n      inserted(el, binding) {\n        const focusElement = navigationService.findById(binding.value.id);\n        // verbose(`inserted: id=${binding.value?.id}`);\n        if (focusElement) {\n          if (focusElement.isDefault) {\n            focusElement.focus();\n          } else if (focusElement.focused) {\n            // Ensure that the DOM element is focused\n            // verbose('set focus on', el.id);\n            setTimeout(() => el.focus(), 0);\n          }\n        }\n      },\n      update(el, binding, vnode) {\n        // verbose(`binding value: ${binding.oldValue.enabled} -> ${binding.value.enabled}`);\n\n        // Element id can change if Vue reuses same component\n        if (binding.oldValue && binding.value.id !== binding.oldValue.id) {\n          const oldEl = navigationService.findById(binding.oldValue.id);\n          if (oldEl) navigationService.unregisterElement(oldEl);\n          const newEl = new FocusElement(navigationService, el, vnode, binding.value);\n          navigationService.registerElement(newEl);\n        }\n        if (binding.value.enabled !== binding.oldValue.enabled) {\n          const focusElement = navigationService.findById(binding.value.id);\n          focusElement?.setEnabled(binding.value.enabled);\n        }\n      },\n      unbind(el, binding) {\n        verbose(`unbind: id=${binding.value.id}`);\n        const focusElement = navigationService.findById(binding.value.id);\n        if (focusElement) {\n          navigationService.unregisterElement(focusElement);\n        }\n      },\n    });\n  },\n};\n\nclass NavigationService {\n  defaults = {\n    navigationMap: {},\n    defaultFocusElements: {},\n    restoreFocusInterval: 100,\n  };\n\n  constructor(options) {\n    this.started = false;\n    this.active = true;\n    this.paused = false;\n    this.restoreTimer = null;\n    this.elements = [];\n    this.unwatchFocusedElement = null;\n\n    this.longPressTimer = null;\n    this.longPressDelay = 800;\n    this.longPressDetected = false;\n\n    this.configure(options);\n\n    this.focusedElementId = ref(\n      this.defaultFocusElements.length > 0 ? this.defaultFocusElements[0] : null\n    );\n\n    this.actions = {\n      13: \"click\",\n      38: \"moveUp\",\n      40: \"moveDown\",\n      37: \"moveLeft\",\n      39: \"moveRight\",\n    };\n  }\n\n  configure(options) {\n    options = Object.assign({}, this.defaults, options);\n    this.navigationMap = options.navigationMap;\n    this.navigationMapFunc = options.navigationMapFunc;\n    this.defaultFocusElementFunc = options.defaultFocusElementFunc;\n    this.defaultFocusElements = options.defaultFocusElements;\n    this.restoreFocusInterval = options.restoreFocusInterval;\n    if (this.focusedElementId) {\n      // Reset focused element to allow to restore default focus\n      this.focusedElementId.value = null;\n    }\n\n    if (this.started) {\n      this.watchFocusedElement();\n    }\n  }\n\n  start() {\n    verbose(\"NavigationService:start\");\n    if (!this.started) {\n      this.started = true;\n      this.initKeyboardListener();\n      this.watchFocusedElement();\n      this.initBackwardHandler();\n    }\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  resume() {\n    this.paused = false;\n  }\n\n  isPaused() {\n    return this.paused;\n  }\n\n  setActive(active) {\n    if (!this.started) return;\n\n    verbose(`NavigationService:setActive: active=${active}`);\n    this.active = active;\n    if (active) {\n      setTimeout(() => this.restoreFocus(), 0);\n    } else {\n      this._stopRestoreTimer();\n    }\n  }\n\n  restoreFocus() {\n    if (!this.started) return;\n\n    verbose(`restoreFocus: active=${this.active}`);\n\n    let foundFocusedElement = false;\n    let startTimer = true;\n\n    let focusCandidates = this.defaultFocusElementFunc\n      ? this.defaultFocusElementFunc()\n      : this.defaultFocusElements;\n\n    if (!this.active) {\n      startTimer = false;\n    } else if (this.focusedElementId.value) {\n      foundFocusedElement = true;\n      startTimer = false;\n    } else if (focusCandidates.length > 0) {\n      for (const id of focusCandidates) {\n        const element = this.findById(id);\n        if (element) {\n          verbose(\n            `restoreFocus: id=${element.id} canFocus=${element.canFocus()}`\n          );\n        }\n        if (element && element.canFocus()) {\n          element.focus();\n          foundFocusedElement = true;\n          break;\n        }\n      }\n      startTimer = !foundFocusedElement;\n    } else {\n      startTimer = false;\n    }\n\n    if (startTimer) {\n      this._startRestoreTimer();\n    } else {\n      this._stopRestoreTimer();\n    }\n\n    return foundFocusedElement;\n  }\n\n  _startRestoreTimer() {\n    if (this.restoreTimer) {\n      clearTimeout(this.restoreTimer);\n    }\n    this.restoreTimer = setTimeout(\n      this.restoreFocus.bind(this),\n      this.restoreFocusInterval\n    );\n  }\n\n  _stopRestoreTimer() {\n    if (this.restoreTimer) {\n      clearTimeout(this.restoreTimer);\n      this.restoreTimer = null;\n    }\n  }\n\n  initBackwardHandler() {\n    // // Create empty history\n    // this.createEmptyHistory();\n\n    // window.addEventListener('popstate', (e) => {\n    //   e.preventDefault();\n\n    //   console.log(`nav:back`);\n    //   // if(fullout || wait) return\n\n    //   this.createEmptyHistory();\n\n    //   // listener.send('popstate',{count: activites.length})\n\n    //   // if(callback) callback()\n    //   // else{\n    //   //   backward()\n    //   // }\n    // })\n  }\n\n  createEmptyHistory() {\n    window.history.pushState(null, null, window.location.pathname);\n  }\n\n  initKeyboardListener() {\n    document.addEventListener(\"keydown\", (e) => {\n      if (!this.active) {\n        verbose(`keydown: not active`);\n        return;\n      }\n\n      if (this.paused) {\n        verbose(`keydown: paused`);\n        return;\n      }\n\n      const keyCode = this.getKeyCode(e);\n\n      if (this.isEnter(keyCode)) {\n        // Special handling for Enter do detect long press\n\n        e.preventDefault();\n        if (!this.longPressTimer) {\n          this.longPressDetected = false;\n          this.longPressTimer = setTimeout(() => {\n            this.performAction(\"longPress\");\n            this.longPressDetected = true;\n          }, this.longPressDelay);\n        }\n\n      } else {\n        // Other keys\n        const action = this.actions[keyCode];\n        if (action) {\n          if (this.performAction(action)) {\n            e.preventDefault();\n          }\n        }\n      }\n    });\n\n    document.addEventListener(\"keyup\", (e) => {\n      if (this.paused) {\n        return;\n      }\n\n      const keyCode = this.getKeyCode(e);\n\n      if (this.isEnter(keyCode)) {\n        e.preventDefault();\n        if (this.longPressDetected) {\n          this.longPressDetected = false;\n        } else {\n          console.log(`nav: click on keyup`);\n          this.performAction(\"click\");\n        }\n\n        clearTimeout(this.longPressTimer)\n        this.longPressTimer = null;\n      }\n    });\n  }\n\n  getKeyCode(event) {\n    let keycode\n\n    if (window.event) {\n        keycode = event.keyCode;\n    } else if(event.which) {\n        keycode = event.which;\n    }\n\n    return keycode\n  }\n\n  isEnter(keyCode) {\n    return keyCode == 13 || keyCode == 29443 || keyCode == 117 || keyCode == 65385\n  }\n\n  watchFocusedElement() {\n    if (this.unwatchFocusedElement) {\n      this.unwatchFocusedElement();\n    }\n\n    this.unwatchFocusedElement = watch(\n      this.focusedElementId,\n      (value) => {\n        verbose(`focusedElementId: ${value}`);\n        if (value === null) {\n          this.restoreFocus();\n        }\n      },\n      {\n        immediate: true,\n      }\n    );\n  }\n\n  registerElement(focusElement) {\n    if (!this.started) return;\n\n    this.elements.push(focusElement);\n    if (focusElement.id === this.focusedElementId.value) {\n      verbose(`registerElement: focus: id=${focusElement.id}`);\n      focusElement.focus();\n    }\n  }\n\n  unregisterElement(focusElement) {\n    if (!this.started) return;\n\n    const index = this.elements.indexOf(focusElement);\n    if (index > -1) {\n      const els = this.elements.splice(index, 1);\n      if (els.length) {\n        els[0].destroy();\n      }\n    }\n  }\n\n  unregisterElementById(id) {\n    const element = this.findById(id);\n    if (element) {\n      this.unregisterElement(element);\n    }\n  }\n\n  setFocusedById(id) {\n    this.focusedElementId.value = id;\n    const element = this.findById(id);\n    if (element) {\n      verbose(`setFocusedById: found: id=${id}`);\n      element.focus();\n    } else {\n      verbose(`setFocusedById: not found: id=${id}`);\n    }\n  }\n\n  onFocused(id) {\n    this.focusedElementId.value = id;\n  }\n\n  updateState() {\n    verbose(`updateState`);\n\n    let foundFocused = false;\n    for (let el of this.elements) {\n      if (el.focused) {\n        this.focusedElementId.value = el.id;\n        foundFocused = true;\n        break;\n      }\n    }\n\n    if (!foundFocused) {\n      this.focusedElementId.value = null;\n    }\n  }\n\n  findById(id) {\n    for (let el of this.elements) {\n      if (el.id === id) {\n        return el;\n      }\n    }\n    return null;\n  }\n\n  findFocusedElement() {\n    for (let el of this.elements) {\n      if (el.focused) {\n        return el;\n      }\n    }\n    return null;\n  }\n\n  performAction(action) {\n    verbose(`nav:performAction: action=${action}`)\n    const focusedElement = this.findFocusedElement();\n    if (focusedElement) {\n      focusedElement[action]();\n      return true;\n    }\n\n    if (this.restoreFocus()) {\n      return true;\n    }\n\n    return false;\n  }\n\n  blurAll() {\n    this.focusedElementId.value = null;\n    for (let el of this.elements) {\n      if (el.focused) {\n        el.blur();\n      }\n    }\n  }\n}\n\nclass FocusElement {\n  defaults = {\n    enabled: true,\n    refocusInterval: 0,\n  };\n\n  constructor(navigationService, el, vnode, options) {\n    options = Object.assign({}, this.defaults, options);\n    this.focused = false;\n    this.destroyed = false;\n    this.navigationService = navigationService;\n    this.el = el;\n    this.id = options.id;\n    this.vnode = vnode;\n    this.enabled = options.enabled;\n    this.options = options;\n    this.isDefault =\n      el.dataset.focusDefault === \"\" || el.dataset.focusDefault === \"true\";\n    this.next = {\n      up: el.dataset.focusUp,\n      down: el.dataset.focusDown,\n      left: el.dataset.focusLeft,\n      right: el.dataset.focusRight,\n    };\n\n    if (options.onclick) {\n      this.onclick = options.onclick;\n    }\n    if (options.onLongPress) {\n      this.onLongPress = options.onLongPress;\n    }\n    this.nextFunc = options.nextFunc;\n\n    if (options.focusElementSelector) {\n      this.el = el.querySelector(options.focusElementSelector);\n      if (!this.el) {\n        throw new Error(\n          `focus element not found: id=${this.id} selector=${options.focusElementSelector}`\n        );\n      }\n    } else {\n      this.el = el;\n    }\n  }\n\n  destroy() {\n    this.blur();\n    this.destroyed = true;\n    this.el = null;\n    this.onclick = null;\n  }\n\n  setEnabled(value) {\n    this.enabled = value;\n    if (!this.enabled) {\n      this.blur();\n    }\n  }\n\n  canFocus() {\n    return !this.destroyed && this.enabled && !this.el.disabled;\n  }\n\n  focus() {\n    if (this.destroyed) return;\n    verbose(`focus: id=${this.id} focused=${this.focused}`);\n    if (!this.focused) {\n      this.navigationService.blurAll();\n      this.navigationService.onFocused(this.id);\n      this.focused = true;\n      this.el.classList.add(\"focus\");\n      setTimeout(() => this.el?.focus(), 0);\n\n      // Dirty hack to ensure that the DOM element is focused\n      // Need this to ensure focus on menu item.\n      // Without this hack, the menu item is not focused sometimes, probably\n      // because it's not fully visible at the moment of binding because of animation\n      if (this.options.refocusInterval > 0) {\n        setTimeout(() => {\n          if (document.activeElement !== this.el) {\n            verbose(`refocus: id=${this.id}`);\n            this.el.focus();\n          }\n        }, this.options.refocusInterval);\n      }\n    }\n  }\n\n  blur() {\n    verbose(`blur: id=${this.id} focused=${this.focused}`);\n    if (this.destroyed) return;\n    if (this.focused) {\n      this.focused = false;\n      this.el.blur();\n      this.el.classList.remove(\"focus\");\n      this.navigationService.updateState();\n    }\n  }\n\n  click() {\n    if (this.destroyed) return;\n\n    verbose(`click: ${this.id}`);\n\n    const clickEvent = new Event(\"click\");\n    this.el.dispatchEvent(clickEvent);\n\n    // //TODO: how to make it universal?\n    // if(this.vnode.data?.on?.click) {\n    //     this.vnode.data?.on?.click?.call(null, clickEvent);\n    // } else {\n    //     this.el.__vue__?.$listeners?.click?.call(this.el, clickEvent);\n    // }\n\n    if (this.onclick) {\n      this.onclick.call(null);\n    }\n  }\n\n  longPress() {\n    if (this.destroyed) return;\n\n    verbose(`long-press: ${this.id}`);\n    console.log(`nav:long-press: ${this.id}`)\n\n    if (this.onLongPress) {\n      this.onLongPress.call(null);\n    }\n  }\n\n  getNextElement(id, direction) {\n    const _map = this.navigationService.navigationMap;\n\n    let nextId;\n    let nextDirection;\n    let nextAction;\n    let next = _map[id]?.[direction];\n\n    if (next instanceof Object) {\n      nextId = next.id;\n      nextDirection = next.direction || direction;\n      nextAction = next.action;\n    } else {\n      nextId = next;\n      nextDirection = direction;\n    }\n\n    if (nextAction) {\n      nextId = nextAction.call(null);\n      if (!nextId) {\n        return null;\n      }\n      nextDirection = direction;\n    }\n\n    if (nextId) {\n      const target = this.navigationService.findById(nextId);\n      if (target && target.canFocus()) {\n        return target;\n      } else {\n        return this.getNextElement(nextId, nextDirection);\n      }\n    }\n  }\n\n  move(direction) {\n    let target;\n    if (this.nextFunc) {\n      const targetId = this.nextFunc(direction);\n      target = this.navigationService.findById(targetId);\n    } else if (this.next[direction]) {\n      // use next from element config\n      const targetId = this.next[direction];\n      target = this.navigationService.findById(targetId);\n    } else {\n      // use next from navigation map\n      target = this.getNextElement(this.id, direction);\n    }\n\n    verbose(\n      `move:${direction}: id=${\n        this.id\n      } target=${target} canFocus=${target?.canFocus()}`\n    );\n\n    if (target && target.canFocus()) {\n      verbose(`move:${direction}: ${this.id} -> ${target.id}`);\n      target.focus();\n    } else {\n      verbose(`move:${direction}: skip for ${this.id}`);\n    }\n  }\n\n  moveDown() {\n    this.move(\"down\");\n  }\n\n  moveUp() {\n    this.move(\"up\");\n  }\n\n  moveLeft() {\n    this.move(\"left\");\n  }\n\n  moveRight() {\n    this.move(\"right\");\n  }\n}\n\nexport default FocusPlugin;\n","export const commonDefaultFocusElements = [\n  \"app-update-install\",\n  \"app-update-dismiss\",\n  \"menu-item-0\",\n  \"menu-item-1\",\n  \"menu-item-2\",\n  \"menu-item-3\",\n];\n\nexport const commonNavigationMap = {\n  \"app-update-install\": {\n    left: \"app-update-dismiss\",\n  },\n  \"app-update-dismiss\": {\n    right: \"app-update-install\",\n  },\n};\n","import { navigationService } from \"@/common/src/plugins/focus\";\nimport {\n  commonDefaultFocusElements,\n  commonNavigationMap,\n} from \"@/pages/navigation/common\";\n\nexport function setupNavigation() {\n  navigationService.configure({\n    defaultFocusElements: [\n      \"app-bar-livetv\",\n      \"open-live-tv\",\n      ...commonDefaultFocusElements,\n    ],\n    navigationMap: {\n      ...commonNavigationMap,\n      \"app-bar-livetv\": {\n        right: \"app-bar-premium\",\n        down: \"open-live-tv\",\n      },\n      \"open-live-tv\": {\n        up: \"app-bar-livetv\",\n      },\n    },\n  });\n}\n","<script setup>\nimport { onMounted } from \"vue\";\nimport { setupNavigation } from \"./navigation\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useMainStore } from \"@/stores/main\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  setupNavigation();\n});\n\n// methods\nasync function openLiveTv() {\n  await AceStreamApp.startLiveTv();\n}\n</script>\n\n<template>\n  <div\n    class=\"page-container fill-height d-flex flex-column justify-center align-center\"\n  >\n    <the-button\n      text\n      v-focus=\"{ id: 'open-live-tv', enabled: !mainStore.preventFocus }\"\n      @click=\"openLiveTv\"\n    >\n      Live TV\n    </the-button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\" src=\"./style-scoped.scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveTvScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveTvScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./LiveTvScreen.vue?vue&type=template&id=0c7fcf0a&scoped=true&\"\nimport script from \"./LiveTvScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./LiveTvScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./style-scoped.scss?vue&type=style&index=0&id=0c7fcf0a&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c7fcf0a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"fill-height pa-4\",on:{\"click\":function($event){return _vm.hideHints()}}},[_c('div',{staticClass:\"input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],ref:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter a link or content ID\"},domProps:{\"value\":(_vm.input)},on:{\"keydown\":_vm.onKeyDown,\"input\":function($event){if($event.target.composing)return;_vm.input=$event.target.value}}}),_c('div',{staticClass:\"right-actions\"},[(_vm.loading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"24\",\"width\":\"1\"}}):_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.handleInput}},[_c('v-icon',[_vm._v(\" mdi-send \")])],1)],1)]),(_vm.showHint)?_c('div',{staticClass:\"as-typeit typeit-hint\",staticStyle:{\"height\":\"270px\"},domProps:{\"innerHTML\":_vm._s(_vm.$t('onboarding.universal_input_2'))},on:{\"click\":function($event){_vm.showHint = false}}}):_vm._e(),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"timeout\":\"5000\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.resetError()}}},'v-btn',attrs,false),[_vm._v(\" \"+_vm._s(_vm.$t(\"close\"))+\" \")])]}}]),model:{value:(_vm.error.visible),callback:function ($$v) {_vm.$set(_vm.error, \"visible\", $$v)},expression:\"error.visible\"}},[_vm._v(\" \"+_vm._s(_vm.error.message)+\" \")]),(_vm.mainStore.showTestLinks)?_c('div',{staticClass:\"test-links\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('sintel_mp4_1')}}},[_vm._v(\"sintel mp4 1\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('sintel_mp4_2')}}},[_vm._v(\"sintel mp4 2\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_long_vod')}}},[_vm._v(\"youtube_long_vod\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_short_vod')}}},[_vm._v(\"youtube_short_vod\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_audio')}}},[_vm._v(\"youtube_audio\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_live')}}},[_vm._v(\"youtube_live\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_protected')}}},[_vm._v(\"youtube_protected\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('youtube_sober')}}},[_vm._v(\"youtube_sober\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('twitch_live_1')}}},[_vm._v(\"twitch_live_1\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('twitch_live_2')}}},[_vm._v(\"twitch_live_2\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('twitch_live_3')}}},[_vm._v(\"twitch_live_3\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('vimeo_1')}}},[_vm._v(\"vimeo_1\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.testInput('dailymotion_1')}}},[_vm._v(\"dailymotion_1\")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"fill-height pa-4\" @click=\"hideHints()\">\n    <div class=\"input-container\">\n      <input\n        type=\"text\"\n        ref=\"input\"\n        placeholder=\"Enter a link or content ID\"\n        v-model=\"input\"\n        @keydown=\"onKeyDown\"\n      />\n      <div class=\"right-actions\">\n        <v-progress-circular v-if=\"loading\" indeterminate size=\"24\" width=\"1\" />\n        <v-btn v-else icon @click=\"handleInput\">\n          <v-icon> mdi-send </v-icon>\n        </v-btn>\n      </div>\n    </div>\n\n    <div\n      class=\"as-typeit typeit-hint\"\n      style=\"height: 270px\"\n      v-if=\"showHint\"\n      @click=\"showHint = false\"\n      v-html=\"$t('onboarding.universal_input_2')\"\n    ></div>\n\n    <v-snackbar bottom v-model=\"error.visible\" timeout=\"5000\">\n      {{ error.message }}\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"resetError()\">\n          {{ $t(\"close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n\n    <div class=\"test-links\" v-if=\"mainStore.showTestLinks\">\n      <!-- <a @click.prevent=\"testInput('infohash')\" href=\"#\">infohash</a> -->\n      <!-- <a @click.prevent=\"testInput('content_id')\" href=\"#\">content id</a> -->\n      <!-- <a @click.prevent=\"testInput('content_id_deprecated')\" href=\"#\">content id (deprecated)</a> -->\n      <!-- <a @click.prevent=\"testInput('sintel_torrent')\" href=\"#\">sintel torrent</a> -->\n      <a @click.prevent=\"testInput('sintel_mp4_1')\" href=\"#\">sintel mp4 1</a>\n      <a @click.prevent=\"testInput('sintel_mp4_2')\" href=\"#\">sintel mp4 2</a>\n      <!-- <a @click.prevent=\"testInput('playlist_vod')\" href=\"#\">playlist_vod</a> -->\n      <!-- <a @click.prevent=\"testInput('playlist_redirect')\" href=\"#\">playlist_redirect</a> -->\n      <!-- <a @click.prevent=\"testInput('infinite_recurse')\" href=\"#\">infinite_recurse</a> -->\n      <!-- <a @click.prevent=\"testInput('playlist_p2p')\" href=\"#\">playlist_p2p</a> -->\n      <a @click.prevent=\"testInput('youtube_long_vod')\" href=\"#\"\n        >youtube_long_vod</a\n      >\n      <a @click.prevent=\"testInput('youtube_short_vod')\" href=\"#\"\n        >youtube_short_vod</a\n      >\n      <a @click.prevent=\"testInput('youtube_audio')\" href=\"#\">youtube_audio</a>\n      <a @click.prevent=\"testInput('youtube_live')\" href=\"#\">youtube_live</a>\n      <a @click.prevent=\"testInput('youtube_protected')\" href=\"#\"\n        >youtube_protected</a\n      >\n      <a @click.prevent=\"testInput('youtube_sober')\" href=\"#\">youtube_sober</a>\n      <a @click.prevent=\"testInput('twitch_live_1')\" href=\"#\">twitch_live_1</a>\n      <a @click.prevent=\"testInput('twitch_live_2')\" href=\"#\">twitch_live_2</a>\n      <a @click.prevent=\"testInput('twitch_live_3')\" href=\"#\">twitch_live_3</a>\n      <a @click.prevent=\"testInput('vimeo_1')\" href=\"#\">vimeo_1</a>\n      <a @click.prevent=\"testInput('dailymotion_1')\" href=\"#\">dailymotion_1</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { usePrefsStore } from \"@/stores/prefs\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\nexport default {\n  data() {\n    return {\n      input: \"\",\n      loading: false,\n      showHint: false,\n      error: {\n        visible: false,\n        message: null,\n      },\n    };\n  },\n  computed: {\n    mainStore: () => useMainStore(),\n    prefsStore: () => usePrefsStore(),\n  },\n  methods: {\n    hideHints() {\n      this.showHint = false;\n    },\n    disableOnboarding() {\n      this.prefsStore.setOnboardingInputPanel(false);\n    },\n    waitEngine() {\n      const mainStore = useMainStore();\n      return new Promise((resolve) => {\n        if (mainStore.engineReady) {\n          resolve();\n        } else {\n          watch(\n            () => mainStore.engineReady,\n            () => {\n              if (mainStore.engineReady) {\n                resolve();\n              }\n            }\n          );\n        }\n      });\n    },\n    focusInput() {\n      this.$refs.input.focus();\n    },\n    onKeyDown(event) {\n      if (event.keyCode == 13) {\n        this.handleInput();\n      }\n    },\n    resetError() {\n      this.setError(null);\n    },\n    setError(message) {\n      //TODO: make universal error translation\n      if (message == \"Error: youtube_plugin_disabled\") {\n        message = this.$t(\"youtube_disabled\");\n      }\n      this.error.message = message;\n      this.error.visible = !!message;\n    },\n    async handleInput() {\n      try {\n        this.loading = true;\n        await this.waitEngine();\n        await this.analyzeAndPlay(this.input);\n        this.loading = false;\n      } catch (error) {\n        this.loading = false;\n        this.setError(error);\n      }\n    },\n    async analyzeAndPlay(query) {\n      try {\n        await AceStreamApp.play({\n          uri: query,\n          streamIndex: -1,\n        });\n        this.close();\n      } catch (e) {\n        console.log(\"play error\", e);\n        this.setError(e);\n      }\n    },\n    close() {\n      this.$router.go(-1);\n    },\n    testInput(type) {\n      switch (type) {\n        case \"infohash\":\n          this.input =\n            \"acestream:?infohash=3a43c9534e29fe4bced0b6b52d84208e8731a1c6\";\n          break;\n        case \"content_id\":\n          this.input =\n            \"acestream:?content_id=21fcd8e73936b64435d07832c2d8382609f48d6d\";\n          break;\n        case \"content_id_deprecated\":\n          this.input = \"acestream://21fcd8e73936b64435d07832c2d8382609f48d6d\";\n          break;\n        case \"sintel_torrent\":\n          this.input = \"https://download.acestream.media/sintel/sintel.torrent\";\n          break;\n        case \"sintel_mp4_1\":\n          // This one doesn't play on chromecast\n          this.input =\n            \"https://download.acestream.media/sintel/sintel-1024-surround.mp4\";\n          break;\n        case \"sintel_mp4_2\":\n          this.input =\n            \"https://commondatastorage.googleapis.com/gtv-videos-bucket/CastVideos/mp4/Sintel.mp4\";\n          break;\n        case \"playlist_vod\":\n          this.input = \"https://acestream.org/test/playlists/vod.m3u\";\n          break;\n        case \"playlist_redirect\":\n          this.input = \"http://acestream.org/test/playlists/vod.m3u\";\n          break;\n        case \"infinite_recurse\":\n          this.input =\n            \"https://acestream.org/test/playlists/infinite_recursive_playlist.m3u8\";\n          break;\n        case \"playlist_p2p\":\n          this.input =\n            \"https://acestream.org/test/playlists/test_content_playlist_5.m3u8\";\n          break;\n        case \"youtube_long_vod\":\n          this.input = \"https://www.youtube.com/watch?v=MnLjYJyrNc0\";\n          break;\n        case \"youtube_sober\":\n          this.input = \"https://www.youtube.com/watch?v=nspxAG12Cpc\";\n          break;\n        case \"youtube_short_vod\":\n          this.input = \"https://www.youtube.com/watch?v=_UjTPjCO4SA\";\n          break;\n        case \"youtube_audio\":\n          this.input = \"https://www.youtube.com/watch?v=nnevVBbPSao\";\n          break;\n        case \"youtube_live\":\n          this.input =\n            \"https://www.youtube.com/watch?v=w9uJg68CV4g&ab_channel=SkyNews\";\n          break;\n        case \"youtube_protected\":\n          this.input = \"https://www.youtube.com/watch?v=Nxl4tY7uNNI\";\n          break;\n        case \"twitch_live_1\":\n          this.input = \"https://www.twitch.tv/gamesdonequick\";\n          break;\n        case \"twitch_live_2\":\n          this.input = \"https://www.twitch.tv/esl_csgo\";\n          break;\n        case \"twitch_live_3\":\n          this.input = \"https://www.twitch.tv/wudijo\";\n          break;\n        case \"vimeo_1\":\n          this.input = \"https://vimeo.com/76979871\";\n          break;\n        case \"dailymotion_1\":\n          this.input = \"https://www.dailymotion.com/video/x9njgk4\";\n          break;\n      }\n    },\n  },\n  mounted() {\n    this.focusInput();\n\n    if (this.prefsStore.onboarding.inputPanel) {\n      this.showHint = true;\n      this.disableOnboarding();\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$colorTextDisabled: rgba(255, 255, 255, 0.5);\n\n.typeit-hint {\n  width: 90%;\n  border-top-left-radius: 0;\n  top: 16px;\n}\n.typeit-hint:before {\n  left: 0px;\n  border-left: 0;\n}\n.test-links {\n  display: block;\n\n  a {\n    display: block;\n  }\n}\n\n.input-container {\n  color: #fff;\n  border-bottom: 1px solid $colorTextDisabled;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 8px;\n\n  input {\n    color: #fff;\n    border: none;\n    padding: 8px;\n    flex-grow: 1;\n\n    &:focus {\n      outline: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputPanel.vue?vue&type=template&id=36763250&scoped=true&\"\nimport script from \"./InputPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./InputPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputPanel.vue?vue&type=style&index=0&id=36763250&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36763250\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page\"},[_c('div',{staticStyle:{\"margin-bottom\":\"24px\",\"text-align\":\"center\"}},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" cast_warning \")])]),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.text_1\"))+\" \")]),_c('div',{staticClass:\"as-block\"},[_c(_setup.MainButton,{staticClass:\"as-button\",attrs:{\"white\":\"\"},on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.activate_premium\"))+\" \")])],1),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.text_2\"))+\" \")]),_c('div',{staticClass:\"as-block\"},[_c(_setup.MainButton,{staticClass:\"as-button\",on:{\"click\":function($event){return _setup.startPlayback()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.test_feature\"))+\" \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nimport { getCurrentInstance, onMounted, onUnmounted } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  AceStreamApp.keepEngineSession({ value: true });\n});\n\nonUnmounted(() => {\n  AceStreamApp.keepEngineSession({ value: false });\n});\n\n// methods\nfunction goPremium() {\n  AceStreamApp.stopEngineSession();\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n\nfunction startPlayback() {\n  try {\n    const playbackData = mainStore.lastIntent?.extras?.extra;\n    if (!playbackData) {\n      throw new Error(\"failed to start playback\");\n    }\n    AceStreamApp.restorePlayback({\n      sessionId: playbackData.sessionId,\n      uri: playbackData.uri,\n      player: playbackData.player,\n      playbackUrl: playbackData.playbackUrl,\n      mime: playbackData.mime,\n    });\n\n    $router.replace({ name: mainStore.mainRouteName });\n  } catch (e) {\n    mainStore.showError(`Error: ${e.message}`);\n  }\n}\n</script>\n\n<template>\n  <v-container class=\"as-page\">\n    <div style=\"margin-bottom: 24px; text-align: center\">\n      <span class=\"as-icon material-symbols-outlined\"> cast_warning </span>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"external_player_notification.text_1\") }}\n    </div>\n\n    <div class=\"as-block\">\n      <main-button class=\"as-button\" white @click=\"goPremium()\">\n        {{ $t(\"external_player_notification.activate_premium\") }}\n      </main-button>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"external_player_notification.text_2\") }}\n    </div>\n\n    <div class=\"as-block\">\n      <main-button class=\"as-button\" @click=\"startPlayback()\">\n        {{ $t(\"external_player_notification.test_feature\") }}\n      </main-button>\n    </div>\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-icon {\n  font-size: 96px;\n}\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  height: calc(100% - 64px);\n  padding: 32px;\n}\n.as-block {\n  margin-bottom: 24px;\n}\n.as-button {\n  width: 100%;\n  max-width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ExternalPlayer.vue?vue&type=template&id=11897bf4&scoped=true&\"\nimport script from \"./ExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ExternalPlayer.vue?vue&type=style&index=0&id=11897bf4&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11897bf4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column align-center justify-center\"},[_vm._m(0),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.text_1\"))+\" \")]),_c('div',{staticClass:\"as-block\"},[_c(_setup.TheButton,{staticClass:\"selector\",attrs:{\"text\":\"\",\"id\":\"button-go-premium\"},on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.activate_premium\"))+\" \")])],1),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.text_2\"))+\" \")]),_c('div',{staticClass:\"as-block\"},[_c(_setup.TheButton,{staticClass:\"selector\",attrs:{\"text\":\"\",\"id\":\"button-test-feature\"},on:{\"click\":function($event){return _setup.startPlayback()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.test_feature\"))+\" \")])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticStyle:{\"margin-bottom\":\"24px\",\"text-align\":\"center\"}},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" cast_warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\nimport Controller from \"@/lib/controller\";\n\n// router\nimport { getCurrentInstance, onMounted, onBeforeUnmount } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// constants\nconst PAGE_ID = 'external-player-tv';\n\n// lifecycle\nonMounted(() => {\n  AceStreamApp.keepEngineSession({ value: true });\n  Controller.setupNavigation({ pageId: PAGE_ID });\n  bindEvents();\n});\n\nonBeforeUnmount(() => {\n  AceStreamApp.keepEngineSession({ value: false });\n  unbindEvents();\n});\n\n// methods\nfunction bindEvents() {\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      if (e.target?.id === 'button-go-premium') {\n        Navigator.focus(document.getElementById('button-test-feature'));\n      } else {\n        Navigator.move('down');\n      }\n    },\n    up: (e) => {\n      if (e.target?.id === 'button-test-feature') {\n        Navigator.focus(document.getElementById('button-go-premium'));\n      } else {\n        Navigator.move('up');\n      }\n    },\n    enter: (e) => {\n      if (e.target?.id === 'button-go-premium') {\n        goPremium();\n      } else if (e.target?.id === 'button-test-feature') {\n        startPlayback();\n      }\n    },\n  });\n}\n\nfunction unbindEvents() {\n  Controller.removeHandler(PAGE_ID);\n}\n\nfunction goPremium() {\n  AceStreamApp.stopEngineSession();\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n\nfunction startPlayback() {\n  try {\n    const playbackData = mainStore.lastIntent?.extras?.extra;\n    if (!playbackData) {\n      throw new Error(\"failed to start playback\");\n    }\n    AceStreamApp.restorePlayback({\n      sessionId: playbackData.sessionId,\n      uri: playbackData.uri,\n      player: playbackData.player,\n      playbackUrl: playbackData.playbackUrl,\n      mime: playbackData.mime,\n    });\n\n    $router.replace({ name: mainStore.mainRouteName });\n  } catch (e) {\n    mainStore.showError(`Error: ${e.message}`);\n  }\n}\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column align-center justify-center\">\n    <div style=\"margin-bottom: 24px; text-align: center\">\n      <span class=\"as-icon material-symbols-outlined\"> cast_warning </span>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"external_player_notification.text_1\") }}\n    </div>\n\n    <div class=\"as-block\">\n      <the-button\n          text\n          id=\"button-go-premium\"\n          class=\"selector\"\n          @click=\"goPremium()\"\n        >\n          {{ $t(\"external_player_notification.activate_premium\") }}\n      </the-button>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"external_player_notification.text_2\") }}\n    </div>\n\n    <div class=\"as-block\">\n      <the-button\n          text\n          id=\"button-test-feature\"\n          class=\"selector\"\n          @click=\"startPlayback()\"\n        >\n          {{ $t(\"external_player_notification.test_feature\") }}\n      </the-button>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n  margin-top: -24px;\n}\n.as-icon {\n  font-size: 96px;\n}\n.as-block {\n  max-width: 75%;\n  margin-bottom: 24px;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayerTv.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayerTv.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ExternalPlayerTv.vue?vue&type=template&id=21801da6&scoped=true&\"\nimport script from \"./ExternalPlayerTv.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ExternalPlayerTv.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ExternalPlayerTv.vue?vue&type=style&index=0&id=21801da6&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21801da6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page\"},[_c('div',{staticStyle:{\"margin-bottom\":\"24px\",\"text-align\":\"center\"}},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" cast_warning \")])]),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"select_external_player_notification.text_1\"))+\" \")]),_c('div',{staticClass:\"as-block as-button-container\"},[_c(_setup.MainButton,{staticClass:\"as-button\",attrs:{\"white\":\"\"},on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.activate_premium\"))+\" \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nimport { getCurrentInstance, onMounted, onUnmounted } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  // Handle \"back\" button in app bar\n  mainStore.navBackHook = () => openPlayerPreferences();\n\n  // Handle system \"back\" button\n  mainStore.currentInteractive = {\n    cancel() {\n      openPlayerPreferences();\n    },\n  };\n});\n\nonUnmounted(() => {\n  // Reset \"back\" button hooks\n  mainStore.navBackHook = null;\n  mainStore.currentInteractive = null;\n});\n\n// methods\nfunction goPremium() {\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n\nfunction openPlayerPreferences() {\n  $router.replace({ name: mainStore.mainRouteName });\n  AceStreamApp.showPreferencesClicked({ type: \"player\" });\n}\n</script>\n\n<template>\n  <v-container class=\"as-page\">\n    <div style=\"margin-bottom: 24px; text-align: center\">\n      <span class=\"as-icon material-symbols-outlined\"> cast_warning </span>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"select_external_player_notification.text_1\") }}\n    </div>\n\n    <div class=\"as-block as-button-container\">\n      <main-button class=\"as-button\" white @click=\"goPremium()\">\n        {{ $t(\"external_player_notification.activate_premium\") }}\n      </main-button>\n    </div>\n\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-icon {\n  font-size: 96px;\n}\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  height: calc(100% - 64px);\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.as-block {\n  margin-bottom: 24px;\n  text-align: center;\n}\n.as-button-container {\n  width: 85%;\n}\n.as-button {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SelectExternalPlayer.vue?vue&type=template&id=c1c632ba&scoped=true&\"\nimport script from \"./SelectExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SelectExternalPlayer.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SelectExternalPlayer.vue?vue&type=style&index=0&id=c1c632ba&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1c632ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page\"},[_c('div',{staticStyle:{\"margin-bottom\":\"24px\",\"text-align\":\"center\"}},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" cast_warning \")])]),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlist_notification.text_1\"))+\" \")]),_c('div',{staticClass:\"as-block as-button-container\"},[_c(_setup.MainButton,{staticClass:\"as-button\",attrs:{\"white\":\"\"},on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.activate_premium\"))+\" \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\n// import { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nimport { getCurrentInstance } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\n// onMounted(() => {\n//   // Handle \"back\" button in app bar\n//   mainStore.navBackHook = () => openPlayerPreferences();\n\n//   // Handle system \"back\" button\n//   mainStore.currentInteractive = {\n//     cancel() {\n//       openPlayerPreferences();\n//     },\n//   };\n// });\n\n// onUnmounted(() => {\n//   // Reset \"back\" button hooks\n//   mainStore.navBackHook = null;\n//   mainStore.currentInteractive = null;\n// });\n\n// methods\nfunction goPremium() {\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n\n// function openPlayerPreferences() {\n//   $router.replace({ name: mainStore.mainRouteName });\n//   AceStreamApp.showPreferencesClicked({ type: \"player\" });\n// }\n</script>\n\n<template>\n  <v-container class=\"as-page\">\n    <div style=\"margin-bottom: 24px; text-align: center\">\n      <span class=\"as-icon material-symbols-outlined\"> cast_warning </span>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"playlist_notification.text_1\") }}\n    </div>\n\n    <div class=\"as-block as-button-container\">\n      <main-button class=\"as-button\" white @click=\"goPremium()\">\n        {{ $t(\"external_player_notification.activate_premium\") }}\n      </main-button>\n    </div>\n\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-icon {\n  font-size: 96px;\n}\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  height: calc(100% - 64px);\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.as-block {\n  margin-bottom: 24px;\n  text-align: center;\n}\n.as-button-container {\n  width: 85%;\n}\n.as-button {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotification.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotification.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PlaylistNotification.vue?vue&type=template&id=8d0192d2&scoped=true&\"\nimport script from \"./PlaylistNotification.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PlaylistNotification.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PlaylistNotification.vue?vue&type=style&index=0&id=8d0192d2&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d0192d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column align-center justify-center\"},[_vm._m(0),_c('div',{staticClass:\"as-block\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playlist_notification.text_1\"))+\" \")]),_c('div',{staticClass:\"as-block as-button-container\"},[_c(_setup.TheButton,{staticClass:\"selector\",attrs:{\"text\":\"\",\"id\":\"button-go-premium\"},on:{\"click\":function($event){return _setup.goPremium()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"external_player_notification.activate_premium\"))+\" \")])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticStyle:{\"margin-bottom\":\"24px\",\"text-align\":\"center\"}},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" cast_warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\nimport Controller from \"@/lib/controller\";\n\n// router\nimport { getCurrentInstance, onMounted, onBeforeUnmount } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// constants\nconst PAGE_ID = 'playlist-notification-tv';\n\n// lifecycle\nonMounted(() => {\n  Controller.setupNavigation({ pageId: PAGE_ID });\n  bindEvents();\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n});\n\n// methods\nfunction bindEvents() {\n  Controller.setHandler(PAGE_ID, {\n    enter: (e) => {\n      if (e.target?.id === 'button-go-premium') {\n        goPremium();\n      }\n    },\n  });\n}\n\nfunction unbindEvents() {\n  Controller.removeHandler(PAGE_ID);\n}\n\nfunction goPremium() {\n  const routeName = mainStore.isTv ? \"premium-tv\" : \"premium-welcome\";\n  $router.replace({ name: routeName });\n}\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column align-center justify-center\">\n    <div style=\"margin-bottom: 24px; text-align: center\">\n      <span class=\"as-icon material-symbols-outlined\"> cast_warning </span>\n    </div>\n\n    <div class=\"as-block\">\n      {{ $t(\"playlist_notification.text_1\") }}\n    </div>\n\n    <div class=\"as-block as-button-container\">\n      <the-button\n        text\n        id=\"button-go-premium\"\n        class=\"selector\"\n        @click=\"goPremium()\"\n      >\n        {{ $t(\"external_player_notification.activate_premium\") }}\n      </the-button>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-icon {\n  font-size: 96px;\n}\n.page-container {\n  margin-top: -24px;\n}\n.as-block {\n  max-width: 75%;\n  margin-bottom: 24px;\n  text-align: center;\n}\n.as-button-container {\n  width: 85%;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotificationTv.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotificationTv.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PlaylistNotificationTv.vue?vue&type=template&id=434cbd74&scoped=true&\"\nimport script from \"./PlaylistNotificationTv.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PlaylistNotificationTv.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PlaylistNotificationTv.vue?vue&type=style&index=0&id=434cbd74&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"434cbd74\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t( _setup.deviceDetected ? \"acecast_troubleshooting.problem_solved.title\" : \"acecast_troubleshooting.step_4.title\" ))+\" \")]),_c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"overlapping-container device-connected-container\",class:{ 'as-visible': _setup.deviceDetected }},[_vm._m(0),_c('div',{staticClass:\"as-description\"},[_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" check \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.problem_solved.list_item_1\", { deviceName: _setup.mainStore.availableAceCastDevice?.name?.replace( \" (AceCast)\", \"\" ), }))+\" \")])]),_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" check \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.problem_solved.list_item_2\"))+\" \")])])])]),_c('div',{staticClass:\"overlapping-container connect-container\",class:{ 'as-visible': !_setup.deviceDetected }},[_c('div',{staticClass:\"code-input-container\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"type\":\"number\",\"label\":_vm.$t('acecast_troubleshooting.step_4.enter_code'),\"disabled\":_setup.connecting,\"loading\":_setup.connecting},on:{\"keydown\":_setup.onKeydown},model:{value:(_setup.pinCode),callback:function ($$v) {_setup.pinCode=$$v},expression:\"pinCode\"}})],1),_c('div',{staticClass:\"as-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.subtitle\"))+\": \")]),_c('div',{staticClass:\"instructions\"},[_c('ul',[_c('ol',[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_1\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_2\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_3\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_4\"))+\" \")])])])])])]),_c('div',{staticClass:\"actions-container d-flex justify-center\"},[(_setup.deviceDetected)?_c(_setup.MainButton,{attrs:{\"white\":\"\"},on:{\"click\":function($event){return _setup.doPlay()}}},[_vm._v(\" Play \")]):_c(_setup.MainButton,{attrs:{\"white\":\"\",\"disabled\":_setup.connecting},on:{\"click\":function($event){return _setup.connectDevice()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.connect\"))+\" \")])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-success-icon-container\"},[_c('span',{staticClass:\"as-success-icon material-symbols-outlined\"},[_vm._v(\" task_alt \")])])\n}]\n\nexport { render, staticRenderFns }","export const FLAG_SHOW_REMOTE_PLAYERS = 1;\n","import { FLAG_SHOW_REMOTE_PLAYERS } from \"@/lib/intent-flags\";\n\nexport async function continuePlayback(mainStore, appPlugin, router) {\n  try {\n    console.log(\n      `continuePlayback: intent=${JSON.stringify(mainStore.lastIntent)}`\n    );\n    if (mainStore.lastIntent?.data) {\n      const selectedPlayer = {\n        id1: mainStore.availableAceCastDevice.id,\n        type: 2,\n        name: mainStore.availableAceCastDevice.name,\n      };\n      await appPlugin.play({\n        uri: mainStore.lastIntent.data,\n        streamIndex: -1,\n        player: JSON.stringify(selectedPlayer),\n      });\n      router.replace({ name: mainStore.mainRouteName });\n    }\n  } catch (e) {\n    console.error(`Failed to continue playback: ${e}`);\n  }\n}\n\nexport async function goBack(mainStore, appPlugin, router) {\n  router.replace({ name: mainStore.mainRouteName });\n\n  try {\n    if (mainStore.lastIntent?.data) {\n      await appPlugin.play({\n        uri: mainStore.lastIntent.data,\n        streamIndex: -1,\n        flags: FLAG_SHOW_REMOTE_PLAYERS,\n      });\n    }\n  } catch (e) {\n    console.error(`Failed to play on back: ${e}`);\n  }\n}\n","<script setup>\nimport { getCurrentInstance, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport { getAddressFromPin } from \"@/lib/acecast\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { continuePlayback, goBack } from \"@/pages/acecast/utils\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// local\nlet connectingTimer = null;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst pinCode = ref(\"\");\nconst connecting = ref(false);\nconst watchPort = ref(0);\nconst deviceDetected = ref(false);\n\n// lifecycle\nonMounted(() => {\n  mainStore.currentInteractive = {\n    cancel() {\n      goBack(mainStore, AceStreamApp, $router);\n    },\n  };\n\n  mainStore.navBackHook = () => goBack(mainStore, AceStreamApp, $router);\n});\n\nonUnmounted(() => {\n  mainStore.currentInteractive = null;\n  mainStore.navBackHook = null;\n\n  if (connectingTimer) {\n    clearTimeout(connectingTimer);\n    connectingTimer = null;\n  }\n});\n\n// watch\nwatch(\n  () => mainStore.allAvailableAceCastDevices,\n  (newValue) => {\n    console.log(`watch: devices=${JSON.stringify(newValue)}`);\n    checkConnection();\n  },\n  { immediate: true }\n);\n\n// methods\nasync function connectDevice() {\n  try {\n    if (!pinCode.value) {\n      throw new Error($i18n.t(\"acecast_troubleshooting.empty_pin_code\"));\n    }\n    const result = await getAddressFromPin(pinCode.value);\n    console.log(\n      `got device info: host=${result.host} port=${result.port} name=${result.name}`\n    );\n\n    watchPort.value = result.port;\n    checkConnection();\n\n    if (!deviceDetected.value) {\n      connecting.value = true;\n      connectingTimer = setTimeout(() => {\n        connecting.value = false;\n        mainStore.showError(\n          $i18n.t(\"acecast_troubleshooting.failed_to_connect\")\n        );\n      }, 5000);\n\n      await AceStreamApp.addAceCastDevice({\n        host: result.host,\n        port: result.port,\n        name: result.name,\n      });\n    }\n  } catch (e) {\n    console.log(e);\n    mainStore.showError(e.response?.data || e.message);\n  }\n}\n\nfunction checkConnection() {\n  console.log(`checkConnection: watchPort=${watchPort.value}`);\n  for (const device of mainStore.allAvailableAceCastDevices) {\n    console.log(`device: port=${device.port}`);\n    if (device.port == watchPort.value) {\n      deviceDetected.value = true;\n      if (connectingTimer) {\n        clearTimeout(connectingTimer);\n        connectingTimer = null;\n      }\n    }\n  }\n}\n\nfunction onKeydown(e) {\n  if (e.key === \"Enter\") {\n    connectDevice();\n  }\n}\n\nfunction doPlay() {\n  continuePlayback(mainStore, AceStreamApp, $router);\n}\n</script>\n\n<template>\n  <div class=\"as-page\">\n    <div class=\"as-title\">\n      {{\n        $t(\n          deviceDetected\n            ? \"acecast_troubleshooting.problem_solved.title\"\n            : \"acecast_troubleshooting.step_4.title\"\n        )\n      }}\n    </div>\n\n    <div class=\"page-container\">\n      <div\n        class=\"overlapping-container device-connected-container\"\n        :class=\"{ 'as-visible': deviceDetected }\"\n      >\n        <div class=\"as-success-icon-container\">\n          <span class=\"as-success-icon material-symbols-outlined\">\n            task_alt\n          </span>\n        </div>\n\n        <div class=\"as-description\">\n          <div class=\"d-flex align-center justify-center\">\n            <span class=\"as-icon material-symbols-outlined\"> check </span>\n            <span>\n              {{\n                $t(\"acecast_troubleshooting.problem_solved.list_item_1\", {\n                  deviceName: mainStore.availableAceCastDevice?.name?.replace(\n                    \" (AceCast)\",\n                    \"\"\n                  ),\n                })\n              }}\n            </span>\n          </div>\n          <div class=\"d-flex align-center justify-center\">\n            <span class=\"as-icon material-symbols-outlined\"> check </span>\n            <span>\n              {{ $t(\"acecast_troubleshooting.problem_solved.list_item_2\") }}\n            </span>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"overlapping-container connect-container\"\n        :class=\"{ 'as-visible': !deviceDetected }\"\n      >\n        <div class=\"code-input-container\">\n          <v-text-field\n            v-model=\"pinCode\"\n            class=\"code-input\"\n            outlined\n            clearable\n            type=\"number\"\n            :label=\"$t('acecast_troubleshooting.step_4.enter_code')\"\n            :disabled=\"connecting\"\n            :loading=\"connecting\"\n            @keydown=\"onKeydown\"\n          />\n        </div>\n\n        <div class=\"as-subtitle\">\n          {{ $t(\"acecast_troubleshooting.step_4.subtitle\") }}:\n        </div>\n\n        <div class=\"instructions\">\n          <ul>\n            <ol>\n              <li>\n                {{ $t(\"acecast_troubleshooting.step_4.list_item_1\") }}\n              </li>\n              <li>\n                {{ $t(\"acecast_troubleshooting.step_4.list_item_2\") }}\n              </li>\n              <li>\n                {{ $t(\"acecast_troubleshooting.step_4.list_item_3\") }}\n              </li>\n              <li>\n                {{ $t(\"acecast_troubleshooting.step_4.list_item_4\") }}\n              </li>\n            </ol>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"actions-container d-flex justify-center\">\n      <main-button v-if=\"deviceDetected\" white @click=\"doPlay()\">\n        Play\n      </main-button>\n      <main-button v-else white :disabled=\"connecting\" @click=\"connectDevice()\">\n        {{ $t(\"acecast_troubleshooting.connect\") }}\n      </main-button>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  background-color: var(--background-dark);\n  margin-top: 64px;\n  height: calc(100% - 64px);\n  padding: 16px 32px 0 32px;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.as-title {\n  font-size: 22px;\n  font-weight: 300;\n  padding-bottom: 24px;\n  text-align: center;\n}\n\n.instructions {\n  ul {\n    padding: 0;\n  }\n  padding-bottom: 32px;\n}\n\n.page-container {\n  position: relative;\n  .overlapping-container {\n    visibility: hidden;\n  }\n  .as-visible {\n    visibility: visible;\n  }\n  .device-connected-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n  }\n}\n\n.as-success-icon-container {\n  text-align: center;\n  padding-bottom: 16px;\n  .as-success-icon {\n    font-size: 96px;\n    font-weight: 200;\n    color: var(--color-ace-green);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastManualConnect.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastManualConnect.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AceCastManualConnect.vue?vue&type=template&id=6fef6fd1&scoped=true&\"\nimport script from \"./AceCastManualConnect.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AceCastManualConnect.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AceCastManualConnect.vue?vue&type=style&index=0&id=6fef6fd1&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fef6fd1\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page\"},[_c('div',{staticClass:\"as-floating-close\",on:{\"click\":function($event){return _setup.goBack()}}},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" close \")])]),_c('div',{staticClass:\"as-top-container\"},[_c('div',{staticClass:\"as-page-title as-pb-4\"},[_vm._v(\"Ace Cast\")]),_c('div',{staticClass:\"as-subtitle-1 as-pb-4\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"about_acecast.text_1\"))+\" \")]),_c('div',{staticClass:\"as-pb-4\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"about_acecast.text_2\"))+\" \")]),_c('div',{staticClass:\"as-subtitle-2 as-pb-4\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"about_acecast.text_3\"))+\" \")])]),_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title as-pb-4\"},[_vm._v(\" \"+_vm._s(_setup.optionName)+\" \")]),_c('div',{ref:\"optionDescriptionContainer\",staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_setup.optionDescription)+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"as-pb-4\"},[_vm._v(_vm._s(_vm.$t(\"about_acecast.text_4\"))+\":\")]),_c('div',{staticClass:\"as-options-container as-pb-8\"},_vm._l((_setup.options),function(option){return _c('div',{key:option.id,staticClass:\"as-option\",class:{ 'as-selected': option.id == _setup.selectedOption },on:{\"click\":function($event){return _setup.selectOption(option.id)}}},[_vm._v(\" \"+_vm._s(option.name)+\" \")])}),0)]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, ref } from \"vue\";\n// import TypeIt from \"typeit\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n// import MainButton from \"@/components/MainButton.vue\";\nimport { FLAG_SHOW_REMOTE_PLAYERS } from \"@/lib/intent-flags\";\n\n// router\nimport { getCurrentInstance, onMounted, onUnmounted } from \"vue\";\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// const\n// let typeitInstance;\n\nconst options = [\n  { id: \"option_1\", name: \"1\" },\n  { id: \"option_2\", name: \"2\" },\n  { id: \"option_3\", name: \"3\" },\n  { id: \"option_4\", name: \"4\" },\n  { id: \"option_5\", name: \"5\" },\n];\n\n// refs\nconst selectedOption = ref(\"option_1\");\nconst optionDescriptionContainer = ref(false);\n\n// computed\nconst optionName = computed(() =>\n  $i18n.t(`about_acecast.options.${selectedOption.value}.title`)\n);\nconst optionDescription = computed(() =>\n  $i18n.t(`about_acecast.options.${selectedOption.value}.description`)\n);\n\n// lifecycle\nonMounted(() => {\n  // typeitInstance = new TypeIt(optionDescriptionContainer.value, {\n  //   speed: 20,\n  //   waitUntilVisible: true,\n  //   cursor: false,\n  // });\n\n  mainStore.currentInteractive = {\n    cancel() {\n      goBack();\n    },\n  };\n\n  mainStore.navBackHook = () => goBack();\n});\n\nonUnmounted(() => {\n  mainStore.currentInteractive = null;\n  mainStore.navBackHook = null;\n});\n\n// methods\nasync function goBack() {\n  $router.replace({ name: mainStore.mainRouteName });\n\n  try {\n    if (mainStore.lastIntent?.data) {\n      await AceStreamApp.play({\n        uri: mainStore.lastIntent.data,\n        streamIndex: -1,\n        flags: FLAG_SHOW_REMOTE_PLAYERS,\n      });\n    }\n  } catch (e) {\n    console.error(`Failed to play on back: ${e}`);\n  }\n}\n\nfunction selectOption(optionId) {\n  selectedOption.value = optionId;\n  // typeOptionDescription(optionId);\n}\n\n// function typeOptionDescription(optionId) {\n//   // const typeit = new TypeIt(optionDescriptionContainer.value, {\n//   //   speed: 20,\n//   //   nextStringDelay: 20,\n//   //   waitUntilVisible: true,\n//   //   cursor: false,\n//   //   strings: [$i18n.t(`about_acecast.options.${optionId}.description`)],\n//   //   afterComplete: () => {\n//   //     // this.showActions = true;\n//   //   },\n//   // });\n\n//   // try {\n//   //   typeitInstance.destroy();\n//   // } catch (e) {\n//   //   console.log(e);\n//   // }\n//   if (optionId == \"option_1\") {\n//     typeitInstance\n//       .type($i18n.t(`about_acecast.options.${optionId}.description`))\n//       .go();\n//   } else if (optionId == \"option_2\") {\n//     typeitInstance.pause().go();\n//   }\n//   // typeit.go();\n// }\n</script>\n\n<template>\n  <div class=\"as-page\">\n    <div class=\"as-floating-close\" @click=\"goBack()\">\n      <span class=\"material-symbols-outlined\"> close </span>\n    </div>\n\n    <div class=\"as-top-container\">\n      <div class=\"as-page-title as-pb-4\">Ace Cast</div>\n\n      <div class=\"as-subtitle-1 as-pb-4\">\n        {{ $t(\"about_acecast.text_1\") }}\n      </div>\n\n      <div class=\"as-pb-4\">\n        {{ $t(\"about_acecast.text_2\") }}\n      </div>\n\n      <div class=\"as-subtitle-2 as-pb-4\">\n        {{ $t(\"about_acecast.text_3\") }}\n      </div>\n    </div>\n\n    <div class=\"as-description-container\">\n      <div class=\"as-title as-pb-4\">\n        {{ optionName }}\n      </div>\n      <div class=\"as-description\" ref=\"optionDescriptionContainer\">\n        {{ optionDescription }}\n      </div>\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"as-pb-4\">{{ $t(\"about_acecast.text_4\") }}:</div>\n\n      <div class=\"as-options-container as-pb-8\">\n        <div\n          v-for=\"option in options\"\n          :key=\"option.id\"\n          class=\"as-option\"\n          :class=\"{ 'as-selected': option.id == selectedOption }\"\n          @click=\"selectOption(option.id)\"\n        >\n          {{ option.name }}\n        </div>\n      </div>\n\n      <!-- <div class=\"d-flex justify-center\">\n        <main-button white @click=\"goBack()\"> OK </main-button>\n      </div> -->\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$pagePadding: 16px;\n.as-page {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  font-size: 14px;\n}\n\n.as-page-title {\n  font-size: 28px;\n  font-weight: 300;\n  text-transform: uppercase;\n  text-align: center;\n}\n.as-top-container {\n  background-color: var(--background-dark-1);\n  padding: $pagePadding $pagePadding 0 $pagePadding;\n}\n.as-description-container {\n  background-color: var(--background-light);\n  min-height: 250px;\n  padding: $pagePadding;\n  font-size: 1.1em;\n\n  .as-title {\n    font-weight: 600;\n  }\n}\n.as-bottom-container {\n  background-color: var(--background-dark-2);\n  padding: $pagePadding;\n}\n.as-vertical-fill {\n  background-color: var(--background-dark-2);\n  flex-grow: 1;\n}\n.as-options-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-left: 8px;\n  padding-right: 8px;\n\n  .as-option {\n    border: 1px solid rgba(255, 255, 255, 0.5);\n\n    width: 64px;\n    height: 64px;\n    border-radius: 32px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    font-size: 22px;\n\n    &.as-selected {\n      border-color: #fff;\n      border-width: 2px;\n    }\n  }\n}\n.as-subtitle-1 {\n  font-weight: 600;\n}\n.as-subtitle-2 {\n  font-size: 20px;\n}\n.as-floating-close {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n}\n\n.as-pb-8 {\n  padding-bottom: 32px;\n}\n.as-pb-4 {\n  padding-bottom: 16px;\n}\n\n@media screen and (max-width: 380px) {\n  .as-options-container {\n    .as-option {\n      width: 56px;\n      height: 56px;\n      border-radius: 28px;\n    }\n  }\n  .as-pb-8 {\n    padding-bottom: 16px;\n  }\n}\n\n@media screen and (max-width: 370px) {\n  .as-page {\n    font-size: 13px;\n  }\n  .as-description-container {\n    min-height: 250px;\n  }\n  .as-subtitle-2 {\n    font-size: 16px;\n  }\n  .as-pb-4 {\n    padding-bottom: 12px;\n  }\n}\n\n@media screen and (max-width: 340px) {\n  .as-options-container {\n    .as-option {\n      width: 48px;\n      height: 48px;\n      border-radius: 24px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastAbout.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastAbout.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AceCastAbout.vue?vue&type=template&id=63fd412a&scoped=true&\"\nimport script from \"./AceCastAbout.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AceCastAbout.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AceCastAbout.vue?vue&type=style&index=0&id=63fd412a&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63fd412a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page as-page-acecast-troubleshooting\"},[_c('div',{staticClass:\"as-top-container\"},[(_setup.mainStore.availableAceCastDevice)?[_vm._m(0)]:[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.message_error\"))+\" \")]],2),(_setup.mainStore.availableAceCastDevice)?[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.problem_solved.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" check \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.problem_solved.list_item_1\", { deviceName: _setup.mainStore.availableAceCastDevice?.name?.replace( \" (AceCast)\", \"\" ), }))+\" \")])]),_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" check \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.problem_solved.list_item_2\"))+\" \")])])])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-full-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\"},on:{\"click\":function($event){return _setup.doPlay()}}},[_vm._v(\" Play \")])],1)])])]:_c('router-view'),_c('div',{staticClass:\"as-vertical-fill\"},[(!_setup.mainStore.availableAceCastDevice)?_c('div',{staticClass:\"progress-container\"},[_c('div',{staticClass:\"pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.searching_devices\"))+\" \")]),_c('div',[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"1\"}})],1)]):_vm._e()])],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-success-icon-container\"},[_c('span',{staticClass:\"as-success-icon material-symbols-outlined\"},[_vm._v(\" task_alt \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { onMounted, onUnmounted, getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { continuePlayback, goBack } from \"@/pages/acecast/utils\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// local\nlet discoveryTimer = null;\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  mainStore.navBackHook = () => goBack(mainStore, AceStreamApp, $router);\n\n  discoveryTimer = setInterval(() => {\n    AceStreamApp.discoverDevices();\n  }, 30000);\n});\n\nonUnmounted(() => {\n  mainStore.navBackHook = null;\n\n  if (discoveryTimer) {\n    clearInterval(discoveryTimer);\n    discoveryTimer = null;\n  }\n});\n\n// methods\nfunction doPlay() {\n  continuePlayback(mainStore, AceStreamApp, $router);\n}\n</script>\n\n<template>\n  <div class=\"as-page as-page-acecast-troubleshooting\">\n    <div class=\"as-top-container\">\n      <template v-if=\"mainStore.availableAceCastDevice\">\n        <div class=\"as-success-icon-container\">\n          <span class=\"as-success-icon material-symbols-outlined\">\n            task_alt\n          </span>\n        </div>\n      </template>\n      <template v-else>\n        {{ $t(\"acecast_troubleshooting.message_error\") }}\n      </template>\n    </div>\n\n    <template v-if=\"mainStore.availableAceCastDevice\">\n      <div class=\"as-description-container\">\n        <div class=\"as-title\">\n          {{ $t(\"acecast_troubleshooting.problem_solved.title\") }}\n        </div>\n        <div class=\"as-description\">\n          <div class=\"d-flex align-center\">\n            <span class=\"as-icon material-symbols-outlined\"> check </span>\n            <span>\n              {{\n                $t(\"acecast_troubleshooting.problem_solved.list_item_1\", {\n                  deviceName: mainStore.availableAceCastDevice?.name?.replace(\n                    \" (AceCast)\",\n                    \"\"\n                  ),\n                })\n              }}\n            </span>\n          </div>\n          <div class=\"d-flex align-center\">\n            <span class=\"as-icon material-symbols-outlined\"> check </span>\n            <span>\n              {{ $t(\"acecast_troubleshooting.problem_solved.list_item_2\") }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"as-bottom-container\">\n        <div class=\"wizard-actions-container\">\n          <div class=\"as-full-screen next-button\">\n            <main-button white @click=\"doPlay()\"> Play </main-button>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <router-view v-else></router-view>\n\n    <div class=\"as-vertical-fill\">\n      <div class=\"progress-container\" v-if=\"!mainStore.availableAceCastDevice\">\n        <div class=\"pb-2\">\n          {{ $t(\"acecast_troubleshooting.searching_devices\") }}\n        </div>\n        <div>\n          <v-progress-linear indeterminate height=\"1\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n$pagePadding: 16px;\n.as-page-acecast-troubleshooting {\n  .as-description-container {\n    background-color: var(--background-light);\n    padding: $pagePadding;\n    min-height: 320px;\n\n    .as-title {\n      font-size: 22px;\n      font-weight: 300;\n      padding-bottom: 8px;\n      text-align: center;\n    }\n  }\n  .wizard-actions-container {\n    display: flex;\n    flex-direction: row;\n    padding-top: 16px;\n\n    .as-half-screen {\n      width: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      &.next-button .as-btn {\n        width: 75%;\n      }\n    }\n\n    .as-full-screen {\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      &.next-button .as-btn {\n        width: 50%;\n      }\n    }\n\n    .next-title {\n      font-size: 0.9em;\n    }\n  }\n\n  .as-bottom-container {\n    background-color: var(--background-dark-2);\n    padding: $pagePadding;\n  }\n}\n</style>\n<style scoped lang=\"scss\">\n$pagePadding: 16px;\n.as-page {\n  margin-top: 64px;\n  height: calc(100% - 64px);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.as-top-container {\n  background-color: var(--background-dark-1);\n  padding: $pagePadding;\n  font-size: 0.9em;\n  min-height: 95px;\n}\n.as-vertical-fill {\n  background-color: var(--background-dark-2);\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  padding-bottom: 32px;\n}\n\n.progress-container {\n  font-size: 0.9em;\n}\n\n.as-success-icon-container {\n  text-align: center;\n  .as-success-icon {\n    font-size: 96px;\n    font-weight: 200;\n    color: var(--color-ace-green);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastTroubleshooting.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastTroubleshooting.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AceCastTroubleshooting.vue?vue&type=template&id=41e8faa0&scoped=true&\"\nimport script from \"./AceCastTroubleshooting.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AceCastTroubleshooting.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AceCastTroubleshooting.vue?vue&type=style&index=0&id=41e8faa0&prod&lang=scss&\"\nimport style1 from \"./AceCastTroubleshooting.vue?vue&type=style&index=1&id=41e8faa0&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41e8faa0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-description-container d-flex align-center justify-center\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _setup.$router.push({ name: 'acecast-troubleshooting-step2' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_1.start_check\"))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { onMounted, onUnmounted, getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { goBack } from \"@/pages/acecast/utils\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  mainStore.currentInteractive = {\n    cancel() {\n      goBack(mainStore, AceStreamApp, $router);\n    },\n  };\n});\n\nonUnmounted(() => {\n  mainStore.currentInteractive = null;\n});\n</script>\n\n<template>\n  <div class=\"as-description-container d-flex align-center justify-center\">\n    <main-button\n      @click=\"$router.push({ name: 'acecast-troubleshooting-step2' })\"\n    >\n      {{ $t(\"acecast_troubleshooting.step_1.start_check\") }}\n    </main-button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep1.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep1.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep1.vue?vue&type=template&id=cd11d18e&scoped=true&\"\nimport script from \"./WizardStep1.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep1.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd11d18e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_2.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_2.main_text\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _vm.$router.push({ name: 'acecast-troubleshooting-step3' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_3.title\"))+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep2.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep2.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep2.vue?vue&type=template&id=6cf3bbe0&scoped=true&\"\nimport script from \"./WizardStep2.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep2.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cf3bbe0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_3.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_3.main_text\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _vm.$router.push({ name: 'acecast-troubleshooting-step4' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.title\"))+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep3.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep3.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep3.vue?vue&type=template&id=9ca4213e&scoped=true&\"\nimport script from \"./WizardStep3.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep3.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ca4213e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.title\"))+\" \")]),_c('div',{staticClass:\"code-input-container\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"type\":\"number\",\"label\":_vm.$t('acecast_troubleshooting.step_4.enter_code'),\"disabled\":_setup.connecting,\"loading\":_setup.connecting},on:{\"keydown\":_setup.onKeydown},model:{value:(_setup.pinCode),callback:function ($$v) {_setup.pinCode=$$v},expression:\"pinCode\"}})],1),_c('div',{staticClass:\"as-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.subtitle\"))+\" \")]),_c('ul',[_c('ol',[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_1\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_2\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_3\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_4.list_item_4\"))+\" \")])])])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"disabled\":_setup.connecting},on:{\"click\":function($event){return _setup.connectDevice()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.connect\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _vm.$router.push({ name: 'acecast-troubleshooting-step5' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.next\"))+\" \")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, onUnmounted, ref } from \"vue\";\nimport { getAddressFromPin } from \"@/lib/acecast\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// local\nlet connectingTimer = null;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst pinCode = ref(\"\");\nconst connecting = ref(false);\n\n// lifecycle\nonUnmounted(() => {\n  if (connectingTimer) {\n    clearTimeout(connectingTimer);\n    connectingTimer = null;\n  }\n});\n\n// methods\nasync function connectDevice() {\n  try {\n    if (!pinCode.value) {\n      throw new Error($i18n.t(\"acecast_troubleshooting.empty_pin_code\"));\n    }\n    const result = await getAddressFromPin(pinCode.value);\n    console.log(\n      `got device info: host=${result.host} port=${result.port} name=${result.name}`\n    );\n\n    connecting.value = true;\n    connectingTimer = setTimeout(() => {\n      connecting.value = false;\n      mainStore.showError($i18n.t(\"acecast_troubleshooting.failed_to_connect\"));\n    }, 5000);\n\n    await AceStreamApp.addAceCastDevice({\n      host: result.host,\n      port: result.port,\n      name: result.name,\n    });\n  } catch (e) {\n    console.log(e);\n    mainStore.showError(e.response?.data || e.message);\n  }\n}\n\nfunction onKeydown(e) {\n  if (e.key === \"Enter\") {\n    connectDevice();\n  }\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"as-description-container\">\n      <div class=\"as-title\">\n        {{ $t(\"acecast_troubleshooting.step_4.title\") }}\n      </div>\n\n      <div class=\"code-input-container\">\n        <v-text-field\n          v-model=\"pinCode\"\n          class=\"code-input\"\n          outlined\n          clearable\n          type=\"number\"\n          :label=\"$t('acecast_troubleshooting.step_4.enter_code')\"\n          :disabled=\"connecting\"\n          :loading=\"connecting\"\n          @keydown=\"onKeydown\"\n        />\n      </div>\n\n      <div class=\"as-subtitle\">\n        {{ $t(\"acecast_troubleshooting.step_4.subtitle\") }}\n      </div>\n\n      <ul>\n        <ol>\n          <li>\n            {{ $t(\"acecast_troubleshooting.step_4.list_item_1\") }}\n          </li>\n          <li>\n            {{ $t(\"acecast_troubleshooting.step_4.list_item_2\") }}\n          </li>\n          <li>\n            {{ $t(\"acecast_troubleshooting.step_4.list_item_3\") }}\n          </li>\n          <li>\n            {{ $t(\"acecast_troubleshooting.step_4.list_item_4\") }}\n          </li>\n        </ol>\n      </ul>\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button white :disabled=\"connecting\" @click=\"connectDevice()\">\n            {{ $t(\"acecast_troubleshooting.connect\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            @click=\"$router.push({ name: 'acecast-troubleshooting-step5' })\"\n          >\n            {{ $t(\"acecast_troubleshooting.next\") }}\n          </main-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$pagePadding: 16px;\n\n.as-description-container {\n  ol {\n    padding: 0;\n  }\n}\n\n.code-input-container {\n  text-align: center;\n  padding-top: 8px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep4.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep4.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep4.vue?vue&type=template&id=03e3e160&scoped=true&\"\nimport script from \"./WizardStep4.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep4.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./WizardStep4.vue?vue&type=style&index=0&id=03e3e160&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e3e160\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_5.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_5.main_text\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _vm.$router.push({ name: 'acecast-troubleshooting-step6' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_6.title\"))+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep5.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep5.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep5.vue?vue&type=template&id=3b225663&scoped=true&\"\nimport script from \"./WizardStep5.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep5.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b225663\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_6.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_6.main_text\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _vm.$router.push({ name: 'acecast-troubleshooting-step7' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_7.title\"))+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep6.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep6.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep6.vue?vue&type=template&id=7fdc89e4&scoped=true&\"\nimport script from \"./WizardStep6.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep6.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fdc89e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-description-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_7.title\"))+\" \")]),_c('div',{staticClass:\"as-description\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"acecast_troubleshooting.step_7.main_text\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-full-screen next-button\"},[_c(_setup.MainButton,{on:{\"click\":function($event){return _setup.closeWizard()}}},[_vm._v(\" OK \")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// stores\nconst mainStore = useMainStore();\n\n// methods\nfunction closeWizard() {\n  if (mainStore.navBackHook) {\n    mainStore.navBackHook();\n  }\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"as-description-container\">\n      <div class=\"as-title\">\n        {{ $t(\"acecast_troubleshooting.step_7.title\") }}\n      </div>\n      <div class=\"as-description\">\n        {{ $t(\"acecast_troubleshooting.step_7.main_text\") }}\n      </div>\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-full-screen next-button\">\n          <main-button @click=\"closeWizard()\"> OK </main-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep7.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WizardStep7.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./WizardStep7.vue?vue&type=template&id=126d6829&scoped=true&\"\nimport script from \"./WizardStep7.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./WizardStep7.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"126d6829\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page as-page-engine-activation\"},[(_setup.loading)?[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.engine_downloading\"))+\" \")])]),_c('div',{staticClass:\"as-center-container d-flex flex-column\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.permissions_hint\"))+\" \"),_vm._m(1)]),_c('div',{staticClass:\"as-vertical-fill d-flex align-center justify-center\"},[(_setup.loading)?_c('v-progress-circular',{attrs:{\"size\":\"48\",\"width\":\"2\",\"indeterminate\":_setup.waitingForState || _setup.updateProgress == 100,\"value\":_setup.updateProgress}},[(_setup.updateProgress != 100)?_c('span',[_vm._v(\" \"+_vm._s(_setup.updateProgress)+\" \")]):_vm._e()]):_vm._e()],1)]:[_c('div',{staticClass:\"as-top-container\"},[_vm._m(2),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.select_server_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"remote_engine.current_server\"))+\":\")]),_c('div',{staticClass:\"pt-1\"},[_vm._v(_vm._s(_setup.selectedEngineName))])]),_c('div',{staticClass:\"as-bottom-container\"},[(!_setup.isLocalEngineSelected)?_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button mb-5\",on:{\"click\":_setup.useLocalServer}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.use_local_engine\"))+\" \")]):_vm._e(),_vm._l((_setup.filteredRemoteEngineList),function(engine,index){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],key:index,staticClass:\"selector-button mb-5\",on:{\"click\":function($event){return _setup.useRemoteServer(engine)}}},[_vm._v(\" \"+_vm._s(engine.host)+\":\"+_vm._s(engine.port)+\" \")])}),_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button mb-6\",on:{\"click\":_setup.connectRemote}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.use_remote_engine\"))+\" \")])],2),_c('div',{staticClass:\"as-vertical-fill\"})]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" system_update_alt \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-image flex-grow d-flex flex-column align-center justify-end\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/grant_install_permissions.svg\")}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport {\n  computed,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  ref,\n  watch,\n} from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\n// props\nconst props = defineProps({\n  autoInstall: {\n    type: Boolean,\n    default: false,\n  },\n});\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst waitingForDownload = ref(false);\nconst installClicked = ref(false);\n\n// computed\nconst loading = computed(\n  () =>\n    updateStatus.value === \"IN_QUEUE\" ||\n    updateStatus.value === \"ACTIVE\" ||\n    (updateStatus.value === \"STANDBY\" && waitingForDownload.value) ||\n    (waitingForState.value && installClicked.value)\n);\nconst updateStatus = computed(() => mainStore.pendingAppUpdate?.status);\nconst updateProgress = computed(() => mainStore.pendingAppUpdate?.progress);\nconst gotError = computed(() => !!mainStore.appUpdateError);\nconst waitingForState = computed(() => !updateStatus.value && !gotError.value);\nconst selectedEngine = computed(() => mainStore.state.selectedEngineState);\nconst selectedRemoteEngine = computed(() =>\n  selectedEngine.value.useRemote ? selectedEngine.value.remoteState : null\n);\nconst isLocalEngineSelected = computed(\n  () => selectedEngine.value.hasLocal && !selectedEngine.value.useRemote\n);\nconst selectedEngineName = computed(() => {\n  if (selectedEngine.value.useRemote) {\n    return `${selectedEngine.value.remoteState?.host}:${selectedEngine.value.remoteState?.port}`;\n  } else if (selectedEngine.value.hasLocal) {\n    return $i18n.t(\"remote_engine.local_server_is_used\");\n  } else {\n    return \"?\";\n  }\n});\nconst remoteEngineList = computed(\n  () => mainStore.state.remoteEngineList?.list ?? []\n);\n\n// All remote engines expect the selected one\nconst filteredRemoteEngineList = computed(() =>\n  remoteEngineList.value.filter(\n    (x) =>\n      !(\n        x.host === selectedRemoteEngine.value?.host &&\n        x.port === selectedRemoteEngine.value?.port\n      )\n  )\n);\n\n// lifecycle\nonMounted(() => {\n  if (props.autoInstall) {\n    install();\n  }\n});\n\n// methods\nfunction connectRemote() {\n  $router.push({ name: \"activation-connect-welcome\" });\n}\n\nfunction useRemoteServer(server) {\n  $router.push({ name: \"select-server-remote\", params: { server } });\n}\n\nasync function useLocalServer() {\n  try {\n    if (mainStore.isBaseApp) {\n      await AceStreamApp.enableLocalEngine();\n      await install();\n    } else {\n      await AceStreamApp.enableLocalEngine();\n    }\n  } catch (e) {\n    console.error(`Failed to activate local server: ${e}`);\n  }\n}\n\nasync function install() {\n  try {\n    if (waitingForState.value) {\n      // If there is no state yet then show \"downloading\" screen and run install()\n      // again as soon as the state is available.\n\n      console.log(`install: wait for state`);\n      installClicked.value = true;\n\n      // Wait for the state\n      const unwatch = watch(\n        waitingForState,\n        (newValue) => {\n          console.log(`install: state update: available=${newValue}`);\n          if (!newValue) {\n            installClicked.value = false;\n            if (timeoutTimer) {\n              clearTimeout(timeoutTimer);\n            }\n            install();\n          }\n        },\n        { immediate: true }\n      );\n\n      // Don't wait for state forever\n      const timeoutTimer = setTimeout(() => {\n        unwatch();\n        installClicked.value = false;\n      }, 30000);\n    } else if (gotError.value) {\n      $router.push({ name: \"activation-install-error\" });\n    } else if (mainStore.pendingAppUpdate?.canInstall) {\n      if (updateProgress.value != 100) {\n        // We are going to download an update.\n        // We won't receive ACTIVE state immediately but we want to give a feedback to user right now.\n        // To do this we add artificial delay.\n        waitingForDownload.value = true;\n        await nextTick();\n      }\n      await AceStreamApp.selfUpdateClicked();\n\n      // Setup timer after calling selfUpdateClicked() because we don't want to reset timer\n      // earlier than it finishes. selfUpdateClicked() can take some time to finish because\n      // it may issue a network request.\n      if (waitingForDownload.value) {\n        setTimeout(() => (waitingForDownload.value = false), 3500);\n      }\n    } else {\n      throw new Error(\"internal_error\");\n    }\n  } catch (e) {\n    const msg = e.toString();\n    mainStore.showError(msg);\n  }\n}\n</script>\n\n<template>\n  <div class=\"as-page as-page-engine-activation\">\n    <!-- we are loading apk -->\n    <template v-if=\"loading\">\n      <div class=\"as-top-container\">\n        <div class=\"as-icon\">\n          <span class=\"material-symbols-outlined\"> system_update_alt </span>\n        </div>\n        <div class=\"as-title\">\n          {{ $t(\"activation_welcome.engine_downloading\") }}\n        </div>\n      </div>\n\n      <div class=\"as-center-container d-flex flex-column\">\n        {{ $t(\"activation_welcome.permissions_hint\") }}\n        <div\n          class=\"as-image flex-grow d-flex flex-column align-center justify-end\"\n        >\n          <img src=\"@/assets/img/grant_install_permissions.svg\" />\n        </div>\n      </div>\n\n      <div class=\"as-vertical-fill d-flex align-center justify-center\">\n        <v-progress-circular\n          v-if=\"loading\"\n          size=\"48\"\n          width=\"2\"\n          :indeterminate=\"waitingForState || updateProgress == 100\"\n          :value=\"updateProgress\"\n        >\n          <span v-if=\"updateProgress != 100\">\n            {{ updateProgress }}\n          </span>\n        </v-progress-circular>\n      </div>\n    </template>\n\n    <!-- regular welcome page -->\n    <template v-else>\n      <div class=\"as-top-container\">\n        <div class=\"as-icon\">\n          <img src=\"@/assets/img/acestream_logo.svg\" height=\"96\" />\n        </div>\n        <div class=\"as-title\">\n          {{ $t(\"remote_engine.select_server_title\") }}\n        </div>\n      </div>\n\n      <div class=\"as-center-container\">\n        <div>{{ $t(\"remote_engine.current_server\") }}:</div>\n        <div class=\"pt-1\">{{ selectedEngineName }}</div>\n      </div>\n\n      <div class=\"as-bottom-container\">\n        <div\n          v-ripple\n          class=\"selector-button mb-5\"\n          @click=\"useLocalServer\"\n          v-if=\"!isLocalEngineSelected\"\n        >\n          {{ $t(\"remote_engine.use_local_engine\") }}\n        </div>\n        <div\n          v-for=\"(engine, index) in filteredRemoteEngineList\"\n          :key=\"index\"\n          v-ripple\n          class=\"selector-button mb-5\"\n          @click=\"useRemoteServer(engine)\"\n        >\n          {{ engine.host }}:{{ engine.port }}\n        </div>\n        <div v-ripple class=\"selector-button mb-6\" @click=\"connectRemote\">\n          {{ $t(\"remote_engine.use_remote_engine\") }}\n        </div>\n      </div>\n\n      <div class=\"as-vertical-fill\"></div>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\"></style>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-center-container {\n    padding-bottom: 0;\n\n    .as-image {\n      flex-grow: 1;\n\n      img {\n        opacity: 0.65;\n        width: 55vw;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectServer.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectServer.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SelectServer.vue?vue&type=template&id=1495de5c&scoped=true&\"\nimport script from \"./SelectServer.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SelectServer.vue?vue&type=script&setup=true&lang=js&\"\nimport style1 from \"./SelectServer.vue?vue&type=style&index=1&id=1495de5c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1495de5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(_vm._s(_vm.$t(\"remote_engine.select_server_title\")))])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connect_to_server\"))+\" \"+_vm._s(_vm.server.host)+\":\"+_vm._s(_vm.server.port)+\"? \")]),_c('div',{staticClass:\"as-bottom-container d-flex flex-column align-center justify-center\"},[_c(_setup.MainButton,{staticClass:\"mb-5\",attrs:{\"disabled\":_setup.connecting},on:{\"click\":function($event){return _setup.connectServer(_vm.server)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connect\"))+\" \")]),_c(_setup.MainButton,{attrs:{\"disabled\":_setup.connecting},on:{\"click\":function($event){return _setup.forgetServer(_vm.server)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.forget_server\"))+\" \")]),_c('div',{staticClass:\"mt-4\",staticStyle:{\"width\":\"50%\"}},[(_setup.connecting)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"2\"}}):_vm._e()],1)],1),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/acestream_logo.svg\"),\"height\":\"96\"}})])\n}]\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\nexport function parseAddress(string) {\n  const ipAddressAndPortRegex = /^(?:\\d{1,3}\\.){3}\\d{1,3}:\\d{1,5}$/;\n  if (ipAddressAndPortRegex.test(string)) {\n    const parts = string.split(\":\");\n    const host = parts[0];\n    const port = parseInt(parts[1]);\n    return { host, port };\n  }\n  return null;\n}\n\n/**\n * Connect to the remote engine\n *\n * @param {string} host\n * @param {int} port\n * @returns {int} Remote engine version code\n * @throws {string} \"port_error\" When the response is malformed (other application is listening on the given port)\n * @throws {string} \"network_error\" On any other errors\n */\nexport async function getEngineVersion(host, port) {\n  try {\n    const url = `http://${host}:${port}/webui/api/service`;\n    const params = {\n      method: \"get_version\",\n    };\n    console.log(`getEngineVersion: url=${url}`);\n\n    const response = await axios.get(url, { params });\n    console.log(`getEngineVersion: response=${JSON.stringify(response.data)}`);\n\n    if (response.data?.error) {\n      console.error(\n        `getEngineVersion: got error from remote engine: ${response.data.error}`\n      );\n      throw new Error(\"malformed_response\");\n    }\n\n    if (!response.data?.result) {\n      console.error(`getEngineVersion: missing response body`);\n      throw new Error(\"malformed_response\");\n    }\n\n    if (!response.data.result.code) {\n      console.error(`getEngineVersion: missing version in response`);\n      throw new Error(\"malformed_response\");\n    }\n\n    const version = parseInt(response.data.result.code);\n    if (isNaN(version)) {\n      console.error(`getEngineVersion: non-numeric version in response`);\n      throw new Error(\"malformed_response\");\n    }\n\n    return version;\n  } catch (e) {\n    console.error(`getEngineVersion:error: ${e}`);\n    if (e?.name === \"AxiosError\") {\n      throw new Error(\"network_error\");\n    } else if (e.message == \"malformed_response\") {\n      throw new Error(\"port_error\");\n    } else {\n      throw new Error(\"network_error\");\n    }\n  }\n}\n\nexport async function checkAccessToken(host, port, token) {\n  try {\n    const url = `http://${host}:${port}/webui/api/service`;\n    const params = {\n      method: \"check_access_token\",\n      access_token: token,\n    };\n    const response = await axios.get(url, { params });\n    if (!response.data?.result) {\n      throw new Error(\"bad_token\");\n    }\n  } catch (e) {\n    console.log(`checkAccessToken:error: ${e}`);\n    if (e.message == \"bad_token\") {\n      throw e;\n    } else {\n      throw new Error(\"network_error\");\n    }\n  }\n}\n","<script setup>\nimport { getCurrentInstance, ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { getEngineVersion, checkAccessToken } from \"./utils\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// props\ndefineProps([\"server\"]);\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst connecting = ref(false);\n\n// methods\nasync function connectServer(server) {\n  try {\n    connecting.value = true;\n    const version = await getEngineVersion(server.host, server.port);\n    console.log(`got version: ${version}`);\n\n    if (version < mainStore.minRemoteEngineVersionCode) {\n      throw new Error(\"old version\");\n    }\n\n    await checkAccessToken(server.host, server.port, server.token);\n\n    await AceStreamApp.enableRemoteEngine({\n      host: server.host,\n      port: server.port,\n      token: server.token,\n    });\n    $router.push({ name: mainStore.mainRouteName });\n  } catch (e) {\n    console.error(`Failed to get version: ${e}`);\n    //TODO: translate\n    mainStore.showError(\" \");\n  } finally {\n    connecting.value = false;\n  }\n}\n\nasync function forgetServer(server) {\n  try {\n    await AceStreamApp.removeRemoteEngine({\n      host: server.host,\n      port: server.port,\n      token: server.token,\n    });\n    $router.back();\n  } catch (e) {\n    console.error(`Failed to forget remote server: ${e}`);\n  }\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <img src=\"@/assets/img/acestream_logo.svg\" height=\"96\" />\n      </div>\n      <div class=\"as-title\">{{ $t(\"remote_engine.select_server_title\") }}</div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine.connect_to_server\") }}\n      {{ server.host }}:{{ server.port }}?\n    </div>\n\n    <div\n      class=\"as-bottom-container d-flex flex-column align-center justify-center\"\n    >\n      <main-button\n        @click=\"connectServer(server)\"\n        class=\"mb-5\"\n        :disabled=\"connecting\"\n      >\n        {{ $t(\"remote_engine.connect\") }}\n      </main-button>\n      <main-button @click=\"forgetServer(server)\" :disabled=\"connecting\">\n        {{ $t(\"remote_engine.forget_server\") }}\n      </main-button>\n      <div class=\"mt-4\" style=\"width: 50%\">\n        <v-progress-linear v-if=\"connecting\" indeterminate height=\"2\" />\n      </div>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectServerRemote.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectServerRemote.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SelectServerRemote.vue?vue&type=template&id=f0b0d7f6&\"\nimport script from \"./SelectServerRemote.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SelectServerRemote.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_help.title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_help.description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"selector-button mb-5\",on:{\"click\":_setup.startInstall}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.use_local\"))+\" \")]),_c('div',{staticClass:\"selector-button mb-6\",staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_welcome.use_remote\"))+\" \")]),_c('div',{staticClass:\"help-container\"},[_c('div',{staticClass:\"as-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_help.learn_more\"))+\" \")]),_c('div',{staticClass:\"selector-button as-icon\",on:{\"click\":_setup.openForum}},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" contact_support \")])])])]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" contact_support \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// methods\nfunction openForum() {\n  window.open(mainStore.forumLink);\n}\n\nfunction startInstall() {\n  $router.replace({ name: \"main\", params: { autoInstall: true } });\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"material-symbols-outlined\"> contact_support </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"activation_help.title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"activation_help.description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div v-ripple class=\"selector-button mb-5\" @click=\"startInstall\">\n        {{ $t(\"activation_welcome.use_local\") }}\n      </div>\n      <div class=\"selector-button mb-6\" style=\"visibility: hidden\">\n        {{ $t(\"activation_welcome.use_remote\") }}\n      </div>\n      <div class=\"help-container\">\n        <div class=\"as-text\">\n          {{ $t(\"activation_help.learn_more\") }}\n        </div>\n        <div class=\"selector-button as-icon\" @click=\"openForum\">\n          <span class=\"material-symbols-outlined\"> contact_support </span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  @media screen and (max-height: 640px) {\n    .as-top-container {\n      min-height: auto;\n      .as-icon {\n        display: none;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationHelp.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationHelp.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ActivationHelp.vue?vue&type=template&id=60ce0a0c&scoped=true&\"\nimport script from \"./ActivationHelp.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ActivationHelp.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ActivationHelp.vue?vue&type=style&index=0&id=60ce0a0c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60ce0a0c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"},[_c(_setup.MainButton,{attrs:{\"disabled\":_setup.loading},on:{\"click\":_setup.retry}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.repeat\"))+\" \")]),_c('div',{staticClass:\"mt-4\",staticStyle:{\"width\":\"50%\"}},[(_setup.loading)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"2\"}}):_vm._e()],1)],1),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, getCurrentInstance, onMounted, ref, watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst loading = ref(false);\n\n// computed\nconst updateStatus = computed(() => mainStore.pendingAppUpdate?.status);\nconst gotError = computed(() => !!mainStore.appUpdateError);\n\n// lifecycle\nonMounted(() => {\n  watch(\n    () => {\n      return {\n        status: updateStatus.value,\n        gotError: gotError.value,\n      };\n    },\n    (newState) => {\n      console.log(`retry install: state changed: ${JSON.stringify(newState)}`);\n      if (!newState.gotError) {\n        retryInstall();\n      }\n    }\n  );\n});\n\n// methods\nasync function retry() {\n  try {\n    if (loading.value) {\n      return;\n    }\n    loading.value = true;\n    await AceStreamApp.checkSelfUpdate();\n  } catch (e) {\n    console.error(`Failed to retry install: ${e}`);\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction retryInstall() {\n  $router.replace({ name: \"main\", params: { autoInstall: true } });\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"activation_install_error.title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"activation_install_error.description\") }}\n    </div>\n\n    <div\n      class=\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"\n    >\n      <main-button @click=\"retry\" :disabled=\"loading\">\n        {{ $t(\"activation_install_error.repeat\") }}\n      </main-button>\n      <div class=\"mt-4\" style=\"width: 50%\">\n        <v-progress-linear v-if=\"loading\" indeterminate height=\"2\" />\n      </div>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-top-container {\n    .as-icon {\n      span {\n        color: var(--color-ace-orange);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationInstallError.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationInstallError.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ActivationInstallError.vue?vue&type=template&id=49470046&scoped=true&\"\nimport script from \"./ActivationInstallError.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ActivationInstallError.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ActivationInstallError.vue?vue&type=style&index=0&id=49470046&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49470046\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation as-scrollable\"},[_c('div',{staticClass:\"as-top-container\"},[(_setup.connecting)?_c('div',{staticClass:\"d-flex flex-column fill-height align-center justify-center\"},[_c('div',{staticClass:\"text-center pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connecting\"))+\" \")]),_c('div',{staticStyle:{\"width\":\"50vw\"}},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"1\"}})],1)]):[_c('div',{staticClass:\"as-input-container d-flex flex-row align-end\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"label\":_vm.$t('remote_engine.enter_address_and_port'),\"placeholder\":\"127.0.0.1:6878\",\"error-messages\":_setup.showConnectButton ? _setup.inputError : null},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _setup.connect.apply(null, arguments)},\"focus\":function($event){_setup.inputFocused = true},\"blur\":function($event){_setup.inputFocused = false},\"change\":_setup.resetErrors},model:{value:(_setup.remoteAddress),callback:function ($$v) {_setup.remoteAddress=$$v},expression:\"remoteAddress\"}})],1),(_setup.showConnectButton)?_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.connect}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connect\"))+\" \")])],1):_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.welcome_title\"))+\" \")])]],2),_c('div',{staticClass:\"as-center-container\"},[_c('div',{staticClass:\"as-title\"},[_vm._v(_vm._s(_vm.$t(\"remote_engine.welcome_hint_title\"))+\":\")]),_c('ol',[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.welcome_hint_1\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.welcome_hint_2\", { minRemoteEngineVersion: _setup.mainStore.minRemoteEngineVersionName, }))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.welcome_hint_3\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.welcome_hint_4\"))+\" \")])])]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, computed, ref } from \"vue\";\nimport { getEngineVersion, parseAddress } from \"./utils\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst remoteAddress = ref(\"\");\nconst inputError = ref(null);\nconst inputFocused = ref(false);\nconst connecting = ref(false);\n\n// computed\nconst showConnectButton = computed(\n  () => inputFocused.value || remoteAddress.value\n);\n\n// methods\nasync function connect() {\n  console.log(`connect to ${remoteAddress.value}`);\n  resetErrors();\n  if (!remoteAddress.value) {\n    return;\n  }\n\n  const address = parseAddress(remoteAddress.value);\n  if (address === null) {\n    inputError.value = $i18n.t(\"remote_engine.invalid_address_format\");\n    return;\n  }\n\n  try {\n    console.log(`got address: ${JSON.stringify(address)}`);\n    connecting.value = true;\n\n    // save current host and port\n    mainStore.engineActivation.host = address.host;\n    mainStore.engineActivation.port = address.port;\n\n    const version = await getEngineVersion(address.host, address.port);\n    console.log(`got version: ${version}`);\n\n    if (version < mainStore.minRemoteEngineVersionCode) {\n      onError(\"version\");\n    } else {\n      onConnected();\n    }\n  } catch (e) {\n    console.error(`Failed to get version: ${e}`);\n    if (e.message === \"port_error\") {\n      onError(\"port\");\n    } else {\n      onError(\"network\");\n    }\n  } finally {\n    connecting.value = false;\n  }\n}\n\nfunction resetErrors() {\n  inputError.value = null;\n}\n\nfunction onConnected() {\n  $router.push({ name: \"activation-connect-token\" });\n}\n\nfunction onError(reason) {\n  if (reason === \"network\") {\n    $router.push({ name: \"activation-connect-error-network-step1\" });\n  } else if (reason === \"port\") {\n    $router.push({ name: \"activation-connect-error-port\" });\n  } else if (reason === \"version\") {\n    $router.push({ name: \"activation-connect-error-version\" });\n  } else {\n    throw new Error(`Unknown error reason: ${reason}`);\n  }\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation as-scrollable\">\n    <div class=\"as-top-container\">\n      <div\n        v-if=\"connecting\"\n        class=\"d-flex flex-column fill-height align-center justify-center\"\n      >\n        <div class=\"text-center pb-2\">\n          {{ $t(\"remote_engine.connecting\") }}\n        </div>\n        <div style=\"width: 50vw\">\n          <v-progress-linear indeterminate height=\"1\" />\n        </div>\n      </div>\n      <template v-else>\n        <div class=\"as-input-container d-flex flex-row align-end\">\n          <v-text-field\n            v-model=\"remoteAddress\"\n            class=\"code-input\"\n            outlined\n            clearable\n            :label=\"$t('remote_engine.enter_address_and_port')\"\n            placeholder=\"127.0.0.1:6878\"\n            :error-messages=\"showConnectButton ? inputError : null\"\n            @keydown.enter=\"connect\"\n            @focus=\"inputFocused = true\"\n            @blur=\"inputFocused = false\"\n            @change=\"resetErrors\"\n          />\n        </div>\n\n        <div\n          v-if=\"showConnectButton\"\n          class=\"d-flex align-center justify-center\"\n        >\n          <main-button @click=\"connect\" white rounded>\n            {{ $t(\"remote_engine.connect\") }}\n          </main-button>\n        </div>\n\n        <div v-else class=\"as-title\">\n          {{ $t(\"remote_engine.welcome_title\") }}\n        </div>\n      </template>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div class=\"as-title\">{{ $t(\"remote_engine.welcome_hint_title\") }}:</div>\n      <ol>\n        <li>\n          {{ $t(\"remote_engine.welcome_hint_1\") }}\n        </li>\n        <li>\n          {{\n            $t(\"remote_engine.welcome_hint_2\", {\n              minRemoteEngineVersion: mainStore.minRemoteEngineVersionName,\n            })\n          }}\n        </li>\n        <li>\n          {{ $t(\"remote_engine.welcome_hint_3\") }}\n        </li>\n        <li>\n          {{ $t(\"remote_engine.welcome_hint_4\") }}\n        </li>\n      </ol>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-center-container {\n    li {\n      line-height: 1.3;\n      margin-bottom: 12px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectWelcome.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectWelcome.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectWelcome.vue?vue&type=template&id=3b6fae35&scoped=true&\"\nimport script from \"./ConnectWelcome.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectWelcome.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ConnectWelcome.vue?vue&type=style&index=0&id=3b6fae35&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b6fae35\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation as-scrollable\"},[_c('div',{staticClass:\"as-top-container\"},[(_setup.connecting)?_c('div',{staticClass:\"d-flex flex-column fill-height align-center justify-center\"},[_c('div',{staticClass:\"text-center pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.initializing\"))+\" \")]),_c('div',{staticStyle:{\"width\":\"50vw\"}},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"1\"}})],1)]):[_c('div',{staticClass:\"as-input-container d-flex flex-row align-end\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"label\":_vm.$t('remote_engine.enter_access_token'),\"error-messages\":_setup.showConnectButton ? _setup.inputError : null},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _setup.setToken.apply(null, arguments)},\"focus\":function($event){_setup.inputFocused = true},\"blur\":function($event){_setup.inputFocused = false},\"change\":_setup.resetErrors},model:{value:(_setup.token),callback:function ($$v) {_setup.token=$$v},expression:\"token\"}})],1),(_setup.showConnectButton)?_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.setToken}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.initialize\"))+\" \")])],1):_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.initializing\"))+\" \")])]],2),_c('div',{staticClass:\"as-center-container\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.token_description\"))+\" \")]),_c('div',{staticClass:\"as-title\"},[_vm._v(_vm._s(_vm.$t(\"remote_engine.token_hint_title\"))+\":\")]),_c('ol',[_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.token_hint_1\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.token_hint_2\"))+\" \")]),_c('li',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.token_hint_3\"))+\" \")])])]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, computed, ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { checkAccessToken } from \"./utils\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst token = ref(\"\");\nconst inputError = ref(null);\nconst inputFocused = ref(false);\nconst connecting = ref(false);\n\n// computed\nconst showConnectButton = computed(() => inputFocused.value || token.value);\n\n// methods\nasync function setToken() {\n  console.log(`set token to ${token.value}`);\n  resetErrors();\n  if (!token.value) {\n    return;\n  }\n\n  try {\n    connecting.value = true;\n    await checkAccessToken(\n      mainStore.engineActivation.host,\n      mainStore.engineActivation.port,\n      token.value\n    );\n    onConnected(token.value);\n  } catch (e) {\n    if (e.message === \"bad_token\") {\n      onError(\"token\");\n    } else if (e.message === \"activation_failed\") {\n      onError(\"activation\");\n    } else {\n      onError(\"network\");\n    }\n  } finally {\n    connecting.value = false;\n  }\n}\n\nfunction resetErrors() {\n  inputError.value = null;\n}\n\nasync function onConnected(token) {\n  mainStore.engineActivation.token = token;\n  try {\n    await AceStreamApp.enableRemoteEngine({\n      host: mainStore.engineActivation.host,\n      port: mainStore.engineActivation.port,\n      token: mainStore.engineActivation.token,\n    });\n    $router.push({ name: \"activation-connect-success\" });\n  } catch (e) {\n    throw new Error(\"activation_failed\");\n  }\n}\n\nfunction onError(reason) {\n  if (reason === \"token\") {\n    inputError.value = $i18n.t(\"remote_engine.invalid_token\");\n  } else if (reason === \"token\") {\n    inputError.value = $i18n.t(\"internal_error_try_later\");\n  } else {\n    inputError.value = $i18n.t(\"remote_engine.connection_error_check_address\");\n  }\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation as-scrollable\">\n    <div class=\"as-top-container\">\n      <div\n        v-if=\"connecting\"\n        class=\"d-flex flex-column fill-height align-center justify-center\"\n      >\n        <div class=\"text-center pb-2\">\n          {{ $t(\"remote_engine.initializing\") }}\n        </div>\n        <div style=\"width: 50vw\">\n          <v-progress-linear indeterminate height=\"1\" />\n        </div>\n      </div>\n      <template v-else>\n        <div class=\"as-input-container d-flex flex-row align-end\">\n          <v-text-field\n            v-model=\"token\"\n            class=\"code-input\"\n            outlined\n            clearable\n            :label=\"$t('remote_engine.enter_access_token')\"\n            :error-messages=\"showConnectButton ? inputError : null\"\n            @keydown.enter=\"setToken\"\n            @focus=\"inputFocused = true\"\n            @blur=\"inputFocused = false\"\n            @change=\"resetErrors\"\n          />\n        </div>\n\n        <div\n          v-if=\"showConnectButton\"\n          class=\"d-flex align-center justify-center\"\n        >\n          <main-button @click=\"setToken\" white rounded>\n            {{ $t(\"remote_engine.initialize\") }}\n          </main-button>\n        </div>\n\n        <div v-else class=\"as-title\">\n          {{ $t(\"remote_engine.initializing\") }}\n        </div>\n      </template>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div>\n        {{ $t(\"remote_engine.token_description\") }}\n      </div>\n      <div class=\"as-title\">{{ $t(\"remote_engine.token_hint_title\") }}:</div>\n      <ol>\n        <li>\n          {{ $t(\"remote_engine.token_hint_1\") }}\n        </li>\n        <li>\n          {{ $t(\"remote_engine.token_hint_2\") }}\n        </li>\n        <li>\n          {{ $t(\"remote_engine.token_hint_3\") }}\n        </li>\n      </ol>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-top-container {\n    .as-input-container {\n      height: 102px;\n    }\n  }\n\n  .as-center-container {\n    line-height: 1.3;\n    .as-title {\n      padding: 16px 0;\n    }\n    li {\n      margin-bottom: 12px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectToken.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectToken.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectToken.vue?vue&type=template&id=6153af22&scoped=true&\"\nimport script from \"./ConnectToken.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectToken.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ConnectToken.vue?vue&type=style&index=0&id=6153af22&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6153af22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.success_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_c('div',{staticClass:\"d-flex align-center pb-4\"},[_c('span',{staticClass:\"as-icon material-symbols-outlined\"},[_vm._v(\" check \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.success_init_done\"))+\" \")])]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.success_hint\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container d-flex align-center justify-center pt-8\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.close}},[_vm._v(\" OK \")])],1),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" task_alt \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// // stores\nconst mainStore = useMainStore();\n\n// methods\nfunction close() {\n  $router.replace({ name: mainStore.mainRouteName });\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"material-symbols-outlined\"> task_alt </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine.success_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div class=\"d-flex align-center pb-4\">\n        <span class=\"as-icon material-symbols-outlined\"> check </span>\n        <span>\n          {{ $t(\"remote_engine.success_init_done\") }}\n        </span>\n      </div>\n      <div>\n        {{ $t(\"remote_engine.success_hint\") }}\n      </div>\n    </div>\n\n    <div class=\"as-bottom-container d-flex align-center justify-center pt-8\">\n      <main-button @click=\"close\" white rounded> OK </main-button>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-top-container {\n    .as-icon {\n      span {\n        color: var(--color-ace-green);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectSuccess.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectSuccess.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectSuccess.vue?vue&type=template&id=a5c8cb04&scoped=true&\"\nimport script from \"./ConnectSuccess.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectSuccess.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ConnectSuccess.vue?vue&type=style&index=0&id=a5c8cb04&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5c8cb04\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[(_setup.connecting)?_c('div',{staticClass:\"d-flex flex-column fill-height align-center justify-center\"},[_c('div',{staticClass:\"text-center pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connecting\"))+\" \")]),_c('div',{staticStyle:{\"width\":\"50vw\"}},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"1\"}})],1)]):[_c('div',{staticClass:\"as-input-container d-flex flex-row align-end\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"label\":_vm.$t('remote_engine.enter_address_and_port'),\"placeholder\":\"127.0.0.1:6878\",\"error-messages\":_setup.showConnectButton ? _setup.inputError : null},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _setup.connect.apply(null, arguments)},\"focus\":function($event){_setup.inputFocused = true},\"blur\":function($event){_setup.inputFocused = false},\"change\":_setup.resetErrors},model:{value:(_setup.remoteAddress),callback:function ($$v) {_setup.remoteAddress=$$v},expression:\"remoteAddress\"}})],1),(_setup.showConnectButton)?_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.connect}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connect\"))+\" \")])],1):_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connection_error\"))+\" \")])]],2),_c('div',{staticClass:\"as-center-container\"},[_c('div',{staticClass:\"pb-5\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.bad_port_description\"))+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.bad_port_hint\"))+\" \")])]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, computed, ref } from \"vue\";\nimport { getEngineVersion, parseAddress } from \"./utils\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst remoteAddress = ref(\"\");\nconst inputError = ref(null);\nconst inputFocused = ref(false);\nconst connecting = ref(false);\n\n// computed\nconst showConnectButton = computed(\n  () => inputFocused.value || remoteAddress.value\n);\n\n// methods\nasync function connect() {\n  console.log(`connect to ${remoteAddress.value}`);\n  resetErrors();\n  if (!remoteAddress.value) {\n    return;\n  }\n\n  const address = parseAddress(remoteAddress.value);\n  if (address === null) {\n    inputError.value = $i18n.t(\"remote_engine.invalid_address_format\");\n    return;\n  }\n\n  try {\n    console.log(`got address: ${JSON.stringify(address)}`);\n    connecting.value = true;\n\n    // save current host and port\n    mainStore.engineActivation.host = address.host;\n    mainStore.engineActivation.port = address.port;\n\n    const version = await getEngineVersion(address.host, address.port);\n    console.log(`got version: ${version}`);\n\n    if (version < mainStore.minRemoteEngineVersionCode) {\n      onError(\"version\");\n    } else {\n      onConnected();\n    }\n  } catch (e) {\n    console.error(`Failed to get version: ${e}`);\n    if (e.message === \"port_error\") {\n      onError(\"port\");\n    } else {\n      onError(\"network\");\n    }\n  } finally {\n    connecting.value = false;\n  }\n}\n\nfunction resetErrors() {\n  inputError.value = null;\n}\n\nfunction onConnected() {\n  $router.push({ name: \"activation-connect-success\" });\n}\n\n//TODO: this method is also duplicated\nfunction onError(reason) {\n  if (reason === \"network\") {\n    $router.push({ name: \"activation-connect-error-network-step1\" });\n  } else if (reason === \"port\") {\n    $router.push({ name: \"activation-connect-error-port\" });\n  } else if (reason === \"version\") {\n    $router.push({ name: \"activation-connect-error-version\" });\n  } else {\n    throw new Error(`Unknown error reason: ${reason}`);\n  }\n}\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div\n        v-if=\"connecting\"\n        class=\"d-flex flex-column fill-height align-center justify-center\"\n      >\n        <div class=\"text-center pb-2\">\n          {{ $t(\"remote_engine.connecting\") }}\n        </div>\n        <div style=\"width: 50vw\">\n          <v-progress-linear indeterminate height=\"1\" />\n        </div>\n      </div>\n      <template v-else>\n        <div class=\"as-input-container d-flex flex-row align-end\">\n          <v-text-field\n            v-model=\"remoteAddress\"\n            class=\"code-input\"\n            outlined\n            clearable\n            :label=\"$t('remote_engine.enter_address_and_port')\"\n            placeholder=\"127.0.0.1:6878\"\n            :error-messages=\"showConnectButton ? inputError : null\"\n            @keydown.enter=\"connect\"\n            @focus=\"inputFocused = true\"\n            @blur=\"inputFocused = false\"\n            @change=\"resetErrors\"\n          />\n        </div>\n\n        <div\n          v-if=\"showConnectButton\"\n          class=\"d-flex align-center justify-center\"\n        >\n          <main-button @click=\"connect\" white rounded>\n            {{ $t(\"remote_engine.connect\") }}\n          </main-button>\n        </div>\n\n        <div v-else class=\"as-title\">\n          {{ $t(\"remote_engine.connection_error\") }}\n        </div>\n      </template>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div class=\"pb-5\">\n        {{ $t(\"remote_engine.bad_port_description\") }}\n      </div>\n      <div>\n        {{ $t(\"remote_engine.bad_port_hint\") }}\n      </div>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorPort.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorPort.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorPort.vue?vue&type=template&id=04d59bba&\"\nimport script from \"./ConnectErrorPort.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorPort.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connection_error\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_c('div',{staticClass:\"pb-5\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.bad_version_description\"))+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.bad_version_hint\", { minRemoteEngineVersion: _setup.mainStore.minRemoteEngineVersionName, }))+\" \"),_c('a',{attrs:{\"href\":\"https://acestream.org/\",\"target\":\"_blank\"}},[_vm._v(\"acestream.org\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"or\"))+\" \"),_c('a',{attrs:{\"href\":\"https://acestream.media/\",\"target\":\"_blank\"}},[_vm._v(\"acestream.media\")])])]),_c('div',{staticClass:\"as-vertical-fill\"})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { useMainStore } from \"@/stores/main\";\n\n// stores\nconst mainStore = useMainStore();\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine.connection_error\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div class=\"pb-5\">\n        {{ $t(\"remote_engine.bad_version_description\") }}\n      </div>\n      <div>\n        {{\n          $t(\"remote_engine.bad_version_hint\", {\n            minRemoteEngineVersion: mainStore.minRemoteEngineVersionName,\n          })\n        }}\n\n        <a href=\"https://acestream.org/\" target=\"_blank\">acestream.org</a>\n        {{ $t(\"or\") }}\n        <a href=\"https://acestream.media/\" target=\"_blank\">acestream.media</a>\n      </div>\n    </div>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page-engine-activation {\n  .as-top-container {\n    .as-icon {\n      span {\n        color: var(--color-ace-orange);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorVersion.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorVersion.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorVersion.vue?vue&type=template&id=88406768&scoped=true&\"\nimport script from \"./ConnectErrorVersion.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorVersion.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ConnectErrorVersion.vue?vue&type=style&index=0&id=88406768&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88406768\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-page-engine-activation\"},[_c('router-view'),_c('div',{staticClass:\"as-vertical-fill\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, onMounted, onUnmounted } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// lifecycle\nonMounted(() => {\n  mainStore.navBackHook = () => $router.push({ name: mainStore.mainRouteName });\n});\n\nonUnmounted(() => {\n  mainStore.navBackHook = null;\n});\n</script>\n<template>\n  <div class=\"as-page-engine-activation\">\n    <router-view></router-view>\n\n    <div class=\"as-vertical-fill\"></div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetwork.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetwork.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetwork.vue?vue&type=template&id=10a4b1b4&\"\nimport script from \"./ConnectErrorNetwork.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetwork.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_1_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_1_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step2' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.start\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_2_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_1_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_1_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step2' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.start\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_2_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep1.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep1.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep1.vue?vue&type=template&id=222976c3&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep1.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep1.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"222976c3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_2_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_2_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step3' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_3_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_2_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_2_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step3' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_3_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep2.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep2.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep2.vue?vue&type=template&id=d51ba462&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep2.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep2.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d51ba462\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex flex-column\"},[_c('div',{staticClass:\"as-top-container\"},[(_setup.connecting)?_c('div',{staticClass:\"d-flex flex-column fill-height align-center justify-center\"},[_c('div',{staticClass:\"text-center pb-2\"},[_vm._v(\" \")]),_c('div',{staticStyle:{\"width\":\"50vw\"}},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"1\"}})],1)]):[_c('div',{staticClass:\"as-input-container d-flex flex-row align-end\"},[_c('v-text-field',{staticClass:\"code-input\",attrs:{\"outlined\":\"\",\"clearable\":\"\",\"label\":_vm.$t('remote_engine.enter_address_and_port'),\"placeholder\":\"127.0.0.1:6878\",\"error-messages\":_setup.showConnectButton ? _setup.inputError : null},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _setup.connect.apply(null, arguments)},\"focus\":function($event){_setup.inputFocused = true},\"blur\":function($event){_setup.inputFocused = false},\"change\":_setup.resetErrors},model:{value:(_setup.remoteAddress),callback:function ($$v) {_setup.remoteAddress=$$v},expression:\"remoteAddress\"}})],1),(_setup.showConnectButton)?_c('div',{staticClass:\"d-flex align-center justify-center\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.connect}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine.connect\"))+\" \")])],1):_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_3_title\"))+\" \")])]],2),_c('div',{staticClass:\"as-center-container\"},[_c('div',{staticClass:\"pb-4\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_3_description_1\"))+\" \")]),_c('div',{staticClass:\"pb-4\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_3_description_2\"))+\": \"),(_setup.mainStore.engineActivation?.host)?_c('span',[_vm._v(\" \"+_vm._s(_setup.mainStore.engineActivation.host)+\":\"+_vm._s(_setup.mainStore.engineActivation.port)+\" \")]):_c('span',[_vm._v(\" \"+_vm._s(_setup.selectedRemoteEngine?.host)+\":\"+_vm._s(_setup.selectedRemoteEngine?.port)+\" \")])]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_3_description_3\"))+\" \")])]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step4' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_4_title\"))+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, computed, ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport {\n  getEngineVersion,\n  parseAddress,\n} from \"@/pages/engine-activation/utils\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// i18n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst remoteAddress = ref(\"\");\nconst inputError = ref(null);\nconst inputFocused = ref(false);\nconst connecting = ref(false);\n\n// computed\nconst showConnectButton = computed(\n  () => inputFocused.value || remoteAddress.value\n);\nconst selectedEngine = computed(() => mainStore.state.selectedEngineState);\nconst selectedRemoteEngine = computed(() =>\n  selectedEngine.value.useRemote ? selectedEngine.value.remoteState : null\n);\n\n// methods\n\n//TODO: this is copy from ConnectWelcome.vue. Move this method to utils.\nasync function connect() {\n  console.log(`connect to ${remoteAddress.value}`);\n  resetErrors();\n  if (!remoteAddress.value) {\n    return;\n  }\n\n  const address = parseAddress(remoteAddress.value);\n  if (address === null) {\n    inputError.value = $i18n.t(\"remote_engine.invalid_address_format\");\n    return;\n  }\n\n  try {\n    console.log(`got address: ${JSON.stringify(address)}`);\n    connecting.value = true;\n    const version = await getEngineVersion(address.host, address.port);\n    console.log(`got version: ${version}`);\n\n    if (version < mainStore.minRemoteEngineVersionCode) {\n      onError(\"version\");\n    } else {\n      onConnected(address.host, address.port);\n    }\n  } catch (e) {\n    console.error(`Failed to get version: ${e}`);\n    if (e.message === \"port_error\") {\n      onError(\"port\");\n    } else {\n      onError(\"network\");\n    }\n  } finally {\n    connecting.value = false;\n  }\n}\n\nfunction resetErrors() {\n  inputError.value = null;\n}\n\nfunction onConnected(host, port) {\n  mainStore.engineActivation.host = host;\n  mainStore.engineActivation.port = port;\n  $router.push({ name: \"activation-connect-token\" });\n}\n\n//TODO: this method is also duplicated\nfunction onError(reason) {\n  if (reason === \"network\") {\n    inputError.value = $i18n.t(\"remote_engine.connection_error\");\n  } else if (reason === \"port\") {\n    $router.push({ name: \"activation-connect-error-port\" });\n  } else if (reason === \"version\") {\n    $router.push({ name: \"activation-connect-error-version\" });\n  } else {\n    throw new Error(`Unknown error reason: ${reason}`);\n  }\n}\n</script>\n\n<template>\n  <div class=\"d-flex flex-column\">\n    <div class=\"as-top-container\">\n      <div\n        v-if=\"connecting\"\n        class=\"d-flex flex-column fill-height align-center justify-center\"\n      >\n        <div class=\"text-center pb-2\"> </div>\n        <div style=\"width: 50vw\">\n          <v-progress-linear indeterminate height=\"1\" />\n        </div>\n      </div>\n      <template v-else>\n        <div class=\"as-input-container d-flex flex-row align-end\">\n          <v-text-field\n            v-model=\"remoteAddress\"\n            class=\"code-input\"\n            outlined\n            clearable\n            :label=\"$t('remote_engine.enter_address_and_port')\"\n            placeholder=\"127.0.0.1:6878\"\n            :error-messages=\"showConnectButton ? inputError : null\"\n            @keydown.enter=\"connect\"\n            @focus=\"inputFocused = true\"\n            @blur=\"inputFocused = false\"\n            @change=\"resetErrors\"\n          />\n        </div>\n\n        <div\n          v-if=\"showConnectButton\"\n          class=\"d-flex align-center justify-center\"\n        >\n          <main-button @click=\"connect\" white rounded>\n            {{ $t(\"remote_engine.connect\") }}\n          </main-button>\n        </div>\n\n        <div v-else class=\"as-title\">\n          {{ $t(\"remote_engine_troubleshooting.step_3_title\") }}\n        </div>\n      </template>\n    </div>\n\n    <div class=\"as-center-container\">\n      <div class=\"pb-4\">\n        {{ $t(\"remote_engine_troubleshooting.step_3_description_1\") }}\n      </div>\n      <div class=\"pb-4\">\n        {{ $t(\"remote_engine_troubleshooting.step_3_description_2\") }}:\n        <span v-if=\"mainStore.engineActivation?.host\">\n          {{ mainStore.engineActivation.host }}:{{\n            mainStore.engineActivation.port\n          }}\n        </span>\n        <span v-else>\n          {{ selectedRemoteEngine?.host }}:{{ selectedRemoteEngine?.port }}\n        </span>\n      </div>\n      <div>\n        {{ $t(\"remote_engine_troubleshooting.step_3_description_3\") }}\n      </div>\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step4' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_4_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep3.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep3.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep3.vue?vue&type=template&id=6c1dbfb6&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep3.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep3.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c1dbfb6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_4_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_4_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step5' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_5_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_4_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_4_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step5' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_5_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep4.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep4.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep4.vue?vue&type=template&id=14bad50d&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep4.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep4.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14bad50d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_5_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_5_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step6' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_6_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_5_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_5_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step6' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_6_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep5.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep5.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep5.vue?vue&type=template&id=545f28ac&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep5.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep5.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"545f28ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_6_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_6_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step7' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_7_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_6_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_6_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step7' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_7_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep6.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep6.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep6.vue?vue&type=template&id=d7f9076a&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep6.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep6.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7f9076a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_7_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_7_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _setup.$router.push({ name: 'activation-connect-error-network-step8' })}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.next\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-title\"},[_vm._v(\" - \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_8_title\"))+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_7_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_7_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button\n            white\n            rounded\n            @click=\"\n              $router.push({ name: 'activation-connect-error-network-step8' })\n            \"\n          >\n            {{ $t(\"remote_engine_troubleshooting.next\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-title\">\n          - {{ $t(\"remote_engine_troubleshooting.step_8_title\") }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep7.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep7.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep7.vue?vue&type=template&id=58b0602c&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep7.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep7.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58b0602c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_8_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_8_description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container\"},[_c('div',{staticClass:\"wizard-actions-container\"},[_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"white\":\"\",\"rounded\":\"\"},on:{\"click\":_setup.openForum}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_8_go_forum\"))+\" \")])],1),_c('div',{staticClass:\"as-half-screen next-button\"},[_c(_setup.MainButton,{attrs:{\"rounded\":\"\"},on:{\"click\":_setup.openMainPage}},[_vm._v(\" \"+_vm._s(_vm.$t(\"remote_engine_troubleshooting.step_8_go_home\"))+\" \")])],1)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"as-warning material-symbols-outlined\"},[_vm._v(\" warning \")])])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// methods\nfunction openForum() {\n  window.open(\"https://forum.acestream.media\");\n}\n\nfunction openMainPage() {\n  $router.push({ name: mainStore.mainRouteName });\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"as-top-container\">\n      <div class=\"as-icon\">\n        <span class=\"as-warning material-symbols-outlined\"> warning </span>\n      </div>\n      <div class=\"as-title\">\n        {{ $t(\"remote_engine_troubleshooting.step_8_title\") }}\n      </div>\n    </div>\n\n    <div class=\"as-center-container\">\n      {{ $t(\"remote_engine_troubleshooting.step_8_description\") }}\n    </div>\n\n    <div class=\"as-bottom-container\">\n      <div class=\"wizard-actions-container\">\n        <div class=\"as-half-screen next-button\">\n          <main-button white rounded @click=\"openForum\">\n            {{ $t(\"remote_engine_troubleshooting.step_8_go_forum\") }}\n          </main-button>\n        </div>\n        <div class=\"as-half-screen next-button\">\n          <main-button rounded @click=\"openMainPage\">\n            {{ $t(\"remote_engine_troubleshooting.step_8_go_home\") }}\n          </main-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep8.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectErrorNetworkStep8.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ConnectErrorNetworkStep8.vue?vue&type=template&id=07054bc6&scoped=true&\"\nimport script from \"./ConnectErrorNetworkStep8.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ConnectErrorNetworkStep8.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07054bc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"fill-height align-center justify-start flex-column\",on:{\"click\":_setup.hideMenu}},[_c('div',{staticClass:\"transfer-container\"},[(_setup.transfers.length > 0)?_c('div',{staticClass:\"transfer-list d-flex flex-column\"},_vm._l((_setup.transfers),function(transfer){return _c('div',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n          id: `transfer-${transfer.id}`,\n          enabled: !_setup.mainStore.preventFocus,\n          nextFunc: (direction) => _setup.getFocusFor(transfer.id, direction),\n        }),expression:\"{\\n          id: `transfer-${transfer.id}`,\\n          enabled: !mainStore.preventFocus,\\n          nextFunc: (direction) => getFocusFor(transfer.id, direction),\\n        }\"}],key:transfer.id,staticClass:\"transfer-item d-flex flex-row justify-space-between align-center\",attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _setup.transferClicked($event, transfer)}}},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"transfer-item-title\"},[_vm._v(\" \"+_vm._s(transfer.filename)+\" \")]),(!transfer.completed && !transfer.failed)?_c('div',{staticClass:\"transfer-item-progress\"},[_c('v-progress-linear',{attrs:{\"value\":transfer.progress,\"max\":\"100\",\"height\":\"4\"}})],1):_vm._e(),(transfer.failed)?_c('div',{staticClass:\"transfer-item-error\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"error\"))+\": \"+_vm._s(transfer.error)+\" \")]):_vm._e()]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"status-container\"},[(transfer.completed)?[_c('v-icon',{staticClass:\"status-icon\",attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-check-circle-outline\")]),_c('div',{staticClass:\"status-text\"},[_vm._v(\"Completed\")])]:(transfer.failed)?[_c('v-icon',{staticClass:\"status-icon\",attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-alert-circle-outline\")]),_c('div',{staticClass:\"status-text\"},[_vm._v(\"Failed\")])]:[_c('v-icon',{staticClass:\"status-icon\",attrs:{\"color\":\"yellow\"}},[_vm._v(\"mdi-progress-helper\")]),_c('div',{staticClass:\"status-text\"},[_vm._v(\"Loading\")])]],2)])])}),0):_c('div',{staticClass:\"no-transfers-container\"},[_c('div',{staticClass:\"no-transfers-body\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"transfers.no_files\"))+\" \")])])]),(_setup.menuVisible && _setup.mainStore.isTv)?_c('div',{staticClass:\"menu-container\"},[_c('div',{staticClass:\"menu-overlay\"}),_c('div',{staticClass:\"menu-body\"},[_c('div',{staticClass:\"menu-items-container\"},[(_setup.selectedTransfer && _setup.selectedTransfer.completed)?_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'context-menu-item-0' }),expression:\"{ id: 'context-menu-item-0' }\"}],staticClass:\"menu-item\",attrs:{\"tabindex\":\"0\"},on:{\"click\":_setup.openSelectedTransfer}},[_vm._v(\" \"+_vm._s(_vm.$t(\"transfers.open\"))+\" \")]):_vm._e(),(_setup.selectedTransfer && _setup.selectedTransfer.completed)?_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'context-menu-item-1' }),expression:\"{ id: 'context-menu-item-1' }\"}],staticClass:\"menu-item\",attrs:{\"tabindex\":\"0\"},on:{\"click\":_setup.deleteSelectedTransfer}},[_vm._v(\" \"+_vm._s(_vm.$t(\"transfers.delete\"))+\" \")]):_vm._e(),(_setup.selectedTransfer && _setup.selectedTransfer.failed)?_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'context-menu-item-2' }),expression:\"{ id: 'context-menu-item-2' }\"}],staticClass:\"menu-item\",attrs:{\"tabindex\":\"0\"},on:{\"click\":_setup.deleteSelectedTransfer}},[_vm._v(\" \"+_vm._s(_vm.$t(\"transfers.remove_from_list\"))+\" \")]):_vm._e(),(\n            _setup.selectedTransfer &&\n            !_setup.selectedTransfer.completed &&\n            !_setup.selectedTransfer.failed\n          )?_c(_setup.MainButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'context-menu-item-3' }),expression:\"{ id: 'context-menu-item-3' }\"}],staticClass:\"menu-item\",attrs:{\"tabindex\":\"0\"},on:{\"click\":_setup.cancelSelectedTransfer}},[_vm._v(\" \"+_vm._s(_vm.$t(\"transfers.cancel\"))+\" \")]):_vm._e()],1)])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { navigationService } from \"@/common/src/plugins/focus\";\nimport {\n  commonDefaultFocusElements,\n  commonNavigationMap,\n} from \"@/pages/navigation/common\";\nimport { engine } from \"@/lib/engine\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst menuVisible = ref(false);\nconst selectedTransfer = ref(null);\n\n// computed\nconst transfers = computed(() => {\n  return mainStore.activeTransfers.concat(\n    mainStore.failedTransfers,\n    mainStore.completedTransfers\n  );\n});\n\n// lifecycle\nonMounted(() => {\n  navigationService.configure({\n    defaultFocusElementFunc: () => {\n      let elements = [\"app-bar-my-files\"];\n\n      if (transfers.value.length > 0) {\n        elements.push(idForTransfer(transfers.value[0]));\n      }\n\n      elements = elements.concat([\n        \"button-main-menu\",\n        \"context-menu-item-0\",\n        \"context-menu-item-1\",\n        \"context-menu-item-2\",\n        \"context-menu-item-3\",\n        ...commonDefaultFocusElements,\n      ]);\n      return elements;\n    },\n    navigationMap: {\n      ...commonNavigationMap,\n      \"app-bar-connect\": {\n        right: \"app-bar-my-files\",\n        down: {\n          action: () =>\n            transfers.value.length ? idForTransfer(transfers.value[0]) : null,\n        },\n      },\n      \"app-bar-my-files\": {\n        right: \"button-main-menu\",\n        left: \"app-bar-connect\",\n        down: {\n          action: () =>\n            transfers.value.length ? idForTransfer(transfers.value[0]) : null,\n        },\n      },\n      \"button-main-menu\": {\n        down: {\n          action: () =>\n            transfers.value.length ? idForTransfer(transfers.value[0]) : null,\n        },\n        left: \"app-bar-my-files\",\n      },\n      \"context-menu-item-0\": {\n        down: \"context-menu-item-1\",\n      },\n      \"context-menu-item-1\": {\n        up: \"context-menu-item-0\",\n        down: \"context-menu-item-2\",\n      },\n      \"context-menu-item-2\": {\n        up: \"context-menu-item-1\",\n        down: \"context-menu-item-3\",\n      },\n      \"context-menu-item-3\": {\n        up: \"context-menu-item-2\",\n      },\n    },\n  });\n});\n\n// methods\nfunction cancelSelectedTransfer() {\n  if (selectedTransfer.value) {\n    cancelTransfer(selectedTransfer.value.id);\n  }\n  hideMenu();\n}\n\nfunction cancelTransfer(id) {\n  console.log(`cancelTransfer: id=${id}`);\n  engine.filetransfers.cancel(id);\n}\n\nfunction deleteSelectedTransfer() {\n  if (selectedTransfer.value) {\n    deleteTransfer(selectedTransfer.value.id);\n  }\n  hideMenu();\n}\n\nfunction deleteTransfer(id) {\n  console.log(`deleteTransfer: id=${id}`);\n  engine.filetransfers.delete(id);\n}\n\nfunction openSelectedTransfer() {\n  if (selectedTransfer.value) {\n    openTransfer(selectedTransfer.value);\n  }\n  hideMenu();\n}\n\nfunction normalizePathUri(path) {\n  if (path.startsWith(\"file://\")) {\n    return path;\n  } else {\n    return `file://${path}`;\n  }\n}\n\nasync function openTransfer(transfer) {\n  console.log(`openTransfer: id=${transfer.id}`);\n  try {\n    await AceStreamApp.startActivity({\n      action: \"android.intent.action.VIEW\",\n      data: normalizePathUri(transfer.path),\n      type: transfer.mime,\n    });\n  } catch (e) {\n    console.error(`openTransfer: failed to start activity: ${e.message}`);\n    if (e.message) {\n      mainStore.showErrorSnackbar(e.message);\n    }\n  }\n}\n\nfunction idForTransfer(transfer) {\n  return `transfer-${transfer.id}`;\n}\n\nfunction getFocusFor(transferId, direction) {\n  let nextId;\n\n  let index = transfers.value.findIndex((item) => item.id === transferId);\n  if (index == -1) {\n    index = 0;\n  }\n\n  if (direction === \"up\") {\n    nextId =\n      index == 0\n        ? \"app-bar-my-files\"\n        : idForTransfer(transfers.value[index - 1]);\n  } else if (direction === \"down\") {\n    nextId =\n      index === transfers.value.length - 1\n        ? null\n        : idForTransfer(transfers.value[index + 1]);\n  }\n\n  return nextId;\n}\n\nfunction transferClicked(event, transfer) {\n  if (mainStore.isTv) {\n    selectedTransfer.value = transfer;\n    showMenu();\n  }\n}\n\nfunction showMenu() {\n  menuVisible.value = true;\n  mainStore.currentInteractive = {\n    cancel: () => hideMenu(),\n  };\n}\n\nfunction hideMenu() {\n  menuVisible.value = false;\n  mainStore.currentInteractive = null;\n}\n</script>\n\n<template>\n  <v-container\n    class=\"fill-height align-center justify-start flex-column\"\n    @click=\"hideMenu\"\n  >\n    <div class=\"transfer-container\">\n      <div v-if=\"transfers.length > 0\" class=\"transfer-list d-flex flex-column\">\n        <div\n          v-for=\"transfer in transfers\"\n          :key=\"transfer.id\"\n          class=\"transfer-item d-flex flex-row justify-space-between align-center\"\n          tabindex=\"0\"\n          v-focus=\"{\n            id: `transfer-${transfer.id}`,\n            enabled: !mainStore.preventFocus,\n            nextFunc: (direction) => getFocusFor(transfer.id, direction),\n          }\"\n          @click=\"transferClicked($event, transfer)\"\n        >\n          <div class=\"left\">\n            <div class=\"transfer-item-title\">\n              {{ transfer.filename }}\n            </div>\n            <div\n              class=\"transfer-item-progress\"\n              v-if=\"!transfer.completed && !transfer.failed\"\n            >\n              <v-progress-linear\n                :value=\"transfer.progress\"\n                max=\"100\"\n                height=\"4\"\n              >\n              </v-progress-linear>\n            </div>\n            <div class=\"transfer-item-error\" v-if=\"transfer.failed\">\n              {{ $t(\"error\") }}: {{ transfer.error }}\n            </div>\n          </div>\n          <div class=\"right\">\n            <div class=\"status-container\">\n              <template v-if=\"transfer.completed\">\n                <v-icon class=\"status-icon\" color=\"green\"\n                  >mdi-check-circle-outline</v-icon\n                >\n                <div class=\"status-text\">Completed</div>\n              </template>\n              <template v-else-if=\"transfer.failed\">\n                <v-icon class=\"status-icon\" color=\"red\"\n                  >mdi-alert-circle-outline</v-icon\n                >\n                <div class=\"status-text\">Failed</div>\n              </template>\n              <template v-else>\n                <v-icon class=\"status-icon\" color=\"yellow\"\n                  >mdi-progress-helper</v-icon\n                >\n                <div class=\"status-text\">Loading</div>\n              </template>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"no-transfers-container\">\n        <div class=\"no-transfers-body\">\n          {{ $t(\"transfers.no_files\") }}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"menu-container\" v-if=\"menuVisible && mainStore.isTv\">\n      <div class=\"menu-overlay\"></div>\n      <div class=\"menu-body\">\n        <div class=\"menu-items-container\">\n          <main-button\n            v-if=\"selectedTransfer && selectedTransfer.completed\"\n            class=\"menu-item\"\n            tabindex=\"0\"\n            v-focus=\"{ id: 'context-menu-item-0' }\"\n            @click=\"openSelectedTransfer\"\n          >\n            {{ $t(\"transfers.open\") }}\n          </main-button>\n          <main-button\n            v-if=\"selectedTransfer && selectedTransfer.completed\"\n            class=\"menu-item\"\n            tabindex=\"0\"\n            v-focus=\"{ id: 'context-menu-item-1' }\"\n            @click=\"deleteSelectedTransfer\"\n          >\n            {{ $t(\"transfers.delete\") }}\n          </main-button>\n          <main-button\n            v-if=\"selectedTransfer && selectedTransfer.failed\"\n            class=\"menu-item\"\n            tabindex=\"0\"\n            v-focus=\"{ id: 'context-menu-item-2' }\"\n            @click=\"deleteSelectedTransfer\"\n          >\n            {{ $t(\"transfers.remove_from_list\") }}\n          </main-button>\n          <main-button\n            v-if=\"\n              selectedTransfer &&\n              !selectedTransfer.completed &&\n              !selectedTransfer.failed\n            \"\n            class=\"menu-item\"\n            tabindex=\"0\"\n            v-focus=\"{ id: 'context-menu-item-3' }\"\n            @click=\"cancelSelectedTransfer\"\n          >\n            {{ $t(\"transfers.cancel\") }}\n          </main-button>\n        </div>\n      </div>\n    </div>\n  </v-container>\n</template>\n\n<style lang=\"scss\">\n.v-application .transfer-item .v-progress-linear .primary,\n.v-application .transfer-item .status-icon {\n  transition: none;\n}\n.v-application .transfer-item:focus .v-progress-linear .primary {\n  background-color: #212121 !important;\n}\n.v-application .transfer-item:focus .status-icon {\n  color: #212121 !important;\n}\n</style>\n\n<style scoped lang=\"scss\">\n.transfer-container {\n  min-width: 75vw;\n  height: 100%;\n}\n.transfer-list {\n  width: 100%;\n  padding-top: 16px;\n}\n.transfer-item {\n  min-height: 64px;\n  padding: 16px;\n  background-color: rgba(255, 255, 255, 0.05);\n\n  .transfer-item-progress {\n    width: 95%;\n  }\n\n  &:focus {\n    // background-color: rgba(255, 255, 255, 0.2);\n    color: #212121;\n    background-color: rgba(255, 255, 255, 0.9) !important;\n\n    .status-icon {\n      color: #212121;\n    }\n  }\n\n  .left {\n    flex-grow: 1;\n  }\n\n  .status-container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    .status-icon {\n      margin-right: 4px;\n    }\n    .status-text {\n      width: 60px;\n      font-size: 12px;\n    }\n  }\n}\n.menu-container {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .menu-overlay {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .menu-body {\n    background-color: rgba(51, 54, 60, 0.9);\n    padding: 16px;\n    min-width: 256px;\n    border-radius: 4px;\n\n    .menu-item {\n      margin-bottom: 16px;\n      &:last-of-type {\n        margin-bottom: 0;\n      }\n    }\n  }\n}\n\n.no-transfers-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n\n  .no-transfers-body {\n    background-color: rgba(255, 255, 255, 0.05);\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    border-radius: 8px;\n    min-height: 25vh;\n    min-width: 50vw;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransfersScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransfersScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TransfersScreen.vue?vue&type=template&id=5b87ec20&scoped=true&\"\nimport script from \"./TransfersScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TransfersScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TransfersScreen.vue?vue&type=style&index=0&id=5b87ec20&prod&lang=scss&\"\nimport style1 from \"./TransfersScreen.vue?vue&type=style&index=1&id=5b87ec20&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b87ec20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"as-page\",class:{ invisible: _setup.loading }},[(_setup.listItems.length === 0)?_c('div',{staticClass:\"history__empty\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playback_history_empty\"))+\" \")]):_vm._l((_setup.listItems),function(item,index){return _c('v-row',{key:item.uri},[_c('div',{staticClass:\"history__item\",class:`history__item--${item.type}`},[_c('div',{staticClass:\"history__item__body\",on:{\"click\":function($event){return _setup.openItem(item, index)}}},[_c('div',{staticClass:\"history__item__title\"},[_vm._v(_vm._s(item.title))]),(item.type === 'item' && _setup.isHttpUrl(item.uri))?_c('div',{staticClass:\"history__item__source\"},[_vm._v(\" \"+_vm._s(item.uri)+\" \")]):_vm._e()]),_c('div',{staticClass:\"history__item__actions\"},[(index === _setup.loadingItemIndex)?_c('div',{staticStyle:{\"width\":\"36px\",\"height\":\"36px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"24\",\"width\":\"1\"}})],1):(item.type === 'item')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _setup.removeItem(item.uri)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1):_vm._e()],1)])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineStore } from \"pinia\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\nconst mockHistory = {\n  items: [],\n};\n\nfunction generateMockHistory() {\n  const now = Date.now()\n  for (let i = 0; i < 100; i++) {\n    const item = {\n      title: `Item ${i} Padding text. Padding text. Padding text. Padding text. Padding text.`,\n      uri: `acestream://${i}-zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz`,\n      timestamp: now - i * 3600 * 1000,\n    };\n    mockHistory.items.push(item);\n  }\n}\n\ngenerateMockHistory();\n\n// for testing\n// mockHistory.items = [];\n\nfunction removeMockPlaybackHistoryItem(uri) {\n  const index = mockHistory.items.findIndex((a) => a.uri === uri)\n  if (index !== -1) {\n    mockHistory.items.splice(index, 1);\n  }\n}\n\nexport const useHistoryStore = defineStore(\"history\", {\n  state: () => {\n    return {\n    };\n  },\n  getters: {\n  },\n  actions: {\n    async getHistory() {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        return mockHistory;\n      } else {\n        return await AceStreamApp.getPlaybackHistory();\n      }\n    },\n    async remove(uri) {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        removeMockPlaybackHistoryItem(uri);\n      } else {\n        await AceStreamApp.removePlaybackHistoryItem({ uri });\n      }\n    },\n  },\n});\n","/**\n * Returns true iff uri starts with http:// or https:// (case-insensitive).\n * Non-strings (null/undefined) return false.\n */\nexport function isHttpUrl(uri) {\n  if (typeof uri !== \"string\") return false;\n  const s = uri.trim().toLowerCase();\n  return s.startsWith(\"http://\") || s.startsWith(\"https://\");\n}\n","<script setup>\nimport { getCurrentInstance, onMounted, ref, watch, nextTick } from 'vue';\nimport { useMainStore } from \"@/stores/main\";\nimport { useHistoryStore } from \"@/stores/history\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { isHttpUrl } from \"@/lib/url\";\n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// refs\nconst mainStore = useMainStore();\nconst historyStore = useHistoryStore();\nconst listItems = ref([]);\nconst loading = ref(true);\nconst loadingItemIndex = ref(-1);\nlet loadingItemTimer = null;\n\n// methods\nfunction waitEngine() {\n  return new Promise((resolve) => {\n    if (mainStore.engineReady) {\n      resolve();\n    } else {\n      watch(\n        () => mainStore.engineReady,\n        () => {\n          if (mainStore.engineReady) {\n            resolve();\n          }\n        }\n      );\n    }\n  });\n}\n\nasync function openItem(item, index) {\n  try {\n    console.log(`openItem: index=${index} uri=${item.uri}`);\n\n    if (loadingItemIndex.value === index) {\n      console.log(`openItem: already opening, do nothing`);\n      return;\n    }\n\n    loadingItemTimer = setTimeout(() => {\n      loadingItemIndex.value = index;\n    }, 100);\n\n    await waitEngine();\n\n    if (item.uri?.startsWith('content:')) {\n      await AceStreamApp.playDirectStream({ uri: item.uri, title: item.title });\n    } else {\n      await AceStreamApp.play({\n        uri: item.uri,\n        streamIndex: -1,\n      });\n    }\n\n    // Quick way to reload history (new item will move to the beginning of the list)\n    setTimeout(reloadHistory, 3000)\n  } catch (e) {\n    mainStore.showError(e)\n  } finally {\n    clearTimeout(loadingItemTimer);\n    loadingItemIndex.value = -1;\n  }\n\n}\n\nasync function removeItem(uri) {\n  await historyStore.remove(uri);\n  await reloadHistory();\n}\n\nasync function reloadHistory() {\n  const history = await historyStore.getHistory();\n  const items = history.items;\n\n\n  // Sort by timestamp\n  items.sort((a, b) => b.timestamp - a.timestamp);\n\n  // Split in groups\n  const byGroups = {}\n  for (const item of items) {\n      const groupId = getGroup(item.timestamp)\n      if (!byGroups[groupId]) {\n          byGroups[groupId] = []\n      }\n      byGroups[groupId].push(item)\n  }\n\n  listItems.value = []\n  for (const groupId in byGroups) {\n    const groupName = $i18n.t(`history_group_${groupId}`)\n    listItems.value.push({\n      type: 'group',\n      title: groupName,\n    })\n\n    for (const item of byGroups[groupId]) {\n      listItems.value.push({\n        type: 'item',\n        ...item,\n      })\n    }\n  }\n}\n\nfunction getGroups() {\n    const now = new Date()\n\n    const todayStart = new Date(now.setHours(0, 0, 0, 0)).getTime();\n    const yesterdayStart = todayStart - 86400000; // 1 day in ms\n    const sevenDaysStart = yesterdayStart - 7 * 86400000;\n    const thirtyDaysStart = sevenDaysStart - 23 * 86400000; // Remaining days for 30-day period\n    const ninetyDaysStart = thirtyDaysStart - 60 * 86400000; // Remaining days for 90-day period\n\n    return {\n        today: {\n            from: todayStart,\n        },\n        yesterday: {\n            from: yesterdayStart,\n            to: todayStart,\n        },\n        sevenDays: {\n            from: sevenDaysStart,\n            to: yesterdayStart,\n        },\n        thirtyDays: {\n            from: thirtyDaysStart,\n            to: sevenDaysStart,\n        },\n        ninetyDays: {\n            from: ninetyDaysStart,\n            to: thirtyDaysStart,\n        },\n    }\n}\n\nfunction getGroup(timestamp) {\n    for (const [groupId, group] of Object.entries(getGroups())) {\n        if (!group.to && timestamp >= group.from) {\n            return groupId\n        } else if (timestamp >= group.from && timestamp < group.to) {\n            return groupId\n        }\n    }\n}\n\nonMounted(async () => {\n  await reloadHistory();\n  await nextTick();\n  loading.value = false;\n});\n</script>\n\n<template>\n  <v-container\n    class=\"as-page\"\n    :class=\"{ invisible: loading }\"\n    >\n    <div class=\"history__empty\" v-if=\"listItems.length === 0\">\n      {{ $t(\"playback_history_empty\") }}\n    </div>\n    <v-row v-else v-for=\"(item, index) in listItems\" :key=\"item.uri\">\n      <div class=\"history__item\" :class=\"`history__item--${item.type}`\">\n        <div class=\"history__item__body\" @click=\"openItem(item, index)\">\n          <div class=\"history__item__title\">{{ item.title }}</div>\n          <div class=\"history__item__source\" v-if=\"item.type === 'item' && isHttpUrl(item.uri)\">\n            {{ item.uri }}\n          </div>\n        </div>\n        <div class=\"history__item__actions\">\n          <div v-if=\"index === loadingItemIndex\" style=\"width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;\">\n            <v-progress-circular indeterminate size=\"24\" width=\"1\" />\n          </div>\n          <v-btn v-else-if=\"item.type === 'item'\" icon @click=\"removeItem(item.uri)\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </div>\n      </div>\n    </v-row>\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  padding-top: 76px;\n  height: calc(100vh);\n  overflow-y: scroll;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(1.6em);\n  &.invisible {\n    opacity: 0;\n  }\n}\n.scroll-container {\n  max-height: 100%;\n}\n.history {\n  &__empty {\n    padding: 0 20px;\n    font-size: 18px;\n  }\n\n  &__item {\n    width: 100%;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    border-radius: 3.5em;\n    margin-bottom: 16px;\n    padding-left: 32px;\n    padding-right: 24px;\n\n    &--group {\n      .history__item__title {\n        font-size: 20px;\n        color: rgba(255, 255, 255, 0.5);\n      }\n    }\n\n    &__body {\n      width: 100%;\n    }\n\n    &__actions {\n      padding-left: 8px;\n    }\n\n    &__title {\n      color: white;\n      font-size: 16px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n    }\n\n    &__source {\n      color: rgba(255, 255, 255, 0.5);\n      font-size: 12px;\n      margin-top: 0px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./HistoryScreen.vue?vue&type=template&id=c566bd42&scoped=true&\"\nimport script from \"./HistoryScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./HistoryScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./HistoryScreen.vue?vue&type=style&index=0&id=c566bd42&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c566bd42\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_setup.authStore.hasPremium)?_c(_setup.TvHistory):_c(_setup.TvHistoryNeedPremium)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column align-center justify-center\"},[_c('div',{staticClass:\"message-container\"},[_c('div',{staticClass:\"message-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.title\"))+\" \")]),_c('div',{staticClass:\"message-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.text\"))+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { onMounted } from \"vue\";\nimport { setupNavigation } from \"@/lib/controller\";\n\n// lifecycle\nonMounted(() => {\n  setupNavigation({ pageId: 'history' });\n});\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column align-center justify-center\">\n    <div class=\"message-container\">\n      <div class=\"message-title\">\n        {{ $t(\"need_premium_dialog.title\") }}\n      </div>\n      <div class=\"message-text\">\n        {{ $t(\"need_premium_dialog.text\") }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n}\n\n.message-title {\n  font-size: 32px;\n  font-weight: 300;\n  text-align: center;\n}\n\n.message-text {\n  font-size: 18px;\n  margin-top: 16px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.9);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistoryNeedPremium.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistoryNeedPremium.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvHistoryNeedPremium.vue?vue&type=template&id=63925d8f&scoped=true&\"\nimport script from \"./TvHistoryNeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvHistoryNeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TvHistoryNeedPremium.vue?vue&type=style&index=0&id=63925d8f&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63925d8f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{ref:\"scrollContentRef\",staticClass:\"as-page scroll__content\",class:{ invisible: _setup.loading }},[(_setup.historyItems.length === 0)?_c('div',{staticClass:\"history__empty\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"playback_history_empty\"))+\" \")]):_c('div',{ref:\"scrollBodyRef\",staticClass:\"scroll__body\"},_vm._l((_setup.historyItems),function(item){return _c('v-row',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n        id: _setup.idForItem(item),\n        enabled: !_setup.mainStore.preventFocus,\n        nextFunc: (direction) => _setup.getFocusFor(item.id, direction),\n      }),expression:\"{\\n        id: idForItem(item),\\n        enabled: !mainStore.preventFocus,\\n        nextFunc: (direction) => getFocusFor(item.id, direction),\\n      }\"}],key:item.uri,staticClass:\"history__item\",class:`history__item--${item.type}` +\n        (item.type !== 'group' ? ' selector' : ''),attrs:{\"id\":_setup.idForItem(item),\"tabindex\":\"0\"},on:{\"focus\":(e) => _setup.onfocus(item, e)}},[_c('div',{staticClass:\"history__item__body\"},[_c('div',{staticClass:\"history__item__title\"},[_vm._v(_vm._s(item.title))]),(item.type === 'item' && _setup.isHttpUrl(item.uri))?_c('div',{staticClass:\"history__item__source\"},[_vm._v(\" \"+_vm._s(item.uri)+\" \")]):_vm._e()])])}),1),_c('transition',[(_setup.mainStore.sidePanelVisible)?_c(_setup.SideMenu,{attrs:{\"scrollOnFocus\":false,\"animationDuration\":100,\"items\":_setup.menuItems},on:{\"item-selected\":_setup.onMenuItemSelected,\"cancel\":_setup.closeMenu}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineStore } from \"pinia\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\nconst mockFavorites = {\n  items: [],\n};\n\nfunction generateMockFavorites() {\n  const now = Date.now();\n  for (let i = 0; i < 50; i++) {\n    const item = {\n      title: `Favorite ${i} Padding text. Padding text. Padding text.`,\n      uri: `acestream://favorite-${i}-zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz`,\n      timestamp: now - i * 3600 * 1000,\n    };\n    mockFavorites.items.push(item);\n  }\n}\n\ngenerateMockFavorites();\n\nfunction removeMockFavoriteItem(uri) {\n  const index = mockFavorites.items.findIndex((a) => a.uri === uri);\n  if (index !== -1) {\n    mockFavorites.items.splice(index, 1);\n  }\n}\n\nexport const useFavoritesStore = defineStore(\"favorites\", {\n  state: () => {\n    return {};\n  },\n  getters: {},\n  actions: {\n    async getFavorites() {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        return mockFavorites;\n      } else {\n        return await AceStreamApp.getFavorites();\n      }\n    },\n    async isFavorite(uri) {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        return false;\n      } else {\n        const ret = await AceStreamApp.isFavorite({ uri });\n        return ret.result;\n      }\n    },\n    async add({ title, uri }) {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        removeMockFavoriteItem(uri);\n      } else {\n        await AceStreamApp.addFavorite({ title, uri });\n      }\n    },\n    async remove(uri) {\n      const mainStore = useMainStore();\n      if (mainStore.isMock) {\n        removeMockFavoriteItem(uri);\n      } else {\n        await AceStreamApp.removeFavorite({ uri });\n      }\n    },\n  },\n});\n\n\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.SidePanel,_vm._g(_vm._b({tag:\"component\",staticClass:\"side-menu\",attrs:{\"rounded\":\"\",\"title\":null,\"items\":_vm.items,\"watchItems\":false},on:{\"item-clicked\":_setup.itemSelected},scopedSlots:_vm._u([{key:\"default\",fn:function(slot){return _c('div',{staticClass:\"item\",on:{\"click\":function($event){return _setup.itemSelected(slot.item)}}},[_c('div',{staticClass:\"left-container\"},[_c('div',{staticClass:\"item-title fade-text-right\"},[_vm._v(\" \"+_vm._s(slot.item.title)+\" \")])])])}}])},'component',_vm.$attrs,false),_vm.$listeners))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"side-panel-screen\",style:(`--animation-duration: ${_setup.animationDuration};`)},[_c('div',{staticClass:\"side-panel-overlay\",class:{ 'overlay-visible': _vm.showOverlay },on:{\"click\":_setup.cancel}}),_c('div',{staticClass:\"side-panel-container\",class:{ 'side-panel-visible': _vm.bodyVisible },on:{\"click\":_setup.cancel}},[(_vm.showContent)?_c('div',{staticClass:\"side-panel-content\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Content here\")])]):_vm._e(),_c('div',{staticClass:\"side-panel-menu\",on:{\"click\":function($event){$event.stopPropagation();}}},[(_vm.title)?_c('div',{staticClass:\"side-panel-title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('div',{staticClass:\"items\",style:(`transform: translateY(${_setup.itemsContainerOffset}px)`)},_vm._l((_vm.items),function(item,index){return _c('div',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n            id: _setup.getItemId(index),\n            enabled: true,\n            onclick: () => _setup.onItemClicked(item),\n          }),expression:\"{\\n            id: getItemId(index),\\n            enabled: true,\\n            onclick: () => onItemClicked(item),\\n          }\"}],key:item.id,staticClass:\"item-container\",class:{ focused: _setup.focusedItem === item.id },attrs:{\"tabindex\":\"0\",\"data-focus-up\":_setup.getItemId(index - 1),\"data-focus-down\":_setup.getItemId(index + 1)},on:{\"focus\":function($event){return _setup.onFocus($event.target, item)}}},[_vm._t(\"default\",null,{\"item\":item})],2)}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, onMounted, onBeforeUnmount, ref, watch, nextTick } from \"vue\";\nimport { navigationService } from \"@/common/src/plugins/focus\";\n\n// const\nconst DEFAULT_OFFSET = 92;\n\n// props\nconst props = defineProps({\n  title: {\n    type: String,\n  },\n  showOverlay: {\n    type: Boolean,\n    default: false,\n  },\n  watchItems: {\n    type: Boolean,\n    default: true,\n  },\n  showContent: {\n    type: Boolean,\n    default: false,\n  },\n  items: {\n    type: Array,\n  },\n  selectedItemId: {\n    type: [String, Number],\n  },\n  bodyVisible: {\n    type: Boolean,\n    default: true,\n  },\n  animationDuration: {\n    type: Number,\n    default: 200,\n  },\n  scrollOnFocus: {\n    type: Boolean,\n    default: true,\n  },\n});\n\n// events\nconst emit = defineEmits([\"item-clicked\", \"cancel\"]);\n\n// refs\nconst focusedItem = ref(null);\nconst itemsContainerOffset = ref(DEFAULT_OFFSET);\n\n// computed\nconst animationDuration = computed(() => {\n  return props.animationDuration / 1000 + \"s\";\n});\n\nfunction onKeyDown(e) {\n  // console.log(`side-panel:keydown: key=${e.key}`);\n  if (e.code === \"Escape\") {\n    cancel();\n  }\n}\n\nfunction onBackPressed() {\n  cancel();\n}\n\nfunction bindEvents() {\n  window.addEventListener(\"keydown\", onKeyDown);\n  window.addEventListener(\"customBackPressed\", onBackPressed);\n\n}\n\nfunction unbindEvents() {\n  window.removeEventListener(\"keydown\", onKeyDown);\n  window.removeEventListener(\"customBackPressed\", onBackPressed);\n}\n\n// lifecycle\nonMounted(() => {\n  setDefaulFocus();\n  bindEvents();\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n});\n\n// watch\nwatch(\n  () => props.items,\n  async () => {\n    if (props.watchItems) {\n      await nextTick();\n      setDefaulFocus();\n    }\n  }\n);\n\n// methods\nfunction setDefaulFocus() {\n  const index = getSelectedItemIndex();\n  console.log(\"setDefaultFocus\", index);\n  if (index !== -1) {\n    const element = navigationService.findById(getItemId(index));\n    element?.focus();\n  }\n}\n\nfunction cancel() {\n  emit(\"cancel\");\n}\n\nfunction getSelectedItemIndex() {\n  if (props.selectedItemId) {\n    return props.items.findIndex((item) => item.id == props.selectedItemId);\n  } else if (props.items.length) {\n    return 0;\n  } else {\n    return -1;\n  }\n}\n\nfunction onFocus(element, item) {\n  focusedItem.value = item.id;\n  if (props.scrollOnFocus) {\n    itemsContainerOffset.value = DEFAULT_OFFSET - element.offsetTop;\n  }\n}\n\nfunction getItemId(index) {\n  return `side-panel-item-${index}`;\n}\n\nfunction onItemClicked(item) {\n  emit(\"item-clicked\", item);\n}\n</script>\n\n<template>\n  <div\n    class=\"side-panel-screen\"\n    :style=\"`--animation-duration: ${animationDuration};`\"\n  >\n    <div\n      class=\"side-panel-overlay\"\n      :class=\"{ 'overlay-visible': showOverlay }\"\n      @click=\"cancel\"\n    ></div>\n\n    <div\n      class=\"side-panel-container\"\n      :class=\"{ 'side-panel-visible': bodyVisible }\"\n      @click=\"cancel\"\n    >\n      <div class=\"side-panel-content\" v-if=\"showContent\">\n        <div class=\"title\">Content here</div>\n      </div>\n\n      <div class=\"side-panel-menu\" @click.stop>\n        <div class=\"side-panel-title\" v-if=\"title\">\n          {{ title }}\n        </div>\n        <div\n          class=\"items\"\n          :style=\"`transform: translateY(${itemsContainerOffset}px)`\"\n        >\n          <!-- @click=\"onItemClicked(item)\" -->\n          <div\n            class=\"item-container\"\n            v-for=\"(item, index) in items\"\n            :key=\"item.id\"\n            tabindex=\"0\"\n            v-focus=\"{\n              id: getItemId(index),\n              enabled: true,\n              onclick: () => onItemClicked(item),\n            }\"\n            :data-focus-up=\"getItemId(index - 1)\"\n            :data-focus-down=\"getItemId(index + 1)\"\n            @focus=\"onFocus($event.target, item)\"\n            :class=\"{ focused: focusedItem === item.id }\"\n\n          >\n            <slot :item=\"item\"></slot>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.side-panel-screen {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  z-index: 100;\n\n  &.v-enter,\n  &.v-leave-to {\n    .side-panel-overlay {\n      opacity: 0;\n    }\n\n    .side-panel-container {\n      transform: translateX(100%) !important;\n    }\n  }\n\n  &.v-enter-active,\n  &.v-leave-active {\n    // This rule is not applied but we need it to make the transition work. Vuetify will read this rule to detect animation duration.\n    transition: opacity var(--animation-duration);\n  }\n\n  .side-panel-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n    z-index: 1;\n\n    &.overlay-visible {\n      background-color: black;\n      opacity: 0.5;\n      transition: opacity var(--animation-duration);\n    }\n  }\n\n  .side-panel-container {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n    z-index: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    transform: translateX(100%);\n    transition: transform var(--animation-duration);\n\n    &.side-panel-visible {\n      transform: translateX(0);\n    }\n\n    .side-panel-content {\n      background-color: rgba(0, 0, 0, 0.75);\n      height: 100%;\n      width: 55vw;\n\n      padding: 32px 64px;\n\n      .title {\n        font-size: 48px;\n      }\n    }\n\n    .side-panel-menu {\n      background-color: rgba(0, 0, 0, 0.3);\n      backdrop-filter: blur(1.6em);\n\n      padding: 8px 16px 0 16px;\n      height: 100%;\n      width: 45vw;\n      overflow-y: auto;\n\n      .side-panel-title {\n        //height: 56px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n      }\n\n      .items {\n        transition: transform var(--animation-duration);\n\n        .item-container {\n          outline: none;\n          //padding: 8px;\n          //padding-left: 16px;\n          //border-radius: 4px;\n\n          margin: 0 22px;\n          border-radius: 2px;\n          padding: 17px 22px;\n\n          color: white;\n\n          &.focused {\n            background-color: white;\n            color: black;\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SidePanel.vue?vue&type=template&id=18807bd4&scoped=true&\"\nimport script from \"./SidePanel.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SidePanel.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SidePanel.vue?vue&type=style&index=0&id=18807bd4&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18807bd4\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { onMounted, onBeforeUnmount, nextTick, ref, watch } from 'vue';\nimport SidePanel from '@/common/src/components/SidePanel.vue';\nimport Controller from '@/lib/controller';\n\nconst SIDE_MENU_PAGE_ID = 'side-menu';\n\n// props\nconst props = defineProps({\n    title: {\n        type: String,\n    },\n    items: {\n        type: Array,\n    },\n});\n\n// events\nconst emit = defineEmits([\n    'item-selected',\n    'cancel',\n]);\n\n// refs\nconst selectedMenuItemIndex = ref(0);\nconst menuItemsElements = ref([]); // Store menu item elements for index lookup\n\n// methods\nfunction itemSelected(item) {\n    emit('item-selected', item, item.id);\n}\n\nfunction getMenuItemId(index) {\n    // SidePanel uses this ID format\n    return `side-panel-item-${index}`;\n}\n\nfunction bindEvents() {\n    Controller.setHandler(SIDE_MENU_PAGE_ID, {\n        down: () => {\n            console.log(`qqq:down`);\n            Navigator.move('down');\n        },\n        up: () => {\n            console.log(`qqq:up`);\n            Navigator.move('up');\n        },\n        enter: () => {\n            console.log(`qqq:enter`);\n            if (props.items && props.items[selectedMenuItemIndex.value]) {\n                itemSelected(props.items[selectedMenuItemIndex.value]);\n            }\n        },\n    });\n\n    // Handle escape key to close menu\n    const escapeHandler = (e) => {\n        if (e.key === 'Escape') {\n            emit('cancel');\n        }\n    };\n    window.addEventListener('keydown', escapeHandler);\n\n    // Store handler for cleanup\n    window._sideMenuEscapeHandler = escapeHandler;\n}\n\nfunction unbindEvents() {\n    Controller.removeHandler(SIDE_MENU_PAGE_ID);\n    // Remove escape handler\n    if (window._sideMenuEscapeHandler) {\n        window.removeEventListener('keydown', window._sideMenuEscapeHandler);\n        window._sideMenuEscapeHandler = null;\n    }\n}\n\nfunction setupNavigation(retryCount = 0) {\n    // Wait for the side panel to be fully rendered\n    nextTick(() => {\n        // Use a small delay to ensure DOM is ready (wait for transition)\n        setTimeout(() => {\n            // Find all side menu items by class \"item-container\" (SidePanel creates these)\n            const menuItems = [];\n\n            // Find the side panel menu container\n            const sidePanelMenu = document.querySelector('.side-panel-menu');\n            if (sidePanelMenu) {\n                // Find all item-container elements within the side panel\n                const itemContainers = sidePanelMenu.querySelectorAll('.item-container');\n                console.log(`SideMenu:setupNavigation: found ${itemContainers.length} item-containers in side-panel-menu`);\n\n                itemContainers.forEach((element) => {\n                    // Add selector class if not already present\n                    if (!element.classList.contains('selector')) {\n                        element.classList.add('selector');\n                    }\n                    menuItems.push(element);\n                });\n            } else {\n                console.warn('SideMenu:setupNavigation: side-panel-menu not found');\n            }\n\n            // Fallback: try finding by ID pattern if class search didn't work\n            if (menuItems.length === 0 && props.items) {\n                console.log('SideMenu:setupNavigation: Trying fallback by ID...');\n                for (let i = 0; i < props.items.length; i++) {\n                    const element = document.getElementById(getMenuItemId(i));\n                    if (element) {\n                        // Add selector class if not already present\n                        if (!element.classList.contains('selector')) {\n                            element.classList.add('selector');\n                        }\n                        menuItems.push(element);\n                    }\n                }\n            }\n\n            console.log(`SideMenu:setupNavigation: found ${menuItems.length} items (retry ${retryCount})`);\n\n            if (menuItems.length > 0) {\n                // Store menu items for index lookup\n                menuItemsElements.value = menuItems;\n                \n                // Set up navigation with only side panel items\n                // Don't call Controller.setupNavigation here as it would find all .selector elements\n                // Instead, directly set the Navigator collection\n                Navigator.setCollection(menuItems);\n                // Focus first item\n                Navigator.focus(menuItems[0]);\n                selectedMenuItemIndex.value = 0;\n            } else if (retryCount < 5) {\n                // Retry if items not found yet (they might still be rendering)\n                console.log(`SideMenu:setupNavigation: Retrying... (${retryCount + 1}/5)`);\n                setupNavigation(retryCount + 1);\n            } else {\n                console.warn('SideMenu:setupNavigation: No menu items found after retries');\n            }\n        }, 150 + (retryCount * 50)); // Increase delay with each retry\n    });\n}\n\n// Watch for Navigator focus events to update selected index\nfunction onNavigatorFocus(event) {\n    const focusedElement = event.elem;\n    if (focusedElement) {\n        // Try to get index from element id first\n        if (focusedElement.id) {\n            const match = focusedElement.id.match(/side-panel-item-(\\d+)/);\n            if (match) {\n                selectedMenuItemIndex.value = parseInt(match[1], 10);\n                return;\n            }\n        }\n        \n        // Fallback: find index in menuItemsElements array\n        const index = menuItemsElements.value.indexOf(focusedElement);\n        if (index !== -1) {\n            selectedMenuItemIndex.value = index;\n        } else {\n            console.warn('SideMenu:onNavigatorFocus: Could not find element in menu items', focusedElement);\n        }\n    }\n}\n\n// Watch items changes to re-setup navigation\nwatch(() => props.items, () => {\n    if (props.items && props.items.length > 0) {\n        setupNavigation();\n    }\n}, { deep: true });\n\nonMounted(() => {\n    // Listen to Navigator focus events\n    Navigator.follow('focus', onNavigatorFocus);\n    \n    // Set up handler - use a delay to ensure we set it after main page handler is removed\n    // The main page handler is removed after 200ms, so we wait a bit longer\n    setTimeout(() => {\n        bindEvents();\n        console.log('SideMenu: Handler set up');\n    }, 350);\n    \n    // Set up navigation when component is mounted\n    setupNavigation();\n});\n\nonBeforeUnmount(() => {\n    unbindEvents();\n    Navigator.removeListener('focus', onNavigatorFocus);\n});\n</script>\n\n<template>\n    <component\n        class=\"side-menu\"\n        :is=\"SidePanel\"\n        v-bind=\"$attrs\"\n        v-on=\"$listeners\"\n        rounded\n        :title=\"null\"\n        :items=\"items\"\n        :watchItems=\"false\"\n        @item-clicked=\"itemSelected\"\n        >\n        <div class=\"item\" slot-scope=\"slot\" @click=\"itemSelected(slot.item)\">\n            <div class=\"left-container\">\n                <div class=\"item-title fade-text-right\">\n                    {{ slot.item.title }}\n                </div>\n            </div>\n        </div>\n    </component>\n</template>\n\n<style scoped lang=\"scss\">\n.item {\n    //height: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    overflow: hidden;\n\n    .left-container, .right-container {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n    }\n\n    .icon-container {\n        box-sizing: content-box;\n        width: 24px;\n        height: 24px;\n        padding-right: 16px;\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./SideMenu.vue?vue&type=template&id=3ab38ca2&scoped=true&\"\nimport script from \"./SideMenu.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SideMenu.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./SideMenu.vue?vue&type=style&index=0&id=3ab38ca2&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ab38ca2\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport {\n  getCurrentInstance,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n  ref,\n  watch,\n} from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useHistoryStore } from \"@/stores/history\";\nimport { useFavoritesStore } from \"@/stores/favorites\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport Controller from \"@/lib/controller\";\nimport { isHttpUrl } from \"@/lib/url\";\nimport SideMenu from \"@/pages/history-tv/SideMenu.vue\";\n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\nconst PAGE_ID = \"history\";\n\nlet updateHistoryTimer = null;\n\nconst mainStore = useMainStore();\nconst loading = ref(true);\nconst historyStore = useHistoryStore();\nconst favoritesStore = useFavoritesStore();\nconst historyItems = ref([]);\nconst selectedItem = ref(null);\nconst nextSelectedItem = ref(null);\nconst savedFocusedElement = ref(null); // Save focused element before opening side panel\nconst savedNavigatorCollection = ref(null); // Save Navigator collection before opening side panel\nconst pendingRestoreFocusId = ref(null); // Focus target to apply after menu closes (e.g. after remove)\n\nfunction waitEngine() {\n  return new Promise((resolve) => {\n    if (mainStore.engineReady) {\n      resolve();\n    } else {\n      watch(\n        () => mainStore.engineReady,\n        () => {\n          if (mainStore.engineReady) {\n            resolve();\n          }\n        }\n      );\n    }\n  });\n}\n\nfunction onItemPress(item) {\n  console.log(`onItemPress: uri=${item.uri}`);\n  openItem(item);\n}\n\nfunction onItemLongPress(item) {\n  console.log(`onItemLongPress: uri=${item.uri}`);\n  openMenu();\n}\n\nasync function openItem(item) {\n  try {\n    console.log(`openItem: uri=${item.uri}`);\n    await waitEngine();\n\n    if (item.uri?.startsWith(\"content:\")) {\n      await AceStreamApp.playDirectStream({ uri: item.uri, title: item.title });\n    } else {\n      await AceStreamApp.play({\n        uri: item.uri,\n        streamIndex: -1,\n      });\n    }\n\n    // Quick way to reload history (new item will move to the beginning of the list)\n    setTimeout(reloadHistory, 3000);\n  } catch (e) {\n    mainStore.showError(e);\n  }\n}\n\nasync function removeFromHistory(item) {\n  console.log(`removeFromHistory: uri=${item.uri}`);\n  await historyStore.remove(item.uri);\n  await reloadHistory();\n}\n\n/**\n * Generates a consistent 32-bit numeric ID from a string using the FNV-1a hash algorithm.\n * * NOTE: This is a fast, non-cryptographic hash suitable for key generation/indexing.\n * It is not intended for security purposes.\n *\n * @param {string} str The input string payload.\n * @returns {number} A 32-bit signed integer hash value.\n */\nfunction generateNumericId(str) {\n  // FNV-1a 32-bit offset basis (prime number)\n  let hash = 2166136261;\n\n  // The FNV-1a process iterates over the string's character codes\n  for (let i = 0; i < str.length; i++) {\n    // Get the UTF-16 code unit for the character\n    const charCode = str.charCodeAt(i);\n\n    // XOR the current hash value with the current character code\n    // The '>>> 0' trick ensures the result is an unsigned 32-bit integer\n    hash = (hash ^ charCode) >>> 0;\n\n    // Multiply by the FNV prime (16777619)\n    // Bitwise operations automatically truncate to 32 bits, which is desired for hashing\n    hash = (hash * 16777619) >>> 0;\n  }\n\n  // Return the final hash. Using '| 0' at the end converts the unsigned 32-bit\n  // integer back to a signed 32-bit integer, which is often easier to work with.\n\n  // unsigned\n  return hash;\n  // signed\n  // return hash | 0;\n}\n\nfunction idForItem(item) {\n  return `item-${item.id}`;\n}\n\nfunction getFocusFor(itemId, direction) {\n  let nextId;\n  let nextItem = null;\n\n  let index = -1;\n  if (itemId) {\n    index = historyItems.value.findIndex((item) => item.id === itemId);\n  }\n\n  if (direction === \"up\") {\n    if (index <= 0) {\n      nextId = \"app-bar-back\";\n    } else {\n      nextItem = historyItems.value[index - 1];\n    }\n  } else if (direction === \"down\") {\n    if (index < historyItems.value.length - 1) {\n      nextItem = historyItems.value[index + 1];\n    }\n  }\n\n  if (nextId) {\n    return nextId;\n  } else if (nextItem) {\n    if (nextItem.type === \"group\") {\n      // Group titles are not focusable\n      return getFocusFor(nextItem.id, direction);\n    } else {\n      return idForItem(nextItem);\n    }\n  } else {\n    return null;\n  }\n}\n\n// async function removeItem(uri) {\n//   await historyStore.remove(uri);\n//   await reloadHistory();\n// }\n\nfunction generateItemId(item) {\n  const key = item.type === \"group\" ? item.title : item.uri;\n  return generateNumericId(key);\n}\n\nasync function reloadHistory() {\n  const history = await historyStore.getHistory();\n  const items = history.items;\n\n  // Sort by timestamp\n  items.sort((a, b) => b.timestamp - a.timestamp);\n\n  // Split in groups\n  const byGroups = {};\n  for (const item of items) {\n    const groupId = getGroup(item.timestamp);\n    if (!byGroups[groupId]) {\n      byGroups[groupId] = [];\n    }\n    byGroups[groupId].push(item);\n  }\n\n  historyItems.value = [];\n  for (const groupId in byGroups) {\n    const groupName = $i18n.t(`history_group_${groupId}`);\n    historyItems.value.push({\n      type: \"group\",\n      title: groupName,\n    });\n\n    for (const item of byGroups[groupId]) {\n      historyItems.value.push({\n        type: \"item\",\n        ...item,\n      });\n    }\n  }\n\n  // Add unique ids\n  historyItems.value.forEach((a) => (a.id = generateItemId(a)));\n}\n\nfunction getGroups() {\n  const now = new Date();\n\n  const todayStart = new Date(now.setHours(0, 0, 0, 0)).getTime();\n  const yesterdayStart = todayStart - 86400000; // 1 day in ms\n  const sevenDaysStart = yesterdayStart - 7 * 86400000;\n  const thirtyDaysStart = sevenDaysStart - 23 * 86400000; // Remaining days for 30-day period\n  const ninetyDaysStart = thirtyDaysStart - 60 * 86400000; // Remaining days for 90-day period\n\n  return {\n    today: {\n      from: todayStart,\n    },\n    yesterday: {\n      from: yesterdayStart,\n      to: todayStart,\n    },\n    sevenDays: {\n      from: sevenDaysStart,\n      to: yesterdayStart,\n    },\n    thirtyDays: {\n      from: thirtyDaysStart,\n      to: sevenDaysStart,\n    },\n    ninetyDays: {\n      from: ninetyDaysStart,\n      to: thirtyDaysStart,\n    },\n  };\n}\n\nfunction getGroup(timestamp) {\n  for (const [groupId, group] of Object.entries(getGroups())) {\n    if (!group.to && timestamp >= group.from) {\n      return groupId;\n    } else if (timestamp >= group.from && timestamp < group.to) {\n      return groupId;\n    }\n  }\n}\n\nfunction bindEvents() {\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      if (e.target?.id === \"app-bar-back\") {\n        const itemId = getFocusFor(null, \"down\");\n        Navigator.focus(document.getElementById(itemId));\n      } else {\n        Navigator.move(\"down\");\n      }\n    },\n    up: () => {\n      if (Navigator.canmove(\"up\")) {\n        Navigator.move(\"up\");\n      } else {\n        Navigator.focus(document.getElementById(\"app-bar-back\"));\n      }\n    },\n    enter: (e) => {\n      if (e.target?.id === \"app-bar-back\") {\n        return\n      }\n      if (selectedItem.value && selectedItem.value.type === \"item\") {\n        onItemPress(selectedItem.value);\n      }\n    },\n    longPress: () => {\n      if (selectedItem.value && selectedItem.value.type === \"item\") {\n        onItemLongPress(selectedItem.value);\n      }\n    },\n  });\n}\n\nfunction unbindEvents() {\n  Controller.removeHandler(PAGE_ID);\n}\n\n// Watch for side panel visibility changes to set up navigation\nwatch(\n  () => mainStore.sidePanelVisible,\n  (isVisible) => {\n    if (isVisible) {\n      // Side panel is opening - remove selector class from history items to isolate navigation\n      const historyItems = document.querySelectorAll(\".history__item.selector\");\n      historyItems.forEach((item) => {\n        item.classList.remove(\"selector\");\n        item.dataset.wasSelector = \"true\"; // Mark for restoration\n      });\n\n      // Remove handler for main page to prevent navigation conflicts\n      // Note: SideMenu will set its own handler in onMounted, so we wait a bit\n      // to ensure SideMenu's handler is set after we remove this one\n      setTimeout(() => {\n        Controller.removeHandler(PAGE_ID);\n      }, 300);\n    } else {\n      // Side panel is closing - restore selector class on history items\n      const historyItems = document.querySelectorAll(\n        '.history__item[data-was-selector=\"true\"]'\n      );\n      historyItems.forEach((item) => {\n        item.classList.add(\"selector\");\n        item.removeAttribute(\"data-was-selector\");\n      });\n\n      // Restore main page navigation\n      setTimeout(() => {\n        bindEvents();\n\n        // If we have an explicit focus target (e.g. after removing an item), prefer it.\n        // Also avoid restoring a stale Navigator collection that may contain removed nodes.\n        if (pendingRestoreFocusId.value) {\n          const targetId = pendingRestoreFocusId.value;\n          pendingRestoreFocusId.value = null;\n          savedFocusedElement.value = null;\n          savedNavigatorCollection.value = null;\n\n          // setupNavigation focuses lastFocusedId on a timer; make it focus our target.\n          const elementId = document.getElementById(targetId)\n            ? targetId\n            : \"app-bar-back\";\n          Controller.setLastFocused({ pageId: PAGE_ID, elementId });\n          Controller.setupNavigation({ pageId: PAGE_ID });\n          return;\n        }\n\n        // Restore Navigator collection if we saved it\n        if (savedNavigatorCollection.value) {\n          Navigator.setCollection(savedNavigatorCollection.value);\n          const savedCollection = savedNavigatorCollection.value;\n          savedNavigatorCollection.value = null;\n\n          // Restore focus to the saved element\n          if (savedFocusedElement.value) {\n            const element = savedFocusedElement.value;\n            // Check if element still exists in DOM and is in the saved collection\n            if (\n              element &&\n              document.contains(element) &&\n              savedCollection.indexOf(element) !== -1\n            ) {\n              Navigator.focus(element);\n            } else {\n              console.warn(\n                \"TvHistory: Saved element not available, using default focus\"\n              );\n              // Fallback to default focus\n              Controller.setupNavigation({ pageId: PAGE_ID });\n            }\n            savedFocusedElement.value = null;\n          } else {\n            // No saved focus, use default\n            Controller.setupNavigation({ pageId: PAGE_ID });\n          }\n        } else {\n          // No saved collection, use setupNavigation\n          Controller.setupNavigation({ pageId: PAGE_ID });\n        }\n      }, 100);\n    }\n  }\n);\n\n// lifecycle\nonMounted(async () => {\n  await reloadHistory();\n  await nextTick();\n  bindEvents();\n\n  // Default focus: if we have any focusable items (skip group headers),\n  // focus the first one on initial mount.\n  const firstItem = historyItems.value.find((a) => a?.type !== \"group\");\n  if (firstItem) {\n    Controller.setLastFocused({ pageId: PAGE_ID, elementId: idForItem(firstItem) });\n  }\n  Controller.setupNavigation({ pageId: PAGE_ID });\n\n  loading.value = false;\n\n  // Reload history every 5 seconds\n  //TODO: need to make this reactive.\n  updateHistoryTimer = setInterval(() => reloadHistory(), 5000);\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n  // Stop reload history\n  clearInterval(updateHistoryTimer);\n});\n\nconst scrollBodyRef = ref(null);\nconst scrollContentRef = ref(null);\n\nfunction maxOffset(params, offset) {\n  const body = scrollBodyRef.value;\n  const content = scrollContentRef.value;\n  const scroll_adjust = params.scroll_adjust ?? 0;\n\n  // let w = params.horizontal ? html.offsetWidth : html.offsetHeight\n  let w = params.horizontal ? body.offsetWidth : body.offsetHeight;\n  let p = parseInt(\n    window\n      .getComputedStyle(content, null)\n      .getPropertyValue(\"padding-\" + (params.horizontal ? \"left\" : \"top\"))\n  );\n  let s = body[params.horizontal ? \"scrollWidth\" : \"scrollHeight\"];\n\n  if (isNaN(p)) {\n    p = 0;\n  }\n\n  offset = Math.min(0, offset);\n  let new_offset;\n  if (params.always_scroll_top) {\n    new_offset = offset + scroll_adjust;\n  } else {\n    new_offset =\n      Math.max(-(Math.max(s + p * 2, w) - w), offset) + scroll_adjust;\n  }\n\n  // console.log(`scroll:maxOffset: name=${params.name} adjust=${scroll_adjust} offset=${offset}->${new_offset} s=${s} p=${p} w=${w}`)\n\n  return new_offset;\n}\n\nlet scrollTimer = null;\nlet currentScrollTarget = null;\n\nfunction onfocus(item, e, skiptimer = false) {\n  selectedItem.value = item;\n\n  const index = historyItems.value.findIndex((a) => a.id === item.id);\n  if (index !== -1 && index < historyItems.value.length - 1) {\n    // Remember next item to set focus if current item is removed\n    nextSelectedItem.value = historyItems.value[index + 1];\n  }\n  // console.log(`set selected item: `, selectedItem.value)\n\n  const params = {\n    horizontal: false,\n    fixed_offset: null,\n    always_scroll_top: true,\n    scroll_adjust: 0,\n  };\n  const tocenter = true;\n  const target = e.target;\n  const body = scrollBodyRef.value;\n  const content = scrollContentRef.value;\n\n  const dir = params.horizontal ? \"left\" : \"top\";\n  const siz = params.horizontal ? \"offsetWidth\" : \"offsetHeight\";\n  const ofs_elm = target.getBoundingClientRect()[dir];\n  const ofs_box = body.getBoundingClientRect()[dir];\n\n  let scrl;\n  if (params.fixed_offset) {\n    const center = ofs_box + params.fixed_offset;\n    scrl = center - ofs_elm;\n  } else {\n    const center =\n      ofs_box + (tocenter ? content[siz] / 2 - target[siz] / 2 : 0);\n    scrl = Math.min(0, center - ofs_elm);\n    scrl = maxOffset(params, scrl);\n  }\n\n  // Perform scroll\n  scrollTo(params, scrl);\n\n  if (!skiptimer) {\n    clearTimeout(scrollTimer);\n    scrollTimer = setTimeout(() => (content.scrollTop = 0), 200);\n  }\n}\n\nfunction scrollTo(params, pos) {\n  if (currentScrollTarget === null) {\n    currentScrollTarget = pos;\n    requestAnimationFrame(() => animateTo(params));\n  }\n}\n\nfunction animateTo(params) {\n  if (currentScrollTarget !== null) {\n    const content = scrollContentRef.value;\n    const body = scrollBodyRef.value;\n\n    content.scrollTop = 0;\n    body.style[\"-webkit-transform\"] =\n      \"translate3d(\" +\n      Math.round(params.horizontal ? currentScrollTarget : 0) +\n      \"px, \" +\n      Math.round(params.horizontal ? 0 : currentScrollTarget) +\n      \"px, 0px)\";\n    currentScrollTarget = null;\n  }\n}\n\nconst menuItems = ref([]);\n\nasync function openMenu() {\n  const uri = selectedItem.value?.uri;\n  console.log(`openMenu: uri=${uri}`);\n\n  if (uri) {\n    const favorite = await favoritesStore.isFavorite(uri);\n    if (favorite) {\n      console.log(`openMenu: favorite=${favorite} uri=${uri}`);\n      menuItems.value = [\n        { id: \"open\", title: $i18n.t(\"open\") },\n        { id: \"remove-from-favorites\", title: $i18n.t(\"remove_from_favorites\") },\n        { id: \"remove-from-history\", title: $i18n.t(\"remove_from_history\") },\n      ];\n    } else {\n      menuItems.value = [\n        { id: \"open\", title: $i18n.t(\"open\") },\n        { id: \"add-to-favorites\", title: $i18n.t(\"add_to_favorites\") },\n        { id: \"remove-from-history\", title: $i18n.t(\"remove_from_history\") },\n      ];\n    }\n  } else {\n    menuItems.value = [\n      { id: \"open\", title: $i18n.t(\"open\") },\n      { id: \"remove-from-history\", title: $i18n.t(\"remove_from_history\") },\n    ];\n  }\n\n  // Save current focused element and Navigator collection\n  savedFocusedElement.value = Navigator.getFocusedElement();\n  savedNavigatorCollection.value = Navigator.getCollection().slice(); // Create a copy\n  mainStore.sidePanelVisible = true;\n}\n\nasync function onMenuItemSelected(item) {\n  const title = selectedItem.value?.title;\n  const uri = selectedItem.value?.uri;\n  console.log(\n    `onMenuItemSelected: action=${item.id} title=${title} uri=${uri}`\n  );\n  if (selectedItem.value) {\n    if (item.id === \"open\") {\n      openItem(selectedItem.value);\n    } else if (item.id === \"add-to-favorites\") {\n      await favoritesStore.add({ title, uri });\n    } else if (item.id === \"remove-from-favorites\") {\n      await favoritesStore.remove(uri);\n    } else if (item.id === \"remove-from-history\") {\n      // Compute where focus should go after removal:\n      // - focus previous playable item\n      // - if removing the first playable item, focus the new first playable item\n      // - if no items left, focus back button\n      const index = historyItems.value.findIndex(\n        (a) => a.id === selectedItem.value?.id\n      );\n\n      let focusTarget = null;\n      if (index !== -1) {\n        // Prefer previous focusable item (skip groups)\n        for (let i = index - 1; i >= 0; i--) {\n          if (historyItems.value[i]?.type !== \"group\") {\n            focusTarget = historyItems.value[i];\n            break;\n          }\n        }\n        // If no previous, pick next focusable item (this becomes the new first playable item)\n        if (!focusTarget) {\n          for (let i = index + 1; i < historyItems.value.length; i++) {\n            if (historyItems.value[i]?.type !== \"group\") {\n              focusTarget = historyItems.value[i];\n              break;\n            }\n          }\n        }\n      }\n\n      pendingRestoreFocusId.value = focusTarget\n        ? idForItem(focusTarget)\n        : \"app-bar-back\";\n\n      await removeFromHistory(selectedItem.value);\n    }\n  }\n\n  setTimeout(closeMenu, 0);\n}\n\nfunction closeMenu() {\n  mainStore.sidePanelVisible = false;\n  // Focus restoration is handled by the watch on sidePanelVisible\n}\n</script>\n\n<template>\n  <v-container\n    class=\"as-page scroll__content\"\n    ref=\"scrollContentRef\"\n    :class=\"{ invisible: loading }\"\n  >\n    <div class=\"history__empty\" v-if=\"historyItems.length === 0\">\n      {{ $t(\"playback_history_empty\") }}\n    </div>\n    <div v-else class=\"scroll__body\" ref=\"scrollBodyRef\">\n      <v-row\n        v-for=\"item in historyItems\"\n        :key=\"item.uri\"\n        :id=\"idForItem(item)\"\n        class=\"history__item\"\n        :class=\"\n          `history__item--${item.type}` +\n          (item.type !== 'group' ? ' selector' : '')\n        \"\n        tabindex=\"0\"\n        @focus=\"(e) => onfocus(item, e)\"\n        v-focus=\"{\n          id: idForItem(item),\n          enabled: !mainStore.preventFocus,\n          nextFunc: (direction) => getFocusFor(item.id, direction),\n        }\"\n      >\n        <div class=\"history__item__body\">\n          <div class=\"history__item__title\">{{ item.title }}</div>\n          <div\n            class=\"history__item__source\"\n            v-if=\"item.type === 'item' && isHttpUrl(item.uri)\"\n          >\n            {{ item.uri }}\n          </div>\n        </div>\n      </v-row>\n    </div>\n\n    <transition>\n      <SideMenu\n        v-if=\"mainStore.sidePanelVisible\"\n        :scrollOnFocus=\"false\"\n        :animationDuration=\"100\"\n        :items=\"menuItems\"\n        @item-selected=\"onMenuItemSelected\"\n        @cancel=\"closeMenu\"\n      />\n    </transition>\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  &.invisible {\n    opacity: 0;\n  }\n}\n\n.scroll {\n  &__content {\n    height: calc(100vh - 64px);\n    overflow: hidden;\n  }\n\n  &__body {\n    transition: transform 0.3s linear;\n    margin: 0 64px;\n  }\n}\n\n.history {\n  &__empty {\n    padding: 0 20px;\n    font-size: 18px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 32px;\n    font-weight: 300;\n  }\n\n  &__item {\n    width: 100%;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    border-radius: 3.5em;\n    margin-bottom: 0px;\n    padding: 8px 32px;\n\n    &--group {\n      .history__item__title {\n        font-size: 20px;\n        color: rgba(255, 255, 255, 0.5);\n      }\n    }\n\n    &__body {\n      width: 100%;\n    }\n\n    &__title {\n      font-size: 16px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n    }\n\n    &__source {\n      font-size: 12px;\n      margin-top: 0px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n      height: 0;\n      opacity: 0;\n\n      transition: height 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n    }\n\n    &:focus {\n      background-color: white;\n      color: black;\n\n      .history__item__source {\n        height: 18px;\n        opacity: 1;\n        transition: none;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistory.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistory.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvHistory.vue?vue&type=template&id=da03a2da&scoped=true&\"\nimport script from \"./TvHistory.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvHistory.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TvHistory.vue?vue&type=style&index=0&id=da03a2da&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"da03a2da\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport TvHistoryNeedPremium from \"@/pages/history-tv/TvHistoryNeedPremium.vue\";\nimport TvHistory from \"@/pages/history-tv/TvHistory.vue\";\n\n// stores\nconst authStore = useAuthStore();\n</script>\n\n<script>\nimport * as MainStoreModule from \"@/stores/main\";\n\nexport default {\n  beforeRouteLeave(to, from, next) {\n    const mainStore = MainStoreModule.useMainStore();\n    if (mainStore.sidePanelVisible) {\n      // This will close side panel\n      window.dispatchEvent(new CustomEvent(\"customBackPressed\"));\n      // Prevent navigation\n      next(false);\n    } else {\n      // Allow navigation\n      next();\n    }\n  },\n};\n</script>\n\n<template>\n  <TvHistory v-if=\"authStore.hasPremium\" />\n  <TvHistoryNeedPremium v-else />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistoryScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvHistoryScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvHistoryScreen.vue?vue&type=template&id=4eaab1b0&\"\nimport script from \"./TvHistoryScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvHistoryScreen.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_setup.authStore.hasPremium)?_c(_setup.NeedPremium):_c('v-container',{staticClass:\"as-page\",class:{ invisible: _setup.loading }},[(_setup.listItems.length === 0)?_c('div',{staticClass:\"history__empty\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"favorites_empty\"))+\" \")]):_vm._l((_setup.listItems),function(item,index){return _c('v-row',{key:item.uri || item.title},[_c('div',{staticClass:\"history__item\",class:`history__item--${item.type}`},[_c('div',{staticClass:\"history__item__body\",on:{\"click\":function($event){return _setup.openItem(item, index)}}},[_c('div',{staticClass:\"history__item__title\"},[_vm._v(_vm._s(item.title))]),(item.type === 'item' && _setup.isHttpUrl(item.uri))?_c('div',{staticClass:\"history__item__source\"},[_vm._v(\" \"+_vm._s(item.uri)+\" \")]):_vm._e()]),_c('div',{staticClass:\"history__item__actions\"},[(index === _setup.loadingItemIndex)?_c('div',{staticStyle:{\"width\":\"36px\",\"height\":\"36px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"24\",\"width\":\"1\"}})],1):(item.type === 'item')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _setup.removeItem(item.uri)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1):_vm._e()],1)])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance, onMounted, ref, watch, nextTick } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useFavoritesStore } from \"@/stores/favorites\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport NeedPremium from \"@/pages/notification/NeedPremium.vue\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { isHttpUrl } from \"@/lib/url\";\n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\n// stores\nconst mainStore = useMainStore();\nconst authStore = useAuthStore();\nconst favoritesStore = useFavoritesStore();\n\n// refs\nconst listItems = ref([]);\nconst loading = ref(true);\nconst loadingItemIndex = ref(-1);\nlet loadingItemTimer = null;\n\nfunction waitEngine() {\n  return new Promise((resolve) => {\n    if (mainStore.engineReady) {\n      resolve();\n    } else {\n      watch(\n        () => mainStore.engineReady,\n        () => {\n          if (mainStore.engineReady) {\n            resolve();\n          }\n        }\n      );\n    }\n  });\n}\n\nasync function openItem(item, index) {\n  try {\n    console.log(`openItem: index=${index} uri=${item.uri}`);\n\n    if (loadingItemIndex.value === index) {\n      console.log(`openItem: already opening, do nothing`);\n      return;\n    }\n\n    loadingItemTimer = setTimeout(() => {\n      loadingItemIndex.value = index;\n    }, 100);\n\n    await waitEngine();\n\n    if (item.uri?.startsWith(\"content:\")) {\n      await AceStreamApp.playDirectStream({ uri: item.uri, title: item.title });\n    } else {\n      await AceStreamApp.play({\n        uri: item.uri,\n        streamIndex: -1,\n      });\n    }\n  } catch (e) {\n    mainStore.showError(e);\n  } finally {\n    clearTimeout(loadingItemTimer);\n    loadingItemIndex.value = -1;\n  }\n}\n\nasync function removeItem(uri) {\n  await favoritesStore.remove(uri);\n  await reloadFavorites();\n}\n\nasync function reloadFavorites() {\n  const favorites = await favoritesStore.getFavorites();\n  const items = favorites.items;\n\n  // Sort by timestamp\n  items.sort((a, b) => b.timestamp - a.timestamp);\n\n  // Split in groups (reuse history grouping i18n keys)\n  const byGroups = {};\n  for (const item of items) {\n    const groupId = getGroup(item.timestamp);\n    if (!byGroups[groupId]) {\n      byGroups[groupId] = [];\n    }\n    byGroups[groupId].push(item);\n  }\n\n  listItems.value = [];\n  for (const groupId in byGroups) {\n    const groupName = $i18n.t(`history_group_${groupId}`);\n    listItems.value.push({\n      type: \"group\",\n      title: groupName,\n    });\n\n    for (const item of byGroups[groupId]) {\n      listItems.value.push({\n        type: \"item\",\n        ...item,\n      });\n    }\n  }\n}\n\nfunction getGroups() {\n  const now = new Date();\n\n  const todayStart = new Date(now.setHours(0, 0, 0, 0)).getTime();\n  const yesterdayStart = todayStart - 86400000; // 1 day in ms\n  const sevenDaysStart = yesterdayStart - 7 * 86400000;\n  const thirtyDaysStart = sevenDaysStart - 23 * 86400000; // Remaining days for 30-day period\n  const ninetyDaysStart = thirtyDaysStart - 60 * 86400000; // Remaining days for 90-day period\n\n  return {\n    today: {\n      from: todayStart,\n    },\n    yesterday: {\n      from: yesterdayStart,\n      to: todayStart,\n    },\n    sevenDays: {\n      from: sevenDaysStart,\n      to: yesterdayStart,\n    },\n    thirtyDays: {\n      from: thirtyDaysStart,\n      to: sevenDaysStart,\n    },\n    ninetyDays: {\n      from: ninetyDaysStart,\n      to: thirtyDaysStart,\n    },\n  };\n}\n\nfunction getGroup(timestamp) {\n  for (const [groupId, group] of Object.entries(getGroups())) {\n    if (!group.to && timestamp >= group.from) {\n      return groupId;\n    } else if (timestamp >= group.from && timestamp < group.to) {\n      return groupId;\n    }\n  }\n}\n\nonMounted(async () => {\n  if (authStore.hasPremium) {\n    await reloadFavorites();\n    await nextTick();\n    loading.value = false;\n  }\n});\n</script>\n\n<template>\n  <NeedPremium v-if=\"!authStore.hasPremium\" />\n\n  <v-container\n    v-else\n    class=\"as-page\"\n    :class=\"{ invisible: loading }\"\n    >\n    <div class=\"history__empty\" v-if=\"listItems.length === 0\">\n      {{ $t(\"favorites_empty\") }}\n    </div>\n    <v-row v-else v-for=\"(item, index) in listItems\" :key=\"item.uri || item.title\">\n      <div class=\"history__item\" :class=\"`history__item--${item.type}`\">\n        <div class=\"history__item__body\" @click=\"openItem(item, index)\">\n          <div class=\"history__item__title\">{{ item.title }}</div>\n          <div\n            class=\"history__item__source\"\n            v-if=\"item.type === 'item' && isHttpUrl(item.uri)\"\n          >\n            {{ item.uri }}\n          </div>\n        </div>\n        <div class=\"history__item__actions\">\n          <div\n            v-if=\"index === loadingItemIndex\"\n            style=\"\n              width: 36px;\n              height: 36px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            \"\n          >\n            <v-progress-circular indeterminate size=\"24\" width=\"1\" />\n          </div>\n          <v-btn v-else-if=\"item.type === 'item'\" icon @click=\"removeItem(item.uri)\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </div>\n      </div>\n    </v-row>\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  padding-top: 76px;\n  height: calc(100vh);\n  overflow-y: scroll;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(1.6em);\n  &.invisible {\n    opacity: 0;\n  }\n}\n.history {\n  &__empty {\n    padding: 0 20px;\n    font-size: 18px;\n  }\n\n  &__item {\n    width: 100%;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    border-radius: 3.5em;\n    margin-bottom: 16px;\n    padding-left: 32px;\n    padding-right: 24px;\n\n    &--group {\n      .history__item__title {\n        font-size: 20px;\n        color: rgba(255, 255, 255, 0.5);\n      }\n    }\n\n    &__body {\n      width: 100%;\n    }\n\n    &__actions {\n      padding-left: 8px;\n    }\n\n    &__title {\n      color: white;\n      font-size: 16px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n    }\n\n    &__source {\n      color: rgba(255, 255, 255, 0.5);\n      font-size: 12px;\n      margin-top: 0px;\n      overflow: hidden;\n      -o-text-overflow: \".\";\n      text-overflow: \".\";\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      line-clamp: 1;\n      -webkit-box-orient: vertical;\n      line-break: anywhere;\n    }\n  }\n}\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./FavoritesScreen.vue?vue&type=template&id=472e9158&scoped=true&\"\nimport script from \"./FavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./FavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./FavoritesScreen.vue?vue&type=style&index=0&id=472e9158&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"472e9158\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_setup.authStore.hasPremium)?_c(_setup.TvFavorites):_c(_setup.TvFavoritesNeedPremium)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column align-center justify-center\"},[_c('div',{staticClass:\"message-container\"},[_c('div',{staticClass:\"message-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.title\"))+\" \")]),_c('div',{staticClass:\"message-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"need_premium_dialog.text\"))+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { onMounted } from \"vue\";\nimport { setupNavigation } from \"@/lib/controller\";\n\n// lifecycle\nonMounted(() => {\n  setupNavigation({ pageId: \"favorites\" });\n});\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column align-center justify-center\">\n    <div class=\"message-container\">\n      <div class=\"message-title\">\n        {{ $t(\"need_premium_dialog.title\") }}\n      </div>\n      <div class=\"message-text\">\n        {{ $t(\"need_premium_dialog.text\") }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.message-title {\n  font-size: 32px;\n  font-weight: 300;\n  text-align: center;\n}\n\n.message-text {\n  font-size: 18px;\n  margin-top: 16px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.9);\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavoritesNeedPremium.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavoritesNeedPremium.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvFavoritesNeedPremium.vue?vue&type=template&id=4a3ad48f&scoped=true&\"\nimport script from \"./TvFavoritesNeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvFavoritesNeedPremium.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TvFavoritesNeedPremium.vue?vue&type=style&index=0&id=4a3ad48f&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a3ad48f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{ref:\"scrollContentRef\",staticClass:\"as-page scroll__content\",class:{ invisible: _setup.loading }},[(!_setup.loading && _setup.favoritesItems.length === 0)?_c('div',{staticClass:\"empty\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"favorites_empty\"))+\" \")]):_c('div',{ref:\"scrollBodyRef\",staticClass:\"scroll__body\"},_vm._l((_setup.favoritesItems),function(item){return _c('div',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n        id: _setup.idForItem(item),\n        enabled: !_setup.mainStore.preventFocus,\n        nextFunc: (direction) => _setup.getFocusFor(item.id, direction),\n      }),expression:\"{\\n        id: idForItem(item),\\n        enabled: !mainStore.preventFocus,\\n        nextFunc: (direction) => getFocusFor(item.id, direction),\\n      }\"}],key:item.id,staticClass:\"history-row selector\",attrs:{\"id\":_setup.idForItem(item),\"tabindex\":\"0\"},on:{\"click\":function($event){return _setup.onItemPress(item)},\"focus\":(e) => _setup.onfocus(item, e)}},[_c('div',{staticClass:\"history-row__title\"},[_vm._v(_vm._s(item.title))]),(_setup.isHttpUrl(item.uri))?_c('div',{staticClass:\"history-row__uri\"},[_vm._v(_vm._s(item.uri))]):_vm._e()])}),0),_c('transition',[(_setup.mainStore.sidePanelVisible)?_c(_setup.SideMenu,{attrs:{\"scrollOnFocus\":false,\"animationDuration\":100,\"items\":_setup.menuItems},on:{\"item-selected\":_setup.onMenuItemSelected,\"cancel\":_setup.closeMenu}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport {\n  getCurrentInstance,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n  ref,\n  watch,\n} from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useFavoritesStore } from \"@/stores/favorites\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport Controller from \"@/lib/controller\";\nimport { isHttpUrl } from \"@/lib/url\";\nimport SideMenu from \"@/pages/history-tv/SideMenu.vue\";\n\nconst $i18n = getCurrentInstance().proxy.$i18n;\n\nconst PAGE_ID = \"favorites\";\n\nlet updateFavoritesTimer = null;\n\nconst mainStore = useMainStore();\nconst loading = ref(true);\nconst favoritesStore = useFavoritesStore();\nconst favoritesItems = ref([]);\nconst selectedItem = ref(null);\nconst nextSelectedItem = ref(null);\nconst savedFocusedElement = ref(null); // Save focused element before opening side panel\nconst savedNavigatorCollection = ref(null); // Save Navigator collection before opening side panel\nconst pendingRestoreFocusId = ref(null); // Focus target to apply after menu closes (e.g. after remove)\nconst scrollBodyRef = ref(null);\nconst scrollContentRef = ref(null);\n\nfunction maxOffset(params, offset) {\n  const body = scrollBodyRef.value;\n  const content = scrollContentRef.value;\n  const scroll_adjust = params.scroll_adjust ?? 0;\n\n  let w = params.horizontal ? body.offsetWidth : body.offsetHeight;\n  let p = parseInt(\n    window\n      .getComputedStyle(content, null)\n      .getPropertyValue(\"padding-\" + (params.horizontal ? \"left\" : \"top\"))\n  );\n  let s = body[params.horizontal ? \"scrollWidth\" : \"scrollHeight\"];\n\n  if (isNaN(p)) {\n    p = 0;\n  }\n\n  offset = Math.min(0, offset);\n  let new_offset;\n  if (params.always_scroll_top) {\n    new_offset = offset + scroll_adjust;\n  } else {\n    new_offset = Math.max(-(Math.max(s + p * 2, w) - w), offset) + scroll_adjust;\n  }\n\n  return new_offset;\n}\n\nlet scrollTimer = null;\nlet currentScrollTarget = null;\n\nfunction scrollTo(params, pos) {\n  if (currentScrollTarget === null) {\n    currentScrollTarget = pos;\n    requestAnimationFrame(() => animateTo(params));\n  }\n}\n\nfunction animateTo(params) {\n  if (currentScrollTarget !== null) {\n    const content = scrollContentRef.value;\n    const body = scrollBodyRef.value;\n\n    content.scrollTop = 0;\n    body.style[\"-webkit-transform\"] =\n      \"translate3d(\" +\n      Math.round(params.horizontal ? currentScrollTarget : 0) +\n      \"px, \" +\n      Math.round(params.horizontal ? 0 : currentScrollTarget) +\n      \"px, 0px)\";\n    currentScrollTarget = null;\n  }\n}\n\nfunction onfocus(item, e, skiptimer = false) {\n  selectedItem.value = item;\n\n  const index = favoritesItems.value.findIndex((a) => a.id === item.id);\n  if (index !== -1 && index < favoritesItems.value.length - 1) {\n    // Remember next item to set focus if current item is removed\n    nextSelectedItem.value = favoritesItems.value[index + 1];\n  }\n  if (nextSelectedItem.value && nextSelectedItem.value.id === item.id) {\n    nextSelectedItem.value = null;\n  }\n\n  const params = {\n    horizontal: false,\n    fixed_offset: null,\n    always_scroll_top: true,\n    scroll_adjust: 0,\n  };\n  const tocenter = true;\n  const target = e?.target;\n  const body = scrollBodyRef.value;\n  const content = scrollContentRef.value;\n\n  if (!target || !body || !content) {\n    return;\n  }\n\n  const dir = params.horizontal ? \"left\" : \"top\";\n  const siz = params.horizontal ? \"offsetWidth\" : \"offsetHeight\";\n  const ofs_elm = target.getBoundingClientRect()[dir];\n  const ofs_box = body.getBoundingClientRect()[dir];\n\n  let scrl;\n  if (params.fixed_offset) {\n    const center = ofs_box + params.fixed_offset;\n    scrl = center - ofs_elm;\n  } else {\n    const center =\n      ofs_box + (tocenter ? content[siz] / 2 - target[siz] / 2 : 0);\n    scrl = Math.min(0, center - ofs_elm);\n    scrl = maxOffset(params, scrl);\n  }\n\n  // Perform scroll\n  scrollTo(params, scrl);\n\n  if (!skiptimer) {\n    clearTimeout(scrollTimer);\n    scrollTimer = setTimeout(() => (content.scrollTop = 0), 200);\n  }\n}\n\nconst menuItems = ref([\n  { id: \"open\", title: $i18n.t(\"open\") },\n  { id: \"remove-from-favorites\", title: $i18n.t(\"remove_from_favorites\") },\n]);\n\nfunction waitEngine() {\n  return new Promise((resolve) => {\n    if (mainStore.engineReady) {\n      resolve();\n    } else {\n      watch(\n        () => mainStore.engineReady,\n        () => {\n          if (mainStore.engineReady) {\n            resolve();\n          }\n        }\n      );\n    }\n  });\n}\n\nfunction onItemPress(item) {\n  console.log(`onItemPress: uri=${item.uri}`);\n  openItem(item);\n}\n\nfunction onItemLongPress(item) {\n  console.log(`onItemLongPress: uri=${item.uri}`);\n  openMenu();\n}\n\nasync function openItem(item) {\n  try {\n    console.log(`openItem: uri=${item.uri}`);\n    await waitEngine();\n\n    if (item.uri?.startsWith(\"content:\")) {\n      await AceStreamApp.playDirectStream({ uri: item.uri, title: item.title });\n    } else {\n      await AceStreamApp.play({\n        uri: item.uri,\n        streamIndex: -1,\n      });\n    }\n  } catch (e) {\n    mainStore.showError(e);\n  }\n}\n\nasync function removeFromFavorites(item) {\n  console.log(`removeFromFavorites: uri=${item.uri}`);\n  await favoritesStore.remove(item.uri);\n  await reloadFavorites();\n}\n\nfunction generateNumericId(str) {\n  let hash = 2166136261;\n  for (let i = 0; i < str.length; i++) {\n    const charCode = str.charCodeAt(i);\n    hash = (hash ^ charCode) >>> 0;\n    hash = (hash * 16777619) >>> 0;\n  }\n  return hash;\n}\n\nfunction generateItemId(item) {\n  const key = item.uri ?? item.title ?? \"\";\n  return generateNumericId(key);\n}\n\nfunction idForItem(item) {\n  return `item-${item.id}`;\n}\n\nfunction getFocusFor(itemId, direction) {\n  let nextId;\n  let nextItem = null;\n\n  let index = -1;\n  if (itemId) {\n    index = favoritesItems.value.findIndex((item) => item.id === itemId);\n  }\n\n  if (direction === \"up\") {\n    if (index <= 0) {\n      nextId = \"app-bar-back\";\n    } else {\n      nextItem = favoritesItems.value[index - 1];\n    }\n  } else if (direction === \"down\") {\n    if (index < favoritesItems.value.length - 1) {\n      nextItem = favoritesItems.value[index + 1];\n    }\n  }\n\n  if (nextId) {\n    return nextId;\n  } else if (nextItem) {\n    return idForItem(nextItem);\n  } else {\n    return null;\n  }\n}\n\nasync function reloadFavorites() {\n  const favorites = await favoritesStore.getFavorites();\n  const items = favorites.items;\n\n  items.sort((a, b) => b.timestamp - a.timestamp);\n  favoritesItems.value = items.map((item) => ({ type: \"item\", ...item }));\n  favoritesItems.value.forEach((a) => (a.id = generateItemId(a)));\n}\n\nfunction bindEvents() {\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      if (e.target?.id === \"app-bar-back\") {\n        const itemId = getFocusFor(null, \"down\");\n        if (!itemId) {\n          return;\n        }\n        const el = document.getElementById(itemId);\n        if (el) {\n          Navigator.focus(el);\n        }\n      } else {\n        Navigator.move(\"down\");\n      }\n    },\n    up: () => {\n      if (Navigator.canmove(\"up\")) {\n        Navigator.move(\"up\");\n      } else {\n        Navigator.focus(document.getElementById(\"app-bar-back\"));\n      }\n    },\n    longPress: () => {\n      if (selectedItem.value) {\n        onItemLongPress(selectedItem.value);\n      }\n    },\n  });\n}\n\nfunction unbindEvents() {\n  Controller.removeHandler(PAGE_ID);\n}\n\nfunction openMenu() {\n  if (mainStore.sidePanelVisible) {\n    return;\n  }\n\n  // Save current focused element and Navigator collection\n  savedFocusedElement.value = Navigator.getFocusedElement();\n  savedNavigatorCollection.value = Navigator.getCollection().slice(); // Create a copy\n  mainStore.sidePanelVisible = true;\n}\n\nfunction closeMenu() {\n  mainStore.sidePanelVisible = false;\n  // Focus restoration is handled by the watch on sidePanelVisible\n}\n\n// Watch for side panel visibility changes to set up navigation (same pattern as TvHistory.vue)\nwatch(\n  () => mainStore.sidePanelVisible,\n  (isVisible) => {\n    if (isVisible) {\n      // Side panel is opening - remove selector class from items to isolate navigation\n      const items = document.querySelectorAll(\".history-row.selector\");\n      items.forEach((item) => {\n        item.classList.remove(\"selector\");\n        item.dataset.wasSelector = \"true\"; // Mark for restoration\n      });\n\n      // Remove handler for main page to prevent navigation conflicts\n      // Note: SideMenu will set its own handler in onMounted, so we wait a bit\n      setTimeout(() => {\n        Controller.removeHandler(PAGE_ID);\n      }, 300);\n    } else {\n      // Side panel is closing - restore selector class\n      const items = document.querySelectorAll(\n        '.history-row[data-was-selector=\"true\"]'\n      );\n      items.forEach((item) => {\n        item.classList.add(\"selector\");\n        item.removeAttribute(\"data-was-selector\");\n      });\n\n      // Restore main page navigation\n      setTimeout(() => {\n        bindEvents();\n\n        // If we have an explicit focus target (e.g. after removing an item), prefer it.\n        // Also avoid restoring a stale Navigator collection that may contain removed nodes.\n        if (pendingRestoreFocusId.value) {\n          const targetId = pendingRestoreFocusId.value;\n          pendingRestoreFocusId.value = null;\n          savedFocusedElement.value = null;\n          savedNavigatorCollection.value = null;\n\n          // setupNavigation focuses lastFocusedId on a timer; make it focus our target.\n          const elementId = document.getElementById(targetId)\n            ? targetId\n            : \"app-bar-back\";\n          Controller.setLastFocused({ pageId: PAGE_ID, elementId });\n          Controller.setupNavigation({ pageId: PAGE_ID });\n          return;\n        }\n\n        // Restore Navigator collection if we saved it\n        if (savedNavigatorCollection.value) {\n          Navigator.setCollection(savedNavigatorCollection.value);\n          const savedCollection = savedNavigatorCollection.value;\n          savedNavigatorCollection.value = null;\n\n          // Restore focus to the saved element\n          if (savedFocusedElement.value) {\n            const element = savedFocusedElement.value;\n            if (\n              element &&\n              document.contains(element) &&\n              savedCollection.indexOf(element) !== -1\n            ) {\n              Navigator.focus(element);\n            } else {\n              console.warn(\n                \"TvFavorites: Saved element not available, using default focus\"\n              );\n              Controller.setupNavigation({ pageId: PAGE_ID });\n            }\n            savedFocusedElement.value = null;\n          } else {\n            Controller.setupNavigation({ pageId: PAGE_ID });\n          }\n        } else {\n          Controller.setupNavigation({ pageId: PAGE_ID });\n        }\n      }, 100);\n    }\n  }\n);\n\nasync function onMenuItemSelected(item) {\n  console.log(\n    `onMenuItemSelected: action=${item.id} uri=${selectedItem.value?.uri}`\n  );\n  if (selectedItem.value) {\n    if (item.id === \"open\") {\n      openItem(selectedItem.value);\n    } else if (item.id === \"remove-from-favorites\") {\n      // Compute where focus should go after removal:\n      // - focus previous item\n      // - if removing first, focus the new first (old second)\n      // - if no items left, focus back button\n      const index = favoritesItems.value.findIndex(\n        (a) => a.id === selectedItem.value?.id\n      );\n      let focusTarget = null;\n      if (index > 0) {\n        focusTarget = favoritesItems.value[index - 1];\n      } else if (index === 0 && favoritesItems.value.length > 1) {\n        focusTarget = favoritesItems.value[1];\n      }\n      pendingRestoreFocusId.value = focusTarget\n        ? idForItem(focusTarget)\n        : \"app-bar-back\";\n\n      await removeFromFavorites(selectedItem.value);\n      await nextTick();\n    }\n  }\n\n  setTimeout(closeMenu, 0);\n}\n\nonMounted(async () => {\n  await reloadFavorites();\n  await nextTick();\n  bindEvents();\n\n  // Default focus: if we have items, focus the first one on initial mount.\n  if (favoritesItems.value.length > 0) {\n    Controller.setLastFocused({\n      pageId: PAGE_ID,\n      elementId: idForItem(favoritesItems.value[0]),\n    });\n  }\n  Controller.setupNavigation({ pageId: PAGE_ID });\n\n  loading.value = false;\n\n  // periodic reload\n  updateFavoritesTimer = setInterval(reloadFavorites, 10000);\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n  if (updateFavoritesTimer) {\n    clearInterval(updateFavoritesTimer);\n    updateFavoritesTimer = null;\n  }\n});\n</script>\n\n<template>\n  <v-container\n    class=\"as-page scroll__content\"\n    ref=\"scrollContentRef\"\n    :class=\"{ invisible: loading }\"\n  >\n    <div class=\"empty\" v-if=\"!loading && favoritesItems.length === 0\">\n      {{ $t(\"favorites_empty\") }}\n    </div>\n\n    <div v-else class=\"scroll__body\" ref=\"scrollBodyRef\">\n      <div\n        v-for=\"item in favoritesItems\"\n        :key=\"item.id\"\n        class=\"history-row selector\"\n        :id=\"idForItem(item)\"\n        tabindex=\"0\"\n        v-focus=\"{\n          id: idForItem(item),\n          enabled: !mainStore.preventFocus,\n          nextFunc: (direction) => getFocusFor(item.id, direction),\n        }\"\n        @click=\"onItemPress(item)\"\n        @focus=\"(e) => onfocus(item, e)\"\n      >\n        <div class=\"history-row__title\">{{ item.title }}</div>\n        <div class=\"history-row__uri\" v-if=\"isHttpUrl(item.uri)\">{{ item.uri }}</div>\n      </div>\n    </div>\n\n    <!--\n    <side-menu\n      v-if=\"mainStore.sidePanelVisible\"\n      :selectedItem=\"selectedItem\"\n      @action=\"onMenuItemSelected\"\n    />\n    -->\n    <transition>\n      <SideMenu\n        v-if=\"mainStore.sidePanelVisible\"\n        :scrollOnFocus=\"false\"\n        :animationDuration=\"100\"\n        :items=\"menuItems\"\n        @item-selected=\"onMenuItemSelected\"\n        @cancel=\"closeMenu\"\n      />\n    </transition>\n\n  </v-container>\n</template>\n\n<style scoped lang=\"scss\">\n.as-page {\n  &.invisible {\n    opacity: 0;\n  }\n}\n\n.scroll {\n  &__content {\n    height: calc(100vh - 64px);\n    overflow: hidden;\n  }\n\n  &__body {\n    transition: transform 0.3s linear;\n    margin: 0 64px;\n  }\n}\n\n.empty {\n  padding: 0 20px;\n  font-size: 18px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  font-weight: 300;\n}\n\n.history-row {\n  padding: 14px 18px;\n  border-radius: 14px;\n  margin-bottom: 10px;\n\n  &:focus,\n  &.focus {\n    background-color: white;\n    color: black;\n    border-radius: 3.5em;\n\n    .history-row__uri {\n      height: 18px;\n      opacity: 1;\n      transition: none;\n    }\n  }\n\n  &__title {\n    font-size: 16px;\n    overflow: hidden;\n    -o-text-overflow: \".\";\n    text-overflow: \".\";\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    line-clamp: 1;\n    -webkit-box-orient: vertical;\n    line-break: anywhere;\n  }\n\n  &__uri {\n    font-size: 12px;\n    margin-top: 0px;\n    overflow: hidden;\n    -o-text-overflow: \".\";\n    text-overflow: \".\";\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    line-clamp: 1;\n    -webkit-box-orient: vertical;\n    line-break: anywhere;\n    height: 0;\n    opacity: 0;\n\n    transition: height 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n  }\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavorites.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavorites.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvFavorites.vue?vue&type=template&id=f5e1301a&scoped=true&\"\nimport script from \"./TvFavorites.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvFavorites.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./TvFavorites.vue?vue&type=style&index=0&id=f5e1301a&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5e1301a\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport TvFavoritesNeedPremium from \"@/pages/favorites-tv/TvFavoritesNeedPremium.vue\";\nimport TvFavorites from \"@/pages/favorites-tv/TvFavorites.vue\";\n\n// stores\nconst authStore = useAuthStore();\n</script>\n\n<script>\nimport * as MainStoreModule from \"@/stores/main\";\n\nexport default {\n  beforeRouteLeave(to, from, next) {\n    const mainStore = MainStoreModule.useMainStore();\n    if (mainStore.sidePanelVisible) {\n      window.dispatchEvent(new CustomEvent(\"customBackPressed\"));\n      next(false);\n    } else {\n      next();\n    }\n  },\n};\n</script>\n\n<template>\n  <TvFavorites v-if=\"authStore.hasPremium\" />\n  <TvFavoritesNeedPremium v-else />\n</template>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./TvFavoritesScreen.vue?vue&type=template&id=e1b12298&\"\nimport script from \"./TvFavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./TvFavoritesScreen.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-container fill-height d-flex flex-column justify-center align-center\"},[(_setup.hasNotification)?_c('div',{staticClass:\"notification-container\"},[_c('div',{staticClass:\"notification\"},[(_setup.mainStore.appNotification.contentUrl)?_c('iframe',{staticClass:\"notification__iframe\",style:({ height: _setup.mainStore.appNotification.contentHeight ?? '96px' }),attrs:{\"src\":_setup.mainStore.appNotification.contentUrl}}):_vm._e(),_c('div',{staticClass:\"notification__buttons\"},[(_setup.mainStore.appNotification.actions?.button_1)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'notification-button-1', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'notification-button-1', enabled: !mainStore.preventFocus }\"}],staticClass:\"selector\",attrs:{\"text\":\"\",\"id\":\"notification-button-1\"},on:{\"click\":function($event){return _setup.notificationButtonClicked(_setup.mainStore.appNotification, 1)}}},[_vm._v(\" \"+_vm._s(_setup.mainStore.appNotification.actions.button_1.title)+\" \")]):_vm._e(),(_setup.mainStore.appNotification.actions?.button_2)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'notification-button-2', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'notification-button-2', enabled: !mainStore.preventFocus }\"}],staticClass:\"selector\",attrs:{\"text\":\"\",\"id\":\"notification-button-2\"},on:{\"click\":function($event){return _setup.notificationButtonClicked(_setup.mainStore.appNotification, 2)}}},[_vm._v(\" \"+_vm._s(_setup.mainStore.appNotification.actions.button_2.title)+\" \")]):_vm._e()],1)])]):_vm._e(),_c('div',{staticClass:\"buttons-container\"},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'dashboard-button-play', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'dashboard-button-play', enabled: !mainStore.preventFocus }\"}],key:\"dashboard-button-play\",class:['selector', 'button', { 'button-last': !_setup.mainStore.historySupported && !_setup.mainStore.favoritesSupported }],attrs:{\"id\":\"dashboard-button-play\"},on:{\"click\":function($event){return _setup.openSendCast()}}},[_c('div',{staticClass:\"icon icon--play\"}),_c('div',{staticClass:\"label\"},[_vm._v(\" Play \")])]),(_setup.mainStore.favoritesSupported)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'dashboard-button-favorites', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'dashboard-button-favorites', enabled: !mainStore.preventFocus }\"}],key:\"dashboard-button-favorites\",class:['selector', 'button', { 'button-last': !_setup.mainStore.historySupported }],attrs:{\"id\":\"dashboard-button-favorites\"},on:{\"click\":function($event){return _setup.openFavorites()}}},[_c('div',{staticClass:\"icon icon--favorites\"}),_c('div',{staticClass:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('favorites'))+\" \")])]):_vm._e(),(_setup.mainStore.historySupported)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'dashboard-button-history', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'dashboard-button-history', enabled: !mainStore.preventFocus }\"}],key:\"dashboard-button-history\",staticClass:\"selector button button-last\",attrs:{\"id\":\"dashboard-button-history\"},on:{\"click\":function($event){return _setup.openHistory()}}},[_c('div',{staticClass:\"icon icon--history\"}),_c('div',{staticClass:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('history'))+\" \")])]):_vm._e()],1),(_setup.externalPageVisible)?_c(_setup.ExternalPage,{attrs:{\"url\":_setup.externalPageUrl},on:{\"close\":function($event){return _setup.hideExternalPage()}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// const LOG_DISABLED = -1\nconst LOG_ERROR = 0\n// const LOG_WARN = 1\nconst LOG_INFO = 2\nconst LOG_DEBUG = 3\nconst LOG_VERBOSE = 4\n\n// for testing: TODO: set this during build\nconst LOG_LEVEL = LOG_VERBOSE\nexport const LOG_DEV = false\n\nfunction log(level, tag, msg, vars={}) {\n    if (level <= LOG_LEVEL) {\n        let full = `${tag}:${msg}`\n        if (level === LOG_ERROR) {\n            full = 'ERROR:' + full\n        }\n\n        const varList = []\n        for (const name in vars) {\n            let value\n            if (vars[name] instanceof Error) {\n                value = vars[name].message\n            } else {\n                value = JSON.stringify(vars[name])\n            }\n            varList.push(`${name}=${value}`)\n        }\n\n        if (varList.length > 0) {\n            full += ': ' + varList.join(' ')\n        }\n\n        const method = (level === LOG_ERROR) ? 'error' : 'log'\n\n        console[method](full)\n    }\n}\n\nexport function logerror(tag, msg, vars={}) {\n    if (LOG_LEVEL >= LOG_ERROR) {\n        log(LOG_ERROR, tag, msg, vars)\n    }\n}\n\nexport function loginfo(tag, msg, vars={}) {\n    if (LOG_LEVEL >= LOG_INFO) {\n        log(LOG_INFO, tag, msg, vars)\n    }\n}\n\nexport function logdebug(tag, msg, vars={}) {\n    if (LOG_LEVEL >= LOG_DEBUG) {\n        log(LOG_DEBUG, tag, msg, vars)\n    }\n}\n\nexport function logverbose(tag, msg, vars={}) {\n    if (LOG_LEVEL >= LOG_VERBOSE) {\n        log(LOG_VERBOSE, tag, msg, vars)\n    }\n}\n\nexport function logdev(tag, msg, vars={}) {\n    if (LOG_DEV && LOG_LEVEL >= LOG_VERBOSE) {\n        log(LOG_VERBOSE, tag, msg, vars)\n    }\n}\n","import axios from \"axios\";\n\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { logerror, logverbose } from '@/utils/logger'\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\n\n\nconst TAG = 'AppNotificationManager'\n\nconst VERBOSE = true\nconst STORAGE_KEY = 'app_notifications'\n\nconst UPDATE_INTERVAL = 3600000;\n\nexport class AppNotificationManager {\n    static #instance = null\n\n    static getInstance() {\n        if (AppNotificationManager.#instance === null) {\n            AppNotificationManager.#instance = new AppNotificationManager()\n        }\n\n        return AppNotificationManager.#instance\n    }\n\n    #notifications;\n    #updatedAt;\n    #events;\n\n    constructor() {\n    }\n\n    async init() {\n        this.load()\n        await this.update();\n\n        // If we were not synced before - wait for promise.\n        // Otherwise - use saved state\n        const promise = this.getFromBackend();\n        if (!this.#updatedAt) {\n            logverbose(TAG, `init: wait for sync`);\n            const t = Date.now();\n            await promise;\n            logverbose(TAG, `init: wait for sync done in ${Date.now() - t}ms`);\n        } else {\n            logverbose(TAG, `init: do not wait for sync`);\n        }\n        setInterval(() => this.getFromBackend(), UPDATE_INTERVAL);\n    }\n\n    async getFromBackend() {\n        const domains = [\n            'notifications.acestream.media',\n            'android.acestream.net',\n        ];\n        for (const domain of domains) {\n            const success = await this.getFromBackendImpl(domain);\n            if (success) {\n                break;\n            }\n        }\n    }\n\n    async getFromBackendImpl(domain) {\n        try {\n            const authStore = useAuthStore();\n            const mainStore = useMainStore();\n            const params = {\n                appId: mainStore.applicationId,\n                appVersion: mainStore.applicationVersionCode,\n                locale: mainStore.locale,\n                isTv: mainStore.isTv ? 1 : 0,\n                hasBrowser: mainStore.hasBrowser ? 1 : 0,\n                hasMarketApp: mainStore.hasMarketApp ? 1 : 0,\n                hasPremium: authStore.hasPremium ? 1 : 0,\n                type: 'banner,fullscreen',\n            }\n            const response = await axios.get(`https://${domain}/api/v1/app-notifications`, { params });\n            this.sync(response.data.notifications);\n            this.#events = response.data.events;\n\n            return true;\n        } catch (e) {\n            logerror(TAG, `getAppNotifications:error: ${e.message}`)\n            return false;\n        }\n    }\n\n    /**\n     * Sync data from backend\n     */\n    sync(notifications) {\n        logverbose(TAG, `sync: got ${notifications.length} notifications`);\n\n        const toRemove = new Set(Object.keys(this.#notifications));\n\n        for (const notification of notifications) {\n            if (!this.#notifications[notification.id]) {\n                this.addNotification(notification)\n            } else {\n                this.updateNotification(notification)\n            }\n            toRemove.delete(notification.id);\n        }\n\n        for (const id of toRemove) {\n            this.removeNotification(id)\n        }\n\n        this.persist()\n        this.update()\n    }\n\n    /**\n     * Update visible notifications and notify app\n     */\n    async update() {\n        // logverbose(TAG, `update:1: time=${Date.now() - window.appStartTime}`);\n\n        const mainStore = useMainStore();\n        const bannerNotifications = [];\n        const fullscreenNotifications = [];\n\n        for (const meta of Object.values(this.#notifications)) {\n            if (await this.shouldShow(meta)) {\n                if (VERBOSE) {\n                    logverbose(TAG, `update: add notification: id=${meta.notification.id} type=${meta.notification.type}`)\n                }\n\n                if (meta.notification.type === 'banner') {\n                    bannerNotifications.push(meta)\n                } else if (meta.notification.type === 'fullscreen') {\n                    fullscreenNotifications.push(meta)\n                } else {\n                    logerror(TAG, `update: unknown notification type: ${meta.notification.type}`);\n                }\n            }\n        }\n\n        // logverbose(TAG, `update:2: time=${Date.now() - window.appStartTime}`);\n\n        mainStore.setBannerNotifications(bannerNotifications);\n        mainStore.setFullscreenNotifications(fullscreenNotifications);\n    }\n\n    async shouldShow(meta) {\n        try {\n            return await this.shouldShowUnsafe(meta)\n        } catch (e) {\n            logerror(TAG, `shouldShow:error: ${e.message}`)\n            return false\n        }\n    }\n\n    async shouldShowUnsafe(meta) {\n        const notification = meta.notification\n\n        if (meta.dismissedCount > 0) {\n            //TODO: add extended dismiss rules\n            if (VERBOSE) {\n                logverbose(TAG, `skip dismissed notification: id=${notification.id} dismissedCount=${meta.dismissedCount}`)\n            }\n            return false\n        }\n\n        if (notification.conditions) {\n            if (!(await this.checkConditions(notification.conditions))) {\n                if (VERBOSE) {\n                    logverbose(TAG, `shouldShowUnsafe: conditions are not met: id=${notification.id} conditions=${JSON.stringify(notification.conditions)}`)\n                }\n                return false\n            } else {\n                if (VERBOSE) {\n                    logverbose(TAG, `shouldShowUnsafe: conditions are met: id=${notification.id} conditions=${JSON.stringify(notification.conditions)}`)\n                }\n            }\n        }\n\n        return true\n    }\n\n    async checkConditions(conditions) {\n        if (conditions.or) {\n            for (const condition of conditions.or) {\n                if (await this.checkSingleCondition(condition)) {\n                    return true\n                }\n            }\n            return false\n        } else if (conditions.and) {\n            for (const condition of conditions.or) {\n                if (!(await this.checkSingleCondition(condition))) {\n                    return false\n                }\n            }\n            return true\n        } else {\n            throw new Error('Unsupported conditions')\n        }\n    }\n\n    async checkSingleCondition(condition) {\n        switch (condition.type) {\n            case 'app-not-installed': {\n                const { result } = await AceStreamApp.isAppInstalled({\n                  packageName: condition.value,\n                });\n                return !result;\n            }\n\n            case 'app-installed': {\n                const { result } = await AceStreamApp.isAppInstalled({\n                  packageName: condition.value,\n                });\n                return result;\n            }\n\n            default:\n                throw new Error(`Unknown condition type: ${condition.type}`)\n        }\n    }\n\n    addNotification(notification) {\n        logverbose(TAG, `addNotification: id=${notification.id}`)\n\n        if (this.#notifications[notification.id]) {\n            throw new Error(`addNotification: already exists: id=${notification.id}`)\n        }\n\n        this.#notifications[notification.id] = {\n            notification,\n            dismissedAt: 0,\n            dismissedCount: 0,\n        }\n    }\n\n    updateNotification(notification) {\n        logverbose(TAG, `updateNotification: id=${notification.id}`)\n        this.assertExists(notification.id)\n        this.#notifications[notification.id].notification = notification\n    }\n\n    assertExists(id) {\n        if (!this.#notifications[id]) {\n            throw new Error(`assertExists: not exists: id=${id}`)\n        }\n    }\n\n    removeNotification(id) {\n        logverbose(TAG, `update: remove notification ${id}`)\n        delete this.#notifications[id]\n    }\n\n    dismissNotification(id) {\n        logverbose(TAG, `dismissNotification: id=${id}`)\n        this.assertExists(id)\n        this.#notifications[id].dismissedAt = Date.now()\n        this.#notifications[id].dismissedCount += 1\n        this.persist()\n        this.update()\n    }\n\n    load() {\n        this.#notifications = {}\n        this.#updatedAt = 0\n\n        try {\n            const data = window.localStorage.getItem(STORAGE_KEY)\n            if (data) {\n                const payload = JSON.parse(data)\n                this.#notifications = payload.notifications\n                this.#updatedAt = payload.updatedAt\n            }\n        } catch (e) {\n            logerror(TAG, `load:error: ${e.message}`)\n        }\n    }\n\n    persist() {\n        try {\n            const payload = {\n                version: 1,\n                updatedAt: Date.now(),\n                notifications: this.#notifications,\n            }\n            const raw = JSON.stringify(payload)\n            window.localStorage.setItem(STORAGE_KEY, raw)\n        } catch (e) {\n            logerror(TAG, `persist:error: ${e.message}`)\n        }\n    }\n\n    registerNotificationImpression(where, notification) {\n        this.sendEvent('impression', where, notification)\n    }\n\n    registerNotificationClick(where, notification, action) {\n        this.sendEvent('click', where, notification, action)\n    }\n\n    sendEvent(type, where, notification, action=null) {\n        const urls = [\n            ...this.getEventUrls(this.#events, type),\n            ...this.getEventUrls(notification.events, type),\n        ]\n\n        for (const url of urls) {\n            let requestUrl = url\n            requestUrl = requestUrl.replace('[where]', where)\n            requestUrl = requestUrl.replace('[unitId]', notification.id)\n            requestUrl = requestUrl.replace('[action]', action ?? '')\n\n            axios.get(requestUrl)\n                .then(() => {\n                    logverbose(TAG, `sendEvent:done: url=${requestUrl}`)\n                })\n                .catch((error) => {\n                    logerror(TAG, `sendEvent:error: ${error}`)\n                })\n        }\n    }\n\n    getEventUrls(events, type) {\n        if (!events) {\n            return [];\n        }\n\n        switch (type) {\n            case 'impression':\n                return events.impression ?? [];\n\n            case 'click':\n                return events.click ?? [];\n\n            default:\n                return [];\n        }\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"external-page-container fill-height\"},[_c('div',{staticClass:\"as-overlay\"}),_c('iframe',{ref:\"iframeRef\",attrs:{\"src\":_vm.url}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useAppsStore } from \"@/stores/apps\";\nimport { useMainStore } from \"@/stores/main\";\nimport Controller from \"@/lib/controller\";\n\n\nconst props = defineProps(['url', 'closeOnBack']);\nconst emit = defineEmits([\"close\"]);\n\n// stores\nconst appsStore = useAppsStore();\nconst mainStore = useMainStore();\n\n// refs\nconst iframeRef = ref(null);\n\n// computed\nconst targetOrigin = computed(() => {\n    const urlObject = new URL(props.url);\n    return urlObject.origin;\n});\n\n// lifecycle\nonMounted(() => {\n    console.log(`ext-page:mounted: time=${Date.now() - window.appStartTime}`);\n    bindEvents();\n    Controller.pause();\n\n    if (props.closeOnBack) {\n        mainStore.currentInteractive = {\n            cancel: () => close(),\n        };\n    }\n});\n\nonBeforeUnmount(() => {\n    console.log(`ext-page:unmount`);\n    unbindEvents();\n    Controller.resume();\n    if (props.closeOnBack) {\n        mainStore.currentInteractive = null;\n    }\n});\n\n// methods\nasync function frameEventListener(event) {\n    // security check\n    if (event.origin !== targetOrigin.value) {\n        console.error(`iframe-event: block event from unknown origin: ${event.origin}`)\n        return;\n    }\n\n    //console.log(`iframe-event: ${JSON.stringify(event.data)}`);\n\n    if (!event.data.type) {\n        console.error(`iframe-event: missing event type`)\n        return;\n    }\n\n    switch (event.data.type) {\n        case 'ready':\n            break\n\n        case 'close':\n            close()\n            break\n\n        // case 'openApkInstallDialog':\n        //     this.resetControllerOnDestroy = false\n        //     this.notifyClosedOnDestroy = false\n        //     appController.standBy(false)\n        //     appController.openApkInstallDialog(event.data.data, { standalone: this.standalone })\n        //     break\n\n        case 'openIntent': {\n            const data = event.data.data;\n            AceStreamApp.startActivity({\n                action: data.action,\n                category: data.category,\n                data: data.data,\n                type: data.type,\n            });\n            break;\n        }\n\n        case 'install': {\n            const data = event.data.data;\n            await AceStreamApp.installAppClicked({\n                packageName: data.packageId,\n            });\n            appsStore.installingPackageId = data.packageId;\n            close();\n            break;\n        }\n\n        case 'openBrowser': {\n            const data = event.data.data;\n            AceStreamApp.openBrowser({\n                url: data.url,\n            });\n            break;\n        }\n\n        case 'installFromMarket': {\n            const data = event.data.data;\n            AceStreamApp.installFromMarket({\n                packageId: data.packageId,\n            });\n            break;\n        }\n\n        default:\n            console.error(`iframe-event: unknown event: ${event.data.type}`)\n            break\n    }\n}\n\nfunction keyboardEventListener(event) {\n    sendFrameMessage({\n        type: event.type,\n        key: event.key,\n        code: event.code,\n    })\n}\n\nfunction sendFrameMessage(msg) {\n    if (!iframeRef.value) {\n        console.error(`sendFrameMessage: missing iframe`);\n        return\n    }\n\n    iframeRef.value.contentWindow.postMessage(msg, targetOrigin.value);\n}\n\nfunction bindEvents() {\n    window.addEventListener('message', frameEventListener);\n    window.addEventListener('keydown', keyboardEventListener);\n    window.addEventListener('keyup', keyboardEventListener);\n}\n\nfunction unbindEvents() {\n    window.removeEventListener('message', frameEventListener);\n    window.removeEventListener('keydown', keyboardEventListener);\n    window.removeEventListener('keyup', keyboardEventListener);\n}\n\nfunction close() {\n    emit('close');\n}\n</script>\n\n<template>\n    <div class=\"external-page-container fill-height\">\n        <div class=\"as-overlay\"></div>\n        <iframe :src=\"url\" ref=\"iframeRef\"></iframe>\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n.external-page-container {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n\n    background-image: url(../assets/img/background_v4_portrait.webp);\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    @media (min-aspect-ratio: 1/1) {\n        background-image: url(../assets/img/background_v4_landscape.webp);\n    }\n\n    .as-overlay {\n      background-color: rgb(0, 0, 0, 0.5);\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n\n      .is-tv & {\n        background-color: rgb(0, 0, 0, 0.75);\n      }\n    }\n\n    iframe {\n        width: 100%;\n        height: 100%;\n        border: 0;\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPage.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPage.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ExternalPage.vue?vue&type=template&id=4979ca24&scoped=true&\"\nimport script from \"./ExternalPage.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ExternalPage.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./ExternalPage.vue?vue&type=style&index=0&id=4979ca24&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4979ca24\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { onMounted, onBeforeUnmount, ref, computed, getCurrentInstance } from \"vue\";\nimport { useAppsStore } from \"@/stores/apps\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport Controller from \"@/lib/controller\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { initAdManager, waitTcfApi } from \"@/lib/cmp\";\nimport { AppNotificationManager } from \"@/lib/AppNotificationManager\";\nimport ExternalPage from \"@/components/ExternalPage\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n// variables\nconst PAGE_ID = 'dashboard';\n\nlet canSaveFocus = [\n  'app-bar-dashboard',\n  'dashboard-button-play',\n  'dashboard-button-history',\n  'dashboard-button-favorites',\n];\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst appsStore = useAppsStore();\nconst mainStore = useMainStore();\nconst authStore = useAuthStore();\n\n// refs\nconst externalPageVisible = ref(false);\nconst externalPageUrl = ref('');\n\n// computed\nconst hasNotification = computed(() => mainStore.appNotification);\n\n// lifecycle\nonMounted(() => {\n  Controller.setupNavigation({ pageId: PAGE_ID });\n  AceStreamApp.homeScreenReady();\n  handleGdprConsent();\n  bindEvents();\n});\n\nonBeforeUnmount(() => {\n  unbindEvents();\n});\n\n// methods\nfunction onFocus(event) {\n  console.log(`dash:focus: id=${event.elem.id}`)\n  if (canSaveFocus.indexOf(event.elem.id) !== -1) {\n    Controller.setLastFocused({ pageId: PAGE_ID, elementId: event.elem.id });\n  }\n}\n\nfunction bindEvents() {\n  Navigator.follow('focus', onFocus);\n  Controller.setHandler(PAGE_ID, {\n    down: (e) => {\n      if (e.target?.id === 'app-bar-dashboard') {\n        const notificationButton1 = document.getElementById('notification-button-1');\n        if (hasNotification.value && notificationButton1) {\n          Navigator.add(notificationButton1);\n          Navigator.focus(notificationButton1);\n        } else {\n          Navigator.focus(document.getElementById('dashboard-button-play'));\n        }\n      } else if (e.target?.id === 'notification-button-1') {\n        Navigator.focus(document.getElementById('dashboard-button-play'));\n      }\n    },\n    up: (e) => {\n      if (\n        e.target?.id === 'dashboard-button-play' ||\n        e.target?.id === 'dashboard-button-history' ||\n        e.target?.id === 'dashboard-button-favorites'\n      ) {\n        const notificationButton1 = document.getElementById('notification-button-1');\n        if (hasNotification.value && notificationButton1) {\n          Navigator.add(notificationButton1);\n          Navigator.focus(notificationButton1);\n        } else {\n          Navigator.focus(document.getElementById('app-bar-dashboard'));\n        }\n      }  else if (e.target?.id === 'notification-button-1') {\n        Navigator.focus(document.getElementById('app-bar-dashboard'));\n      }\n    },\n    enter: (e) => {\n      if (e.target?.id === 'app-bar-dashboard') {\n        Navigator.focus(document.getElementById('dashboard-button-play'));\n      }\n    }\n  });\n}\n\nfunction unbindEvents() {\n  Navigator.removeListener('focus', onFocus);\n  Controller.removeHandler(PAGE_ID);\n}\n\nasync function handleGdprConsent() {\n  try {\n    initAdManager();\n    await waitTcfApi();\n\n    window.__tcfapi(\"addEventListener\", 2, (tcData, success) => {\n      if (success) {\n        if (\n          tcData.eventStatus === \"useractioncomplete\" ||\n          tcData.eventStatus === \"tcloaded\"\n        ) {\n          Controller.resume();\n        } else if (tcData.eventStatus === \"cmpuishown\") {\n          // Disable custom navigation while consent dialog is visible\n          Controller.pause();\n\n          // Focus \"Consent\" button\n          const btn = document.querySelector(\".fc-cta-consent\");\n          if (btn) {\n            btn.focus();\n          }\n        }\n      }\n    });\n  } catch (e) {\n    console.log(`handleGdprConsent:error: ${e?.message}`);\n  }\n}\n\nasync function notificationButtonClicked(notification, buttonId) {\n  try {\n    const action = notification.actions[`button_${buttonId}`]\n    console.log(`notificationButtonClicked: buttonId=${buttonId} action=${JSON.stringify(action)}`);\n    AppNotificationManager.getInstance().registerNotificationClick('dashboard', notification, buttonId);\n    if (action) {\n      switch (action.type) {\n        case 'open-external-page':\n          showExternalPage(action.url);\n          break\n\n        case 'open-intent': {\n          await AceStreamApp.startActivity({\n            action: action.action,\n            category: action.category,\n            data: action.data,\n            type: action.dataType,\n          });\n          break;\n        }\n\n        case 'install': {\n          appsStore.installingPackageId = action.packageId;\n          appsStore.installingPackageName = action.packageName;\n          break;\n        }\n\n        case 'dismiss':\n          AppNotificationManager.getInstance().dismissNotification(notification.id)\n          break\n\n        default:\n          throw new Error(`Unknown action type: ${action.type}`)\n      }\n    }\n  } catch (e) {\n    console.error(`notificationButtonClicked:error: ${e.message}`);\n  }\n}\n\nfunction showExternalPage(url) {\n  externalPageUrl.value = url;\n  externalPageVisible.value = true;\n}\n\nfunction hideExternalPage() {\n  externalPageVisible.value = false;\n  externalPageUrl.value = '';\n}\n\nfunction openSendCast() {\n  $router.push({ name: 'acecast-server' })\n}\n\nfunction openHistory() {\n  if (!authStore.hasPremium) {\n    AceStreamApp.openResolverActivity({ mode: \"history\" });\n    return;\n  }\n  $router.push({ name: \"tv-history\" });\n}\n\nfunction openFavorites() {\n  if (!authStore.hasPremium) {\n    AceStreamApp.openResolverActivity({ mode: \"favorites\" });\n    return;\n  }\n  $router.push({ name: \"tv-favorites\" });\n}\n</script>\n\n<template>\n  <div class=\"page-container fill-height d-flex flex-column justify-center align-center\">\n    <div v-if=\"hasNotification\" class=\"notification-container\">\n      <div class=\"notification\">\n        <iframe\n          v-if=\"mainStore.appNotification.contentUrl\"\n          :src=\"mainStore.appNotification.contentUrl\"\n          :style=\"{ height: mainStore.appNotification.contentHeight ?? '96px' }\"\n          class=\"notification__iframe\"\n        />\n        <div class=\"notification__buttons\">\n          <the-button\n            v-if=\"mainStore.appNotification.actions?.button_1\"\n            text\n            id=\"notification-button-1\"\n            class=\"selector\"\n            v-focus=\"{ id: 'notification-button-1', enabled: !mainStore.preventFocus }\"\n            @click=\"notificationButtonClicked(mainStore.appNotification, 1)\"\n          >\n            {{ mainStore.appNotification.actions.button_1.title }}\n          </the-button>\n          <the-button\n            v-if=\"mainStore.appNotification.actions?.button_2\"\n            text\n            id=\"notification-button-2\"\n            class=\"selector\"\n            v-focus=\"{ id: 'notification-button-2', enabled: !mainStore.preventFocus }\"\n            @click=\"notificationButtonClicked(mainStore.appNotification, 2)\"\n          >\n            {{ mainStore.appNotification.actions.button_2.title }}\n          </the-button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"buttons-container\">\n      <!-- Open file -->\n      <the-button\n        id=\"dashboard-button-play\"\n        key=\"dashboard-button-play\"\n        :class=\"['selector', 'button', { 'button-last': !mainStore.historySupported && !mainStore.favoritesSupported }]\"\n        v-focus=\"{ id: 'dashboard-button-play', enabled: !mainStore.preventFocus }\"\n        @click=\"openSendCast()\"\n        >\n        <div class=\"icon icon--play\"></div>\n        <div class=\"label\">\n            Play\n          </div>\n      </the-button>\n\n      <!-- Favorites -->\n      <the-button\n        id=\"dashboard-button-favorites\"\n        key=\"dashboard-button-favorites\"\n        :class=\"['selector', 'button', { 'button-last': !mainStore.historySupported }]\"\n\n        v-if=\"mainStore.favoritesSupported\"\n        v-focus=\"{ id: 'dashboard-button-favorites', enabled: !mainStore.preventFocus }\"\n        @click=\"openFavorites()\"\n        >\n        <div class=\"icon icon--favorites\"></div>\n        <div class=\"label\">\n            {{ $t('favorites') }}\n          </div>\n      </the-button>\n\n      <!-- History -->\n      <the-button\n        id=\"dashboard-button-history\"\n        key=\"dashboard-button-history\"\n        class=\"selector button button-last\"\n        v-if=\"mainStore.historySupported\"\n        v-focus=\"{ id: 'dashboard-button-history', enabled: !mainStore.preventFocus }\"\n        @click=\"openHistory()\"\n        >\n        <div class=\"icon icon--history\"></div>\n        <div class=\"label\">\n            {{ $t('history') }}\n          </div>\n      </the-button>\n    </div>\n\n    <ExternalPage\n      v-if=\"externalPageVisible\"\n      :url=\"externalPageUrl\"\n      @close=\"hideExternalPage()\"\n      />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.page-container {\n  padding: 0 32px;\n  font-size: 14px;\n  //padding-top: 5%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.notification-container {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 48px;\n  width: 100%;\n  position: absolute;\n  top: 96px;\n  left: 0;\n\n  .notification {\n    width: 100%;\n    max-width: 75vw;\n    background-color: rgba(255, 255, 255, 0.2);\n    border-radius: 64px;\n    padding: 16px 32px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 720px;\n\n    &__iframe {\n      flex: 1;\n      width: 100%;\n      border: none;\n      border-radius: 0;\n      background: transparent;\n    }\n\n    &__buttons {\n      white-space: nowrap;\n      margin-left: 16px;\n    }\n  }\n}\n\n.buttons-container {\n  display: flex;\n  justify-content: center;\n}\n\n.button {\n  width: 110px !important;\n  height: 110px !important;\n  background-color: rgba(255, 255, 255, 0.2) !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 28px;\n  margin-right: 55px;\n\n  &.button-last {\n    margin-right: 0;\n  }\n\n  &::before {\n    display: none !important;\n  }\n\n  .icon {\n    position: relative;\n    background-size: contain;\n    width: 40px;\n    height: 40px;\n\n    &--play {\n      margin-left: 8px;\n      margin-top: 4px;\n      background-image: url(../../assets/img/icon_select_file.png);\n    }\n\n    &--history {\n      background-image: url(../../assets/img/icons/time.svg);\n    }\n\n    &--favorites {\n      margin-left: 8px;\n      background-image: url(../../assets/img/icons/favorites.svg);\n    }\n  }\n\n  .label {\n    position: absolute;\n    left: 50%;\n    top: 100%;\n    transform: translateX(-50%);\n    text-align: center;\n    //padding-top: 8px;\n    padding-top: 48px;\n    opacity: 0;\n    will-change: opacity;\n    transition: opacity 0.1s ease-in-out;\n  }\n\n  &.focus {\n    background-color: white !important;\n    color: white !important;\n\n    .label {\n      opacity: 1;\n    }\n\n    .icon {\n      &--play {\n        background-image: url(../../assets/img/icon_select_file_black.png);\n      }\n\n      &--history {\n        background-image: url(../../assets/img/icons/time_black.svg);\n      }\n\n      &--favorites {\n        // favorites.svg is white, so invert it on focused (white) background\n        background-image: url(../../assets/img/icons/favorites.svg);\n        filter: invert(1);\n      }\n    }\n  }\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardScreen.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardScreen.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./DashboardScreen.vue?vue&type=template&id=5d5ef454&scoped=true&\"\nimport script from \"./DashboardScreen.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./DashboardScreen.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./DashboardScreen.vue?vue&type=style&index=0&id=5d5ef454&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d5ef454\",\n  null\n  \n)\n\nexport default component.exports","import AccountScreen from \"@/pages/AccountScreen.vue\";\nimport MainScreenPlaceholder from \"@/pages/MainScreenPlaceholder.vue\";\nimport SignInScreen from \"@/pages/SignInScreen.vue\";\nimport SignInUsernameScreen from \"@/pages/SignInUsernameScreen.vue\";\nimport AceCastServerScreen from \"@/pages/acecast/AceCastServerScreen.vue\";\nimport AceCastClientScreen from \"@/pages/acecast/AceCastClientScreen.vue\";\nimport PremiumScreen from \"@/pages/premium-tv/PremiumScreen.vue\";\nimport PremiumWelcome from \"@/pages/premium/PremiumWelcome.vue\";\nimport PremiumPayment from \"@/pages/premium/PremiumPayment.vue\";\nimport NeedPremium from \"@/pages/notification/NeedPremium.vue\";\nimport TvAccountScreen from \"@/pages/tv-account/TvAccountScreen.vue\";\nimport LiveTvScreen from \"@/pages/livetv/LiveTvScreen.vue\";\nimport InputPanel from \"@/components/InputPanel.vue\";\nimport ExternalPlayer from \"@/pages/notification/ExternalPlayer.vue\";\nimport ExternalPlayerTv from \"@/pages/notification/ExternalPlayerTv.vue\";\nimport SelectExternalPlayer from \"@/pages/notification/SelectExternalPlayer.vue\";\nimport PlaylistNotification from \"@/pages/notification/PlaylistNotification.vue\";\nimport PlaylistNotificationTv from \"@/pages/notification/PlaylistNotificationTv.vue\";\nimport AceCastManualConnect from \"@/pages/acecast/AceCastManualConnect.vue\";\nimport AceCastAbout from \"@/pages/acecast/AceCastAbout.vue\";\nimport AceCastTroubleshooting from \"@/pages/acecast/AceCastTroubleshooting.vue\";\nimport AceCastTroubleshootingStep1 from \"@/pages/acecast/troubleshooting/WizardStep1.vue\";\nimport AceCastTroubleshootingStep2 from \"@/pages/acecast/troubleshooting/WizardStep2.vue\";\nimport AceCastTroubleshootingStep3 from \"@/pages/acecast/troubleshooting/WizardStep3.vue\";\nimport AceCastTroubleshootingStep4 from \"@/pages/acecast/troubleshooting/WizardStep4.vue\";\nimport AceCastTroubleshootingStep5 from \"@/pages/acecast/troubleshooting/WizardStep5.vue\";\nimport AceCastTroubleshootingStep6 from \"@/pages/acecast/troubleshooting/WizardStep6.vue\";\nimport AceCastTroubleshootingStep7 from \"@/pages/acecast/troubleshooting/WizardStep7.vue\";\nimport SelectServer from \"@/pages/engine-activation/SelectServer.vue\";\nimport SelectServerRemote from \"@/pages/engine-activation/SelectServerRemote.vue\";\nimport ActivationHelp from \"@/pages/engine-activation/ActivationHelp.vue\";\nimport ActivationInstallError from \"@/pages/engine-activation/ActivationInstallError.vue\";\nimport ConnectWelcome from \"@/pages/engine-activation/ConnectWelcome.vue\";\nimport ConnectToken from \"@/pages/engine-activation/ConnectToken.vue\";\nimport ConnectSuccess from \"@/pages/engine-activation/ConnectSuccess.vue\";\nimport ConnectErrorPort from \"@/pages/engine-activation/ConnectErrorPort.vue\";\nimport ConnectErrorVersion from \"@/pages/engine-activation/ConnectErrorVersion.vue\";\nimport ConnectErrorNetwork from \"@/pages/engine-activation/ConnectErrorNetwork.vue\";\nimport ConnectErrorNetworkStep1 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep1.vue\";\nimport ConnectErrorNetworkStep2 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep2.vue\";\nimport ConnectErrorNetworkStep3 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep3.vue\";\nimport ConnectErrorNetworkStep4 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep4.vue\";\nimport ConnectErrorNetworkStep5 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep5.vue\";\nimport ConnectErrorNetworkStep6 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep6.vue\";\nimport ConnectErrorNetworkStep7 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep7.vue\";\nimport ConnectErrorNetworkStep8 from \"@/pages/engine-activation/troubleshooting/connection/ConnectErrorNetworkStep8.vue\";\nimport TransfersScreen from \"@/pages/TransfersScreen.vue\";\nimport HistoryScreen from \"@/pages/HistoryScreen.vue\";\nimport TvHistoryScreen from \"@/pages/history-tv/TvHistoryScreen.vue\";\nimport FavoritesScreen from \"@/pages/FavoritesScreen.vue\";\nimport TvFavoritesScreen from \"@/pages/favorites-tv/TvFavoritesScreen.vue\";\nimport AceCastDashboardScreen from \"@/pages/acecast/DashboardScreen.vue\";\n\nexport const routes = [\n  {\n    name: \"main\",\n    path: \"/\",\n    component: MainScreenPlaceholder,\n    props: true,\n  },\n  {\n    name: \"input-panel\",\n    path: \"/input\",\n    component: InputPanel,\n  },\n  {\n    name: \"sign-in\",\n    path: \"/signin\",\n    component: SignInScreen,\n    props: { target: \"default\" },\n  },\n  {\n    name: \"sign-in-premium\",\n    path: \"/signin/premium\",\n    component: SignInScreen,\n    props: { target: \"premium\" },\n  },\n  {\n    name: \"sign-in-username\",\n    path: \"/signin/username\",\n    component: SignInUsernameScreen,\n    props: { target: \"default\" },\n  },\n  {\n    name: \"sign-in-username-premium\",\n    path: \"/signin/username/premium\",\n    component: SignInUsernameScreen,\n    props: { target: \"premium\" },\n  },\n  {\n    name: \"account\",\n    path: \"/account\",\n    component: AccountScreen,\n  },\n  {\n    name: \"acecast-server\",\n    path: \"/acecast/server\",\n    component: AceCastServerScreen,\n  },\n  {\n    name: \"acecast-dashboard\",\n    path: \"/acecast/dashboard\",\n    component: AceCastDashboardScreen,\n  },\n  {\n    name: \"acecast-client\",\n    path: \"/acecast/client\",\n    component: AceCastClientScreen,\n  },\n  {\n    name: \"premium-tv\",\n    path: \"/premium/tv\",\n    component: PremiumScreen,\n  },\n  {\n    name: \"premium-notification\",\n    path: \"/notification/premium\",\n    component: NeedPremium,\n  },\n  {\n    name: \"premium-welcome\",\n    path: \"/premium/welcome\",\n    component: PremiumWelcome,\n    props: { mode: \"default\" },\n  },\n  {\n    name: \"premium-payment-external\",\n    path: \"/premium/payment/external\",\n    component: PremiumWelcome,\n    props: { mode: \"payment\" },\n  },\n  {\n    name: \"premium-payment\",\n    path: \"/premium/payment\",\n    component: PremiumPayment,\n  },\n  {\n    name: \"tv-account\",\n    path: \"/account/tv\",\n    component: TvAccountScreen,\n  },\n  {\n    name: \"livetv\",\n    path: \"/livetv\",\n    component: LiveTvScreen,\n  },\n  {\n    name: \"external-player-notification\",\n    path: \"/notification/external-player\",\n    component: ExternalPlayer,\n  },\n  {\n    name: \"external-player-notification-tv\",\n    path: \"/notification/external-player/tv\",\n    component: ExternalPlayerTv,\n  },\n  {\n    name: \"select-external-player-notification\",\n    path: \"/notification/select-external-player\",\n    component: SelectExternalPlayer,\n  },\n  {\n    name: \"playlist-notification\",\n    path: \"/notification/playlist\",\n    component: PlaylistNotification,\n  },\n  {\n    name: \"playlist-notification-tv\",\n    path: \"/notification/playlist/tv\",\n    component: PlaylistNotificationTv,\n  },\n  {\n    name: \"history\",\n    path: \"/history\",\n    component: HistoryScreen,\n  },\n  {\n    name: \"tv-history\",\n    path: \"/history/tv\",\n    component: TvHistoryScreen,\n  },\n  {\n    name: \"favorites\",\n    path: \"/favorites\",\n    component: FavoritesScreen,\n  },\n  {\n    name: \"tv-favorites\",\n    path: \"/favorites/tv\",\n    component: TvFavoritesScreen,\n  },\n\n  {\n    path: \"/acecast/troubleshooting\",\n    component: AceCastTroubleshooting,\n    children: [\n      {\n        name: \"acecast-troubleshooting-step1\",\n        path: \"\",\n        component: AceCastTroubleshootingStep1,\n      },\n      {\n        name: \"acecast-troubleshooting-step2\",\n        path: \"step2\",\n        component: AceCastTroubleshootingStep2,\n      },\n      {\n        name: \"acecast-troubleshooting-step3\",\n        path: \"step3\",\n        component: AceCastTroubleshootingStep3,\n      },\n      {\n        name: \"acecast-troubleshooting-step4\",\n        path: \"step4\",\n        component: AceCastTroubleshootingStep4,\n      },\n      {\n        name: \"acecast-troubleshooting-step5\",\n        path: \"step5\",\n        component: AceCastTroubleshootingStep5,\n      },\n      {\n        name: \"acecast-troubleshooting-step6\",\n        path: \"step6\",\n        component: AceCastTroubleshootingStep6,\n      },\n      {\n        name: \"acecast-troubleshooting-step7\",\n        path: \"step7\",\n        component: AceCastTroubleshootingStep7,\n      },\n    ],\n  },\n  {\n    name: \"acecast-manual-connect\",\n    path: \"/acecast/manual-connect\",\n    component: AceCastManualConnect,\n  },\n  {\n    name: \"acecast-about\",\n    path: \"/acecast/about\",\n    component: AceCastAbout,\n  },\n  {\n    name: \"activation-help\",\n    path: \"/activation/help\",\n    component: ActivationHelp,\n  },\n  {\n    name: \"activation-install-error\",\n    path: \"/activation/install/error\",\n    component: ActivationInstallError,\n  },\n  {\n    name: \"activation-connect-welcome\",\n    path: \"/activation/connect/welcome\",\n    component: ConnectWelcome,\n  },\n  {\n    name: \"activation-connect-token\",\n    path: \"/activation/connect/token\",\n    component: ConnectToken,\n  },\n  {\n    name: \"activation-connect-success\",\n    path: \"/activation/connect/success\",\n    component: ConnectSuccess,\n  },\n  {\n    path: \"/activation/connect/error-network\",\n    component: ConnectErrorNetwork,\n    children: [\n      {\n        name: \"activation-connect-error-network-step1\",\n        path: \"\",\n        component: ConnectErrorNetworkStep1,\n      },\n      {\n        name: \"activation-connect-error-network-step2\",\n        path: \"step2\",\n        component: ConnectErrorNetworkStep2,\n      },\n      {\n        name: \"activation-connect-error-network-step3\",\n        path: \"step3\",\n        component: ConnectErrorNetworkStep3,\n      },\n      {\n        name: \"activation-connect-error-network-step4\",\n        path: \"step4\",\n        component: ConnectErrorNetworkStep4,\n      },\n      {\n        name: \"activation-connect-error-network-step5\",\n        path: \"step5\",\n        component: ConnectErrorNetworkStep5,\n      },\n      {\n        name: \"activation-connect-error-network-step6\",\n        path: \"step6\",\n        component: ConnectErrorNetworkStep6,\n      },\n      {\n        name: \"activation-connect-error-network-step7\",\n        path: \"step7\",\n        component: ConnectErrorNetworkStep7,\n      },\n      {\n        name: \"activation-connect-error-network-step8\",\n        path: \"step8\",\n        component: ConnectErrorNetworkStep8,\n      },\n    ],\n  },\n  {\n    name: \"activation-connect-error-port\",\n    path: \"/activation/connect/error-port\",\n    component: ConnectErrorPort,\n  },\n  {\n    name: \"activation-connect-error-version\",\n    path: \"/activation/connect/error-version\",\n    component: ConnectErrorVersion,\n  },\n  {\n    name: \"select-server\",\n    path: \"/select-server\",\n    component: SelectServer,\n  },\n  {\n    name: \"transfers\",\n    path: \"/transfers\",\n    component: TransfersScreen,\n  },\n  {\n    name: \"select-server-remote\",\n    path: \"/select-server/remote\",\n    component: SelectServerRemote,\n    props: true,\n  },\n];\n","export const mainState = {\n  isMock: true,\n  googleServiceAvailable: true,\n  isEngineInstalled: true,\n  historySupported: true,\n  favoritesSupported: true,\n  locale: \"ru\",\n  isTv: true,\n  applicationId: \"org.acestream.node\",\n  applicationVersionCode: 302170011,\n  engineState: \"RUNNING\",\n  engineHost: \"127.0.0.1\",\n  enginePort: 6878,\n  engineAccessToken: \"a\",\n  engineApiAccessToken:\n    \"60a5960d0bf76c8fe4ff911fd2df412963f7037b917355b651f00fe4afcf214e\",\n  useRemoteEngine: true,\n  auth: {\n    isAuthInProgress: false,\n    googleSignedIn: false,\n    googleLogin: null,\n    engineLogin: \"test2@acestream.net\",\n    authData: {\n      auth_level: 999,\n      package_name: \"Premium\",\n      package_color: \"blue\",\n      package_days_left: 27,\n      purse_amount: 350,\n      got_error: 0,\n    },\n    webViewAuthMethod: \"google\",\n    webViewAuthToken:\n      \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjU1YzE4OGE4MzU0NmZjMTg4ZTUxNTc2YmE3MjgzNmUwNjAwZThiNzMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3NzA5Njk4NTI2OS1jbjRlazNia3E0bDMxOXNrM2YwOHEzaDQyOTQzN2wwdi5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImF1ZCI6Ijc3MDk2OTg1MjY5LTRpcm4za3BkaHFvdmNnc2EyOHAxZzVkZnBxZmRwNjB1LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTA1MjgxMjI1OTcwNjk3OTMwOTE5IiwiZW1haWwiOiJhcGlzaGVsQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQW50b24gUGlzaGVsIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0p2endfLXNDMUI5Q0pzbVVuenllMks4eC05emJvQTRUTWhFM3ZmVy1CUD1zOTYtYyIsImdpdmVuX25hbWUiOiJBbnRvbiIsImZhbWlseV9uYW1lIjoiUGlzaGVsIiwibG9jYWxlIjoiZW4iLCJpYXQiOjE3MDg2MDk0MzUsImV4cCI6MTcwODYxMzAzNX0.pNQZv-e-eJREBwv-x-_Z8Igj2CdqVQw0CZobZp5BiG8FWnISCDdvALquW3XnChcU7nc-J5AdPW8D9Pi5npNGe_opkdU0PqCe-eirnDjBU8saVs6eXJlMPYG8GqxRNHv5yZk5yd_DIi_8hFTKziczK8irfryY2rTvTTC9M6cCJd8IcW_WmQ0Dfukzojsw6RywfQ2pgPp16MNp78vsphn9YD6uFWI0YA_-HO_7cGGrC9NzsHnPIpSxjtrGrlr3zH13humbU8q7OlufzPydCvuY-4kia52h9_DhH_TNujTuMvnLzhSjpOBFfsG3aBPzjypHXmhJ2T6ZVhGPiDMewuTxzQ\",\n  },\n  aceCastServer: {\n    host: \"192.168.1.126\",\n    port: 44011,\n    name: \"Mibox (AceCast)\",\n    websocketPort: 12345,\n  },\n  fileReceiver: {\n    transfers: [\n      {\n        id: \"transfer-1\",\n        filename: \"test_1.mp4\",\n        progress: 13,\n        completed: false,\n        failed: false,\n        created_at: 1000,\n      },\n      {\n        id: \"transfer-2\",\n        filename: \"test_2.mp4\",\n        progress: 100,\n        completed: true,\n        failed: false,\n        created_at: 2000,\n      },\n      {\n        id: \"transfer-3\",\n        filename: \"test_3.mp4\",\n        progress: 100,\n        completed: true,\n        failed: false,\n        created_at: 3000,\n      },\n    ],\n  },\n  videoPlayerState: {\n    running: true,\n    pip: true,\n  },\n};\n\nexport const installerAppsState = {\n  installed: [\n    {\n      packageName: \"org.test.installed.app1\",\n      name: \"Installed app 1\",\n      version: \"1.0.0\",\n    },\n    {\n      packageName: \"org.test.installed.app2\",\n      name: \"Installed app 2\",\n      version: \"1.0.0\",\n    },\n  ],\n  updates: [\n    {\n      packageName: \"org.test.updates.app1\",\n      name: \"Update app 1\",\n      version: \"1.0.0\",\n    },\n  ],\n  downloads: [\n    {\n      packageName: \"org.test.downloads.app1\",\n      name: \"Download app 1\",\n      version: \"1.0.0\",\n    },\n  ],\n  available: [\n    {\n      packageName: \"org.test.installed.app1\",\n      name: \"Installed app 1\",\n      version: \"1.0.0\",\n    },\n    {\n      packageName: \"org.test.installed.app2\",\n      name: \"Installed app 2\",\n      version: \"1.0.0\",\n    },\n    {\n      packageName: \"org.test.downloads.app1\",\n      name: \"Download app 1\",\n      version: \"1.0.0\",\n    },\n    {\n      packageName: \"org.test.available.app1\",\n      name: \"Available app 1\",\n      version: \"1.0.1\",\n    },\n  ],\n};\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\nimport colors from \"vuetify/lib/util/colors\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  theme: {\n    dark: true,\n    themes: {\n      dark: {\n        primary: colors.grey.lighten5,\n        // secondary: colors.red.lighten4,\n        // accent: colors.red.base,\n      },\n    },\n  },\n});\n","import Vue from \"vue\";\nimport VueI18n from \"vue-i18n\";\nimport enMessages from \"@/locales/en.json\";\n\nVue.use(VueI18n);\n\nconst numberFormats = {\n  en: {\n    currency: {\n      style: \"currency\",\n      currency: \"USD\",\n      notation: \"standard\",\n    },\n    decimal: {\n      style: \"decimal\",\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    },\n  },\n};\n\nexport const i18n = new VueI18n({\n  numberFormats,\n  locale: \"en\",\n  messages: {\n    en: enMessages,\n  },\n});\n\nconst loadedLanguages = [\"en\"]; // our default language that is preloaded\n\nfunction setI18nLanguage(lang) {\n  i18n.locale = lang;\n  // document.querySelector('html').setAttribute('lang', lang)\n  return lang;\n}\n\nexport async function loadLanguageAsync(lang) {\n  // If the same language\n  if (i18n.locale === lang) {\n    return Promise.resolve(setI18nLanguage(lang));\n  }\n\n  // If the language was already loaded\n  if (loadedLanguages.includes(lang)) {\n    return Promise.resolve(setI18nLanguage(lang));\n  }\n\n  // If the language hasn't been loaded yet\n  const messages = await import(\n    /* webpackChunkName: \"lang-[request]\" */ `@/locales/${lang}.json`\n  );\n  i18n.setLocaleMessage(lang, messages.default);\n  loadedLanguages.push(lang);\n  return setI18nLanguage(lang);\n}\n","import { watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useLinkDeviceStore } from \"@/stores/link-device\";\nimport { getLinkStatus } from \"@/lib/link-device\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\n\nlet checkTimer = null;\nlet ttlTimer = null;\n\nfunction clearTimers() {\n  if (checkTimer) {\n    clearInterval(checkTimer);\n  }\n  if (ttlTimer) {\n    clearTimeout(ttlTimer);\n  }\n}\n\nfunction requestNewCode() {\n  const store = useLinkDeviceStore();\n  store.requestCode({ force: true });\n}\n\nasync function checkLinkCode(code) {\n  try {\n    const response = await getLinkStatus(code);\n    if (response.auth_token) {\n      clearTimers();\n      authWithToken(response.auth_token);\n    }\n  } catch (e) {\n    if (e?.response?.status == 404) {\n      requestNewCode();\n    }\n    console.log(`Failed to get link status: ${e}`, e);\n  }\n}\n\nasync function authWithToken(token) {\n  const mainStore = useMainStore();\n  try {\n    AceStreamApp.signInToken({ token });\n  } catch (e) {\n    mainStore.showError(\"Failed to sign in\");\n  }\n}\n\nexport function watchLinkCode() {\n  const store = useLinkDeviceStore();\n\n  watch(\n    () => store.linkCode,\n    (code) => {\n      let ttl = 0;\n      if (store.linkCodeExpiresAt) {\n        ttl = store.linkCodeExpiresAt - Date.now();\n      }\n\n      console.log(`link code changed: code=${code} ttl=${ttl}`);\n\n      clearTimers();\n\n      if (code) {\n        checkTimer = setInterval(() => {\n          checkLinkCode(code);\n        }, 2500);\n      }\n      if (ttl) {\n        ttlTimer = setTimeout(() => {\n          console.log(\"Code expired, request new one\");\n          requestNewCode();\n        }, ttl);\n      }\n    }\n  );\n}\n","import { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { showPrivacyOptions } from \"@/lib/cmp\";\n\nexport function init(appPlugin, router) {\n  appPlugin.addListener(\"intent\", (event) => {\n    const mainStore = useMainStore();\n    const appUpdateStore = useAppUpdateStore();\n    const authStore = useAuthStore();\n\n    console.log(`got intent: ${JSON.stringify(event)}`);\n    // // Example url: https://beerswift.app/tabs/tabs2\n    // // slug = /tabs/tabs2\n    // const slug = event.url.split('.app').pop();\n\n    // // We only push to the route if there is a slug present\n    // if (slug) {\n    //   router.push({\n    //     path: slug,\n    //   });\n    // }\n\n    let requirePremium = false;\n\n    if (event?.action === \"org.acestream.action.EXTERNAL_PLAYER_DENIED\") {\n      console.log(\"external player denied\");\n      requirePremium = true;\n    } else if (\n      event?.action === \"org.acestream.action.open_profile_activity\" ||\n      event?.action === \"org.acestream.action.open_login_activity\"\n    ) {\n      router.push({ name: authStore.signedIn ? \"account\" : \"sign-in\" });\n    } else if (event?.data === \"acestream+app://request-premium/adblock\") {\n      requirePremium = true;\n    } else if (\n      event?.action === \"org.acestream.action.ACECAST_TROUBLESHOOTING\"\n    ) {\n      mainStore.lastIntent = event;\n      router.push({ name: \"acecast-troubleshooting-step1\" });\n    } else if (\n      event?.action === \"org.acestream.action.ACECAST_MANUAL_CONNECT\"\n    ) {\n      mainStore.lastIntent = event;\n      router.push({ name: \"acecast-manual-connect\" });\n    } else if (event?.action === \"org.acestream.action.ACECAST_ABOUT\") {\n      mainStore.lastIntent = event;\n      router.push({ name: \"acecast-about\" });\n    } else if (event?.action === \"org.acestream.action.SELECT_SERVER\") {\n      router.push({ name: \"select-server\" });\n    } else if (event?.action === \"org.acestream.action.REMOTE_ENGINE_FAILED\") {\n      //NOTE: on TV this intent is handled in java code\n      if (!mainStore.isTv) {\n        const currentRoute = router.app?.$route?.name;\n        if (currentRoute && !currentRoute.startsWith(\"activation\")) {\n          router.push({ name: \"activation-connect-error-network-step1\" });\n        }\n      }\n    } else if (\n      event?.action ===\n      \"org.acestream.action.ACTION_EXTERNAL_PLAYER_NOTIFICATION\"\n    ) {\n      AceStreamApp.ensureWebViewVisible();\n      mainStore.lastIntent = event;\n      router.push({ name: mainStore.isTv ? \"external-player-notification-tv\" : \"external-player-notification\" });\n    } else if (\n      event?.action ===\n      \"org.acestream.action.ACTION_SELECT_EXTERNAL_PLAYER_NOTIFICATION\"\n    ) {\n      AceStreamApp.ensureWebViewVisible();\n      mainStore.lastIntent = event;\n      router.push({ name: \"select-external-player-notification\" });\n    } else if (\n      event?.action ===\n      \"org.acestream.action.ACTION_PLAYLIST_NOTIFICATION\"\n    ) {\n      AceStreamApp.ensureWebViewVisible();\n      mainStore.lastIntent = event;\n      router.push({ name: mainStore.isTv ? \"playlist-notification-tv\" : \"playlist-notification\" });\n    } else if (event?.action === \"org.acestream.action.SHOW_PRIVACY_OPTIONS\") {\n      showPrivacyOptions();\n    } else if (event?.action === \"org.acestream.action.SHOW_PREMIUM\") {\n      AceStreamApp.ensureWebViewVisible();\n      if (mainStore.isTv) {\n        router.push({\n          name: \"premium-tv\",\n        });\n      } else {\n        router.push({\n          name: \"premium-welcome\",\n          query: { showDialog: true },\n        });\n      }\n    } else if (event?.action === \"org.acestream.action.SHOW_ACCOUNT\") {\n      AceStreamApp.ensureWebViewVisible();\n      router.push({\n        name: mainStore.isTv ? \"tv-account\" : \"account\",\n      });\n    } else if (event?.action === \"org.acestream.action.SHOW_HOME\") {\n      AceStreamApp.ensureWebViewVisible();\n      router.replace({ name: mainStore.mainRouteName });\n    } else if (event?.action === \"org.acestream.got_self_update\") {\n      //TODO: do we need to do any extra actions here?\n      appUpdateStore.unsnooze();\n      appUpdateStore.showUpdateNotification();\n\n      router.push({\n        name: mainStore.mainRouteName,\n      });\n    } else if (event?.action === 'org.acestream.action.ACTION_OPEN_EXTERNAL_PAGE') {\n      const url = event?.extras['url']\n      if (url) {\n        mainStore.showFullscreenNotification({ url, closeOnBack: true });\n      } else {\n        console.error('intent:open-external-page: missing url');\n      }\n    } else if (event?.action === 'org.acestream.action.ACTION_OPEN_PLAYER_SETTINGS') {\n      AceStreamApp.showPreferencesClicked({ type: \"player\" });\n    }\n\n    if (requirePremium) {\n      router.push({\n        name: mainStore.isTv ? \"premium-tv\" : \"premium-notification\",\n      });\n    }\n\n    if (event.extras) {\n      if (event.extras[\"acestream.action\"] === \"show_notification\") {\n        const notificationId = parseInt(\n          event.extras[\"acestream.notification_id\"]\n        );\n        console.log(`show notification ${notificationId}`);\n      } else if (event.extras[\"acestream.action\"] === \"add_remote_device\") {\n        router.push({ name: \"acecast-client\" });\n      } else if (event.extras[\"acestream.action\"] === \"new_transfer_started\") {\n        router.push({ name: \"transfers\" });\n      }\n    }\n  });\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',{class:{ 'is-tv': _setup.isTv }},[_c('div',{staticClass:\"as-overlay\"}),(_setup.mainStore.isTv)?_c(_setup.AcecastAppBar,{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showUi),expression:\"showUi\"}]}):_c(_setup.MainAppBar,{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showUi),expression:\"showUi\"}]}),_c('v-main',{staticClass:\"content-container\",class:{\n      'blurred-background': _vm.$route.name == 'input-panel',\n      'is-send-cast': _setup.mainStore.sendAndCastEnabled,\n    }},[(_setup.showUi)?[_c('router-view'),(_setup.permissionsStore.pendingPermissionDialog)?_c(_setup.PermissionDialog,{attrs:{\"permission\":_setup.permissionsStore.pendingPermissionDialog}}):(_setup.permissionsStore.pendingPermissionNotification)?_c(_setup.PermissionNotification,{attrs:{\"permission\":_setup.permissionsStore.pendingPermissionNotification}}):_vm._e()]:_vm._e()],2),_c('v-snackbar',{attrs:{\"bottom\":\"\"},model:{value:(_setup.mainStore.error.visible),callback:function ($$v) {_vm.$set(_setup.mainStore.error, \"visible\", $$v)},expression:\"mainStore.error.visible\"}},[_vm._v(\" \"+_vm._s(_setup.mainStore.error.message)+\" \")]),(_setup.statFrameVisible)?_c(_setup.StatFrame):_vm._e(),(_setup.showUi)?[(_setup.appUpdateStore.isUpdateActive)?_c(_setup.AppUpdateProgress):(_setup.appUpdateStore.updateNotificationVisible)?_c(_setup.AppUpdateNotification):(_setup.appsStore.installingPackageId)?_c(_setup.AppInstallProgress,{attrs:{\"packageId\":_setup.appsStore.installingPackageId},on:{\"close\":function($event){_setup.appsStore.installingPackageId = null}}}):_vm._e()]:_vm._e(),(_setup.mainStore.fullscreenNotificationVisible)?_c(_setup.ExternalPage,{attrs:{\"url\":_setup.mainStore.fullscreenNotificationUrl},on:{\"close\":function($event){return _setup.mainStore.dismissFullscreenNotification()}}}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (\n    _vm.$route.name !== 'input-panel' &&\n    _vm.$route.name !== 'acecast-about' &&\n    !_setup.appUpdateStore.updateNotificationVisible &&\n    !_setup.appUpdateStore.isUpdateActive\n  )?_c('div',{staticClass:\"as-app-bar\"},[_c('div',{staticClass:\"left-container\"},[(_vm.$route.name !== 'main' && !_setup.mainStore.isTv)?_c('v-btn',{attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":function($event){return _setup.goBack()}}},[_c('v-icon',[_vm._v(\" mdi-arrow-left \")])],1):_vm._e(),_c('div',{staticClass:\"app-bar-title\"}),(\n        _setup.mainStore.initialized &&\n        _setup.mainStore.isEngineActivated &&\n        !_setup.mainStore.showWelcomeOnBoarding &&\n        !_setup.mainStore.engineFailed &&\n        _vm.$route.name === 'main'\n      )?_c(_setup.AccountBadge):_vm._e(),(\n        _setup.mainStore.initialized &&\n        _setup.mainStore.isEngineActivated &&\n        !_setup.mainStore.showWelcomeOnBoarding &&\n        _vm.$route.name === 'main' &&\n        !_setup.loadingAuth &&\n        !_setup.mainStore.engineFailed &&\n        !_setup.authStore.hasPremium\n      )?_c(_setup.TheButton,{attrs:{\"text\":\"\",\"height\":\"48\"},on:{\"click\":function($event){return _setup.premiumClicked()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"premium\"))+\" \")]):_vm._e()],1),(_setup.mainStore.initialized)?_c('div',{staticClass:\"right-container\"},[(\n        _setup.mainStore.state?.hasActiveM3uPlaylist &&\n        !_setup.mainStore.isTv &&\n        _vm.$route.name === 'main'\n      )?_c('v-btn',{attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":_setup.openPlaylist}},[_c('v-icon',[_vm._v(\" mdi-playlist-play \")])],1):_vm._e(),(\n        _setup.mainStore.state?.videoPlayerState?.running\n        && (_setup.mainStore.state?.videoPlayerState?.pip || _setup.mainStore.state?.videoPlayerState?.playing)\n        && !_setup.mainStore.isTv\n        && _vm.$route.name === 'main'\n      )?_c('v-btn',{staticClass:\"image-button\",attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":_setup.openRemoteControl}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icons/play.svg\")}})]):(\n        _setup.mainStore.state?.showRemoteControl &&\n        !_setup.mainStore.isTv &&\n        _vm.$route.name === 'main'\n      )?_c('v-btn',{attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":_setup.openRemoteControl}},[_c('v-icon',[_vm._v(\" mdi-remote \")])],1):_vm._e(),(\n        _vm.$route.name === 'main' &&\n        _setup.mainStore.isEngineActivated &&\n        !_setup.mainStore.showWelcomeOnBoarding\n      )?_c(_setup.MainMenu):_vm._e()],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_setup.loading)?_c('div',{staticClass:\"loading-container\"},[(!_setup.mainStore.isTv)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"rgba(255, 255, 255, 0.5)\",\"size\":\"20\",\"width\":\"2\"}}):_vm._e()],1):(_setup.signedIn)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n    id: 'button-account',\n    enabled: !_setup.mainStore.preventFocus,\n    onclick: _setup.accountClicked,\n  }),expression:\"{\\n    id: 'button-account',\\n    enabled: !mainStore.preventFocus,\\n    onclick: accountClicked,\\n  }\"}],attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":function($event){return _setup.accountClicked()}}},[_c('v-icon',[_vm._v(\" mdi-account-circle \")])],1):_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n    id: 'button-account',\n    enabled: !_setup.mainStore.preventFocus,\n    onclick: _setup.signInClicked,\n  }),expression:\"{\\n    id: 'button-account',\\n    enabled: !mainStore.preventFocus,\\n    onclick: signInClicked,\\n  }\"}],attrs:{\"text\":\"\",\"height\":\"48\"},on:{\"click\":function($event){return _setup.signInClicked()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in\"))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed } from \"vue\";\nimport { storeToRefs } from \"pinia\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { getCurrentInstance } from \"vue\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\nconst { signedIn } = storeToRefs(authStore);\n\n// computed\nconst loading = computed(\n  () =>\n    !mainStore.engineFailed &&\n    (!mainStore.initialized || !mainStore.engineReady || authStore.loading)\n);\n\n// methods\nfunction signInClicked() {\n  $router.push({ name: \"sign-in\" });\n}\n\nfunction accountClicked() {\n  $router.push({ name: \"account\" });\n}\n</script>\n\n<template>\n  <div v-if=\"loading\" class=\"loading-container\">\n    <v-progress-circular\n      v-if=\"!mainStore.isTv\"\n      indeterminate\n      color=\"rgba(255, 255, 255, 0.5)\"\n      size=\"20\"\n      width=\"2\"\n    />\n  </div>\n\n  <the-button\n    v-else-if=\"signedIn\"\n    icon\n    width=\"48\"\n    height=\"48\"\n    v-focus=\"{\n      id: 'button-account',\n      enabled: !mainStore.preventFocus,\n      onclick: accountClicked,\n    }\"\n    @click=\"accountClicked()\"\n  >\n    <v-icon> mdi-account-circle </v-icon>\n  </the-button>\n\n  <the-button\n    v-else\n    text\n    height=\"48\"\n    v-focus=\"{\n      id: 'button-account',\n      enabled: !mainStore.preventFocus,\n      onclick: signInClicked,\n    }\"\n    @click=\"signInClicked()\"\n  >\n    {{ $t(\"sign_in\") }}\n  </the-button>\n</template>\n\n<style scoped lang=\"scss\">\n.loading-container {\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountBadge.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountBadge.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AccountBadge.vue?vue&type=template&id=15206b56&scoped=true&\"\nimport script from \"./AccountBadge.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AccountBadge.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AccountBadge.vue?vue&type=style&index=0&id=15206b56&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15206b56\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"menu-container\"},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'button-main-menu', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'button-main-menu', enabled: !mainStore.preventFocus }\"}],key:\"button-main-menu\",staticClass:\"selector\",attrs:{\"icon\":\"\",\"id\":\"button-main-menu\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":_setup.showMenu}},[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1),(_setup.menuVisible && !_setup.mainStore.isTv)?_c('v-menu',{attrs:{\"bottom\":\"\",\"absolute\":\"\",\"position-x\":_setup.menuPosition.x,\"position-y\":_setup.menuPosition.y},model:{value:(_setup.menuVisible),callback:function ($$v) {_setup.menuVisible=$$v},expression:\"menuVisible\"}},[_c('v-list',_vm._l((_setup.visibleMenuItems),function(item,index){return _c('v-list-item',{key:index,attrs:{\"disabled\":item.disabled}},[_c('v-list-item-title',{on:{\"click\":function($event){return _setup.menuItemClicked(item)}}},[_vm._v(\" \"+_vm._s(item.skipTranslate ? item.title : _vm.$t(item.title))+\" \")])],1)}),1)],1):_vm._e(),_c('transition',[(_setup.menuVisible && _setup.mainStore.isTv)?_c(_setup.SidePanel,{attrs:{\"items\":_setup.visibleMenuItems},on:{\"item-clicked\":_setup.menuItemClicked,\"cancel\":_setup.hideMenu},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return _c('div',{},[_vm._v(\" \"+_vm._s(item.skipTranslate ? item.title : _vm.$t(item.title))+\" \")])}}],null,false,914241388)}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, getCurrentInstance, ref, watch } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { useNotificationsStore } from \"@/stores/notifications\";\nimport { Preferences } from \"@capacitor/preferences\";\nimport SidePanel from \"@/common/src/components/SidePanel.vue\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\n\n// refs\nconst menuVisible = ref(false);\n\n// computed\nconst menuPosition = computed(() => ({\n  x: window.innerWidth,\n  y: 0,\n}));\n\nconst menuItems = computed(() => [\n  {\n    id: \"remote-control\",\n    title: \"remote_control\",\n    disabled: !mainStore.engineReady || !mainStore.state?.showRemoteControl,\n    visible: !mainStore.isTv,\n  },\n  { id: \"settings\", title: \"settings\" },\n  {\n    id: \"restart-app\",\n    title: \"restart_app\",\n  },\n  {\n    id: \"clear-engine-cache\",\n    title: \"clear_cache\",\n    disabled: !mainStore.engineReady,\n    visible: !mainStore.isTv,\n  },\n  { id: \"report-problem\", title: \"report_problem\" },\n  { id: \"about\", title: \"about\" },\n\n  // Test menu items (visible only in development mode)\n  // {\n  //   id: \"test-crash\",\n  //   // cmd: \"test\",\n  //   // params: { method: \"crash-webview\" },\n  //   title: \"DEV: Crash\",\n  //   skipTranslate: true,\n  // },\n  //{\n  //  id: \"test-ads-1\",\n  //  title: \"DEV: test ads 1\",\n  //  skipTranslate: true,\n  //},\n  //{\n  //  id: \"test-ads-2\",\n  //  title: \"DEV: test ads 2\",\n  //  skipTranslate: true,\n  //},\n  // {\n  //   id: \"test-ads-3\",\n  //   title: \"DEV: test ads 3\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"open-webview\",\n  //   title: \"DEV: Open Webview\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"open-need-premium\",\n  //   title: \"DEV: Need Premium\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"discover-devices\",\n  //   title: \"DEV: Discover devices\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"open-acecast-troubleshooting\",\n  //   title: \"DEV: Ace Cast Troubleshooting\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"open-acecast-manual-connect\",\n  //   title: \"DEV: Ace Cast Connect\",\n  //   skipTranslate: true,\n  // },\n  // {\n  //   id: \"test-billing\",\n  //   title: \"DEV: Test Billing\",\n  //   skipTranslate: true,\n  // },\n  {\n    id: \"acecast-client\",\n    title: \"DEV: AceCast Client\",\n    skipTranslate: true,\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"acecast-server\",\n    title: \"DEV: AceCast Server\",\n    skipTranslate: true,\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-update-ui\",\n    cmd: \"test\",\n    params: { method: \"update-ui\" },\n    title: \"DEV: Update UI\",\n    skipTranslate: true,\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-reset-consent\",\n    cmd: \"test\",\n    params: { method: \"reset-consent\" },\n    title: \"DEV: Reset consent\",\n    skipTranslate: true,\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-reset-onboarding\",\n    cmd: \"test\",\n    params: { method: \"reset-onboarding\" },\n    title: \"DEV: Reset onboarding\",\n    skipTranslate: true,\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-restore-notification\",\n    title: \"test_notification\",\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-uninstall-app\",\n    title: \"uninstall_app\",\n    visible: mainStore.showTestMenu,\n  },\n  {\n    id: \"test-is-installed\",\n    title: \"is_installed\",\n    visible: mainStore.showTestMenu,\n  },\n  { id: \"test-sync\", title: \"sync\", visible: mainStore.showTestMenu },\n]);\n\nconst visibleMenuItems = computed(() =>\n  menuItems.value.filter((item) => item.visible !== false)\n);\n\n// watch\nwatch(\n  menuVisible,\n  (value) => {\n    if (value) {\n      mainStore.currentInteractive = {\n        cancel: () => hideMenu(),\n      };\n    } else {\n      mainStore.currentInteractive = null;\n    }\n  },\n  { immediate: true }\n);\n\n// methods\nasync function showMenu() {\n  console.log(`showMenu`);\n  if (mainStore.isTv) {\n    await AceStreamApp.showPreferencesClicked();\n  } else {\n    menuVisible.value = true;\n    mainStore.currentInteractive = {\n      cancel: () => hideMenu(),\n    };\n  }\n}\n\nfunction hideMenu() {\n  menuVisible.value = false;\n  mainStore.currentInteractive = null;\n}\n\nfunction doCrash() {\n  let a = \"a\";\n  while (window) {\n    a += \"a\";\n  }\n  return a;\n}\n\nasync function menuItemClicked(item) {\n  console.log(`menuItemClicked: item=${JSON.stringify(item)}`);\n  const cmd = item.cmd ?? item.id;\n  const params = item.params;\n\n  switch (cmd) {\n    case \"test-crash\":\n      doCrash();\n      break;\n    case \"test-ads-1\":\n      AceStreamApp.openWebView({\n        url: \"https://tv.acestream.org/p/?q=debug&tag=netlinkWeb\",\n      });\n      break;\n    case \"test-ads-2\":\n      window.open(\"https://tv.acestream.org/p/?q=debug&tag=netlinkWeb\");\n      break;\n    case \"test-ads-3\":\n      AceStreamApp.openAdPlayer({\n        url: \"https://tv.acestream.org/p/?q=debug&tag=netlinkWeb\",\n      });\n      break;\n    case \"open-webview\":\n      AceStreamApp.openWebView({\n        url: \"http://127.0.0.1:6878/info/service_blocked\",\n      });\n      // AceStreamApp.openWebView({ url: \"http://192.168.1.130:5173/\" });\n      break;\n    case \"open-need-premium\":\n      $router.push({ name: \"premium-notification\" });\n      break;\n    case \"open-acecast-troubleshooting\":\n      $router.push({ name: \"acecast-troubleshooting-step1\" });\n      break;\n    case \"open-acecast-manual-connect\":\n      $router.push({ name: \"acecast-manual-connect\" });\n      break;\n    case \"discover-devices\":\n      AceStreamApp.discoverDevices();\n      break;\n    case \"acecast-client\":\n      $router.push({ name: \"acecast-client\" });\n      break;\n    case \"acecast-server\":\n      $router.push({ name: \"acecast-server\" });\n      break;\n    case \"my-files\":\n      $router.push({ name: \"transfers\" });\n      break;\n    case \"remote-control\":\n      AceStreamApp.showRemoteControlClicked();\n      break;\n    case \"settings\":\n      AceStreamApp.showPreferencesClicked();\n      break;\n    case \"clear-engine-cache\":\n      AceStreamApp.clearEngineCacheClicked();\n      break;\n    case \"report-problem\":\n      AceStreamApp.reportProblemClicked();\n      break;\n    case \"about\":\n      AceStreamApp.showAboutClicked();\n      break;\n    case \"exit-app\":\n      AceStreamApp.stopAppClicked();\n      break;\n    case \"restart-app\":\n      AceStreamApp.restartApp();\n      break;\n    case \"test\":\n      await AceStreamApp.testMethod(params);\n      break;\n    case \"test-onboarding\":\n      AceStreamApp.testOnBoardingClicked();\n      break;\n    case \"test-billing\":\n      AceStreamApp.testBillingClicked();\n      break;\n    case \"test-notification\":\n      AceStreamApp.testNotificationClicked();\n      break;\n    case \"test-restore-notification\":\n      useNotificationsStore().markUnread(123);\n      break;\n    case \"test-uninstall-app\":\n      try {\n        console.log(\"uninstall app...\");\n        await AceStreamApp.uninstallAppClicked({\n          packageName: \"org.acestream.core\",\n        });\n        console.log(\"uninstall app done\");\n      } catch (e) {\n        console.log(\"uninstall failed\", e);\n      }\n      break;\n    case \"test-is-installed\":\n      try {\n        console.log(\"sync...\");\n        await AceStreamApp.syncDeviceApps();\n        console.log(\"check installed...\");\n        const { result } = await AceStreamApp.isAppInstalled({\n          packageName: \"org.acestream.core\",\n        });\n        console.log(`is app installed: result=${result}`);\n      } catch (e) {\n        console.log(\"call failed\", e);\n      }\n      break;\n    case \"test-sync\":\n      try {\n        await Preferences.configure({ group: \"installer\" });\n        await Preferences.set({ key: \"sync_all_apps\", value: \"false\" });\n        const { value } = await Preferences.get({ key: \"sync_all_apps\" });\n        console.log(`sync_all=${value}`);\n      } catch (e) {\n        console.log(\"sync failed\", e);\n      }\n      break;\n  }\n  hideMenu();\n}\n</script>\n\n<template>\n  <div class=\"menu-container\">\n    <the-button\n      icon\n      id=\"button-main-menu\"\n      key=\"button-main-menu\"\n      class=\"selector\"\n      width=\"48\"\n      height=\"48\"\n      v-focus=\"{ id: 'button-main-menu', enabled: !mainStore.preventFocus }\"\n      @click=\"showMenu\"\n    >\n      <v-icon>mdi-dots-vertical</v-icon>\n    </the-button>\n\n    <v-menu\n      bottom\n      v-if=\"menuVisible && !mainStore.isTv\"\n      v-model=\"menuVisible\"\n      absolute\n      :position-x=\"menuPosition.x\"\n      :position-y=\"menuPosition.y\"\n    >\n      <v-list>\n        <v-list-item\n          v-for=\"(item, index) in visibleMenuItems\"\n          :key=\"index\"\n          :disabled=\"item.disabled\"\n        >\n          <v-list-item-title @click=\"menuItemClicked(item)\">\n            {{ item.skipTranslate ? item.title : $t(item.title) }}\n          </v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n\n    <transition>\n      <side-panel\n        v-if=\"menuVisible && mainStore.isTv\"\n        :items=\"visibleMenuItems\"\n        @item-clicked=\"menuItemClicked\"\n        @cancel=\"hideMenu\"\n      >\n        <div slot-scope=\"{ item }\">\n          {{ item.skipTranslate ? item.title : $t(item.title) }}\n        </div>\n      </side-panel>\n    </transition>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.v-list {\n  background-color: var(--background-dark) !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMenu.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainMenu.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./MainMenu.vue?vue&type=template&id=5c7149e1&scoped=true&\"\nimport script from \"./MainMenu.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./MainMenu.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./MainMenu.vue?vue&type=style&index=0&id=5c7149e1&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c7149e1\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { getCurrentInstance, computed } from \"vue\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport AccountBadge from \"@/components/AccountBadge.vue\";\nimport MainMenu from \"@/components/MainMenu.vue\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst authStore = useAuthStore();\nconst mainStore = useMainStore();\nconst appUpdateStore = useAppUpdateStore();\n\n// computed\nconst loadingAuth = computed(\n  () =>\n    !mainStore.engineFailed &&\n    (!mainStore.initialized || !mainStore.engineReady || authStore.loading)\n);\n\n// methods\nfunction goBack() {\n  if (mainStore.navBackHook) {\n    mainStore.navBackHook();\n  } else {\n    $router.back();\n  }\n}\n\nfunction openRemoteControl() {\n  AceStreamApp.showRemoteControlClicked();\n}\n\nfunction openPlaylist() {\n  AceStreamApp.showPlaylistClicked();\n}\n\nfunction premiumClicked() {\n  $router.push({ name: \"premium-welcome\" });\n}\n\n// function needBackground(routeName) {\n//   return routeName != \"main\";\n// }\n</script>\n\n<template>\n  <div\n    class=\"as-app-bar\"\n    v-if=\"\n      $route.name !== 'input-panel' &&\n      $route.name !== 'acecast-about' &&\n      !appUpdateStore.updateNotificationVisible &&\n      !appUpdateStore.isUpdateActive\n    \"\n  >\n    <div class=\"left-container\">\n      <v-btn\n        icon\n        width=\"48\"\n        height=\"48\"\n        @click=\"goBack()\"\n        v-if=\"$route.name !== 'main' && !mainStore.isTv\"\n      >\n        <v-icon> mdi-arrow-left </v-icon>\n      </v-btn>\n      <div class=\"app-bar-title\">\n        <!--\n        <template\n          v-if=\"\n            $route.name === 'premium-welcome' ||\n            $route.name == 'premium-payment-external'\n          \"\n        >\n          {{ $t(\"get_premium_now\") }}\n        </template>\n        <template v-else-if=\"$route.name && $route.name.startsWith('sign-in')\">\n          {{ $t(\"sign_in_sign_up\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'account'\">\n          {{ $t(\"account\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'premium-payment'\">\n          {{ $t(\"payment\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'premium-notification'\">\n          {{ $t(\"premium_activation\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'external-player-notification'\">\n          {{ $t(\"premium_activation\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'select-external-player-notification'\">\n          {{ $t(\"premium_activation\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'acecast-manual-connect'\">\n          Ace Cast\n        </template>\n        <template\n          v-else-if=\"\n            $route.name === 'select-server' ||\n            $route.name === 'select-server-remote'\n          \"\n        >\n          {{ $t(\"app_bar_title.select_server\") }}\n        </template>\n        <template\n          v-else-if=\"\n            $route.name === 'activation-help' ||\n            $route.name === 'activation-install-error'\n          \"\n        >\n          {{ $t(\"app_bar_title.installation_and_activation\") }}\n        </template>\n        <template\n          v-else-if=\"\n            $route.name === 'activation-connect-welcome' ||\n            $route.name === 'activation-connect-token' ||\n            $route.name === 'activation-connect-success'\n          \"\n        >\n          {{ $t(\"app_bar_title.remote_device\") }}\n        </template>\n        <template\n          v-else-if=\"\n            $route.name && $route.name.startsWith('activation-connect-error')\n          \"\n        >\n          {{ $t(\"app_bar_title.connection_error\") }}\n        </template>\n\n        <template\n          v-else-if=\"\n            $route.name && $route.name.startsWith('acecast-troubleshooting')\n          \"\n        >\n          {{\n            $t(\n              mainStore.aceCastGotConnection\n                ? \"acecast_troubleshooting.title_fixed\"\n                : \"acecast_troubleshooting.title_error\"\n            )\n          }}\n        </template>\n        <template v-else-if=\"$route.name === 'history'\">\n          {{ $t(\"history\") }}\n        </template>\n        <template v-else-if=\"$route.name === 'favorites'\">\n          {{ $t(\"favorites\") }}\n        </template>\n        -->\n      </div>\n\n      <account-badge\n        v-if=\"\n          mainStore.initialized &&\n          mainStore.isEngineActivated &&\n          !mainStore.showWelcomeOnBoarding &&\n          !mainStore.engineFailed &&\n          $route.name === 'main'\n        \"\n      />\n\n      <the-button\n        v-if=\"\n          mainStore.initialized &&\n          mainStore.isEngineActivated &&\n          !mainStore.showWelcomeOnBoarding &&\n          $route.name === 'main' &&\n          !loadingAuth &&\n          !mainStore.engineFailed &&\n          !authStore.hasPremium\n        \"\n        text\n        height=\"48\"\n        @click=\"premiumClicked()\"\n      >\n        {{ $t(\"premium\") }}\n      </the-button>\n    </div>\n\n    <div class=\"right-container\" v-if=\"mainStore.initialized\">\n\n      <!-- Playlist -->\n      <v-btn\n        icon\n        width=\"48\"\n        height=\"48\"\n        v-if=\"\n          mainStore.state?.hasActiveM3uPlaylist &&\n          !mainStore.isTv &&\n          $route.name === 'main'\n        \"\n        @click=\"openPlaylist\"\n      >\n        <v-icon> mdi-playlist-play </v-icon>\n      </v-btn>\n\n      <!-- Play button (if our player isplaying in PiP) or \"remote control\" button -->\n      <v-btn\n        icon\n        class=\"image-button\"\n        width=\"48\"\n        height=\"48\"\n        v-if=\"\n          mainStore.state?.videoPlayerState?.running\n          && (mainStore.state?.videoPlayerState?.pip || mainStore.state?.videoPlayerState?.playing)\n          && !mainStore.isTv\n          && $route.name === 'main'\n        \"\n        @click=\"openRemoteControl\"\n      >\n        <img src=\"@/assets/img/icons/play.svg\" />\n      </v-btn>\n      <v-btn\n        icon\n        width=\"48\"\n        height=\"48\"\n        v-else-if=\"\n          mainStore.state?.showRemoteControl &&\n          !mainStore.isTv &&\n          $route.name === 'main'\n        \"\n        @click=\"openRemoteControl\"\n      >\n        <v-icon> mdi-remote </v-icon>\n      </v-btn>\n\n      <main-menu\n        v-if=\"\n          $route.name === 'main' &&\n          mainStore.isEngineActivated &&\n          !mainStore.showWelcomeOnBoarding\n        \"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.as-app-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 16px;\n  height: 64px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1;\n\n  backdrop-filter: blur(2px);\n\n  &.with-background {\n    background-color: var(--background-dark-1);\n  }\n\n  .app-bar-title {\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    text-transform: uppercase;\n  }\n\n  .left-container,\n  .right-container {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .center-container {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n\n  .image-button {\n    img {\n      width: 24px;\n      height: 24px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainAppBar.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainAppBar.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./MainAppBar.vue?vue&type=template&id=5028dbf8&\"\nimport script from \"./MainAppBar.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./MainAppBar.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./MainAppBar.vue?vue&type=style&index=0&id=5028dbf8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (\n    _setup.mainStore.initialized &&\n    !_setup.appUpdateStore.updateNotificationVisible &&\n    !_setup.appUpdateStore.isUpdateActive\n  )?_c('v-app-bar',{attrs:{\"app\":\"\",\"elevation\":\"0\",\"color\":\"transparent\"}},[(_vm.$route.name === 'acecast-server' || _vm.$route.name === 'tv-history' || _vm.$route.name === 'tv-favorites')?[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-back', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-back', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-back\",staticClass:\"selector\",staticStyle:{\"margin-left\":\"8px\",\"margin-top\":\"0px\",\"margin-right\":\"8px\"},attrs:{\"icon\":\"\",\"id\":\"app-bar-back\"},on:{\"click\":function($event){return _setup.goBack()}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1),_vm._v(\" \"+_vm._s(_vm.$t('back'))+\" \")]:(_vm.$route.name !== 'external-player-notification-tv' && _vm.$route.name !== 'playlist-notification-tv')?[_c('div',{staticClass:\"center-container\"},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-dashboard', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-dashboard', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-dashboard\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-dashboard\",\"selected\":_vm.$route.name === 'acecast-dashboard'},on:{\"focus\":_setup.onDashboard}},[_vm._v(\" \"+_vm._s(_vm.$t('home'))+\" \")]),(_setup.mainStore.sendAndCastEnabled)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-my-files', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-my-files', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-my-files\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-my-files\",\"selected\":_vm.$route.name === 'transfers',\"disabled\":!_setup.mainStore.engineReady},on:{\"focus\":_setup.onMyFiles}},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_bar_my_files\"))+\" \")]):_vm._e(),(_setup.LIVE_TV_ENABLED)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-livetv', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-livetv', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-livetv\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-livetv\",\"selected\":_vm.$route.name === 'livetv',\"disabled\":!_setup.mainStore.engineReady},on:{\"focus\":_setup.onLiveTv}},[_vm._v(\" Live TV \")]):_vm._e(),(!_setup.mainStore.sendAndCastEnabled)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-premium', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-premium', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-premium\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-premium\",\"selected\":_vm.$route.name === 'premium-tv',\"disabled\":!_setup.mainStore.engineReady},on:{\"focus\":_setup.onPremium}},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_bar_premium\"))+\" \")]):_vm._e()],1),_c('v-spacer'),(!_setup.mainStore.sendAndCastEnabled)?[(_setup.authStore.signedIn)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-account', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-account-signed-in\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"icon\":\"\",\"id\":\"app-bar-account-signed-in\",\"selected\":_vm.$route.name === 'tv-account'},on:{\"focus\":_setup.onTvAccount}},[_c('v-icon',[_vm._v(\" mdi-account-circle \")])],1):_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-account', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }\"}],key:\"app-bar-account-signed-out\",staticClass:\"selector\",staticStyle:{\"margin-right\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-account-signed-out\",\"selected\":_vm.$route.name === 'tv-account',\"disabled\":!_setup.mainStore.engineReady},on:{\"focus\":_setup.onTvAccount}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sign_in\"))+\" \")])]:_vm._e(),((_setup.mainStore.isTv || !_setup.mainStore.sendAndCastEnabled) && (_setup.mainStore.isBaseApp || !_setup.mainStore.showWelcomeOnBoarding))?_c(_setup.MainMenu):_vm._e(),(_setup.appUpdateStore.gotSelfUpdate)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'app-bar-update', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'app-bar-update', enabled: !mainStore.preventFocus }\"}],staticClass:\"selector\",staticStyle:{\"margin-left\":\"16px\"},attrs:{\"text\":\"\",\"id\":\"app-bar-update\",\"withBorder\":\"\"},on:{\"click\":_setup.onUpdateClick}},[_vm._v(\" \"+_vm._s(_vm.$t(\"update\"))+\" \")]):_vm._e()]:_vm._e()],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { getCurrentInstance } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { isNavigationFailure, NavigationFailureType } from \"vue-router\";\nimport MainMenu from \"@/components/MainMenu.vue\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\nconst LIVE_TV_ENABLED = false;\n\n// router\nconst $router = getCurrentInstance().proxy.$root.$router;\n\n// stores\nconst mainStore = useMainStore();\nconst authStore = useAuthStore();\nconst appUpdateStore = useAppUpdateStore();\n\n// methods\nasync function safeReplaceRoute(targetName) {\n  try {\n    await $router.replace({ name: targetName });\n  } catch (e) {\n    if (!isNavigationFailure(e, NavigationFailureType.duplicated)) {\n      console.log(\"error: \" + e);\n    }\n  }\n}\n\nasync function onDashboard() {\n  safeReplaceRoute(\"acecast-dashboard\");\n}\n\nasync function onMyFiles() {\n  safeReplaceRoute(\"transfers\");\n}\n\nasync function onPremium() {\n  console.log(`onPremium`);\n  safeReplaceRoute(\"premium-tv\");\n}\n\nasync function onTvAccount() {\n  console.log(`onTvAccount`);\n  safeReplaceRoute(\"tv-account\");\n}\n\nasync function onLiveTv() {\n  console.log(`onLiveTv`);\n  safeReplaceRoute(\"livetv\");\n}\n\nfunction onUpdateClick() {\n  appUpdateStore.unsnooze();\n  appUpdateStore.showUpdateNotification();\n}\n\nfunction goBack() {\n  window.history.go(-1);\n}\n</script>\n\n<template>\n  <v-app-bar\n    app\n    elevation=\"0\"\n    color=\"transparent\"\n    v-if=\"\n      mainStore.initialized &&\n      !appUpdateStore.updateNotificationVisible &&\n      !appUpdateStore.isUpdateActive\n    \"\n  >\n    <!-- Secondary app bar (with \"back\" button) -->\n    <template v-if=\"$route.name === 'acecast-server' || $route.name === 'tv-history' || $route.name === 'tv-favorites'\">\n      <!-- Back -->\n      <the-button\n          icon\n          id=\"app-bar-back\"\n          key=\"app-bar-back\"\n          class=\"selector\"\n          v-focus=\"{ id: 'app-bar-back', enabled: !mainStore.preventFocus }\"\n          style=\"margin-left: 8px; margin-top: 0px; margin-right: 8px\"\n          @click=\"goBack()\"\n        >\n          <v-icon>mdi-arrow-left</v-icon>\n        </the-button>\n\n        {{ $t('back') }}\n    </template>\n\n    <!-- Main app bar -->\n    <template v-else-if=\"$route.name !== 'external-player-notification-tv' && $route.name !== 'playlist-notification-tv'\">\n      <div class=\"center-container\">\n\n        <!-- Dashboard -->\n        <the-button\n          text\n          id=\"app-bar-dashboard\"\n          key=\"app-bar-dashboard\"\n          class=\"selector\"\n          :selected=\"$route.name === 'acecast-dashboard'\"\n          v-focus=\"{ id: 'app-bar-dashboard', enabled: !mainStore.preventFocus }\"\n          @focus=\"onDashboard\"\n          style=\"margin-right: 16px\"\n        >\n          {{ $t('home') }}\n        </the-button>\n\n        <the-button\n          v-if=\"mainStore.sendAndCastEnabled\"\n          text\n          id=\"app-bar-my-files\"\n          key=\"app-bar-my-files\"\n          class=\"selector\"\n          :selected=\"$route.name === 'transfers'\"\n          :disabled=\"!mainStore.engineReady\"\n          v-focus=\"{ id: 'app-bar-my-files', enabled: !mainStore.preventFocus }\"\n          @focus=\"onMyFiles\"\n          style=\"margin-right: 16px\"\n        >\n          {{ $t(\"app_bar_my_files\") }}\n        </the-button>\n\n        <the-button\n          v-if=\"LIVE_TV_ENABLED\"\n          text\n          id=\"app-bar-livetv\"\n          key=\"app-bar-livetv\"\n          class=\"selector\"\n          :selected=\"$route.name === 'livetv'\"\n          :disabled=\"!mainStore.engineReady\"\n          v-focus=\"{ id: 'app-bar-livetv', enabled: !mainStore.preventFocus }\"\n          @focus=\"onLiveTv\"\n          style=\"margin-right: 16px\"\n        >\n          Live TV\n        </the-button>\n\n        <the-button\n          v-if=\"!mainStore.sendAndCastEnabled\"\n          text\n          id=\"app-bar-premium\"\n          key=\"app-bar-premium\"\n          class=\"selector\"\n          :selected=\"$route.name === 'premium-tv'\"\n          :disabled=\"!mainStore.engineReady\"\n          v-focus=\"{ id: 'app-bar-premium', enabled: !mainStore.preventFocus }\"\n          @focus=\"onPremium\"\n          style=\"margin-right: 16px\"\n        >\n          {{ $t(\"app_bar_premium\") }}\n        </the-button>\n      </div>\n\n      <v-spacer></v-spacer>\n\n      <!-- Account -->\n      <template v-if=\"!mainStore.sendAndCastEnabled\">\n        <the-button\n          v-if=\"authStore.signedIn\"\n          icon\n          id=\"app-bar-account-signed-in\"\n          key=\"app-bar-account-signed-in\"\n          class=\"selector\"\n          :selected=\"$route.name === 'tv-account'\"\n          v-focus=\"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }\"\n          @focus=\"onTvAccount\"\n          style=\"margin-right: 16px\"\n        >\n          <v-icon> mdi-account-circle </v-icon>\n        </the-button>\n        <the-button\n          v-else\n          text\n          id=\"app-bar-account-signed-out\"\n          key=\"app-bar-account-signed-out\"\n          class=\"selector\"\n          :selected=\"$route.name === 'tv-account'\"\n          :disabled=\"!mainStore.engineReady\"\n          v-focus=\"{ id: 'app-bar-account', enabled: !mainStore.preventFocus }\"\n          @focus=\"onTvAccount\"\n          style=\"margin-right: 16px\"\n        >\n          {{ $t(\"sign_in\") }}\n        </the-button>\n      </template>\n\n      <!--\n      NOTE: we hide menu in webcast mode on smartphone because it's not working properly on non-TV devices\n      -->\n      <main-menu v-if=\"(mainStore.isTv || !mainStore.sendAndCastEnabled) && (mainStore.isBaseApp || !mainStore.showWelcomeOnBoarding)\" />\n\n      <the-button\n        v-if=\"appUpdateStore.gotSelfUpdate\"\n        text\n        id=\"app-bar-update\"\n        class=\"selector\"\n        withBorder\n        v-focus=\"{ id: 'app-bar-update', enabled: !mainStore.preventFocus }\"\n        @click=\"onUpdateClick\"\n        style=\"margin-left: 16px\"\n      >\n        {{ $t(\"update\") }}\n      </the-button>\n    </template>\n\n  </v-app-bar>\n</template>\n\n<style scoped>\n.center-container {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcecastAppBar.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcecastAppBar.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AcecastAppBar.vue?vue&type=template&id=a5b0ed92&scoped=true&\"\nimport script from \"./AcecastAppBar.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AcecastAppBar.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AcecastAppBar.vue?vue&type=style&index=0&id=a5b0ed92&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5b0ed92\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"bottom-bar\"},[_c('div',[_vm._v(\" Ace Stream needs \"+_vm._s(_vm.permission)+\" to work properly. \"),_c('br'),_c('a',{directives:[{name:\"focus\",rawName:\"v-focus\",value:({ id: 'grant-permissions', enabled: !_setup.mainStore.preventFocus }),expression:\"{ id: 'grant-permissions', enabled: !mainStore.preventFocus }\"}],attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _setup.request()}}},[_vm._v(\" Click here to grant permissions \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { requestPermission } from \"@/lib/permissions\";\nimport { useMainStore } from \"@/stores/main\";\n\n// stores\nconst mainStore = useMainStore();\n\n// props\nconst props = defineProps({\n  permission: {\n    type: String,\n    required: true,\n  },\n});\n\n// methods\nfunction request() {\n  requestPermission(props.permission);\n}\n</script>\n\n<template>\n  <div class=\"bottom-bar\">\n    <div>\n      Ace Stream needs {{ permission }} to work properly.\n      <br />\n      <a\n        href=\"#\"\n        @click.prevent=\"request()\"\n        v-focus=\"{ id: 'grant-permissions', enabled: !mainStore.preventFocus }\"\n      >\n        Click here to grant permissions\n      </a>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n$inactiveColor: rgba(255, 255, 255, 0.75);\n$activeColor: rgba(255, 255, 255, 1);\n\n.bottom-bar {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 16px;\n  text-align: center;\n  color: $inactiveColor;\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));\n\n  a {\n    color: $inactiveColor;\n  }\n\n  a:focus {\n    color: $activeColor;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionNotification.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionNotification.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./PermissionNotification.vue?vue&type=template&id=3541da14&scoped=true&\"\nimport script from \"./PermissionNotification.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./PermissionNotification.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./PermissionNotification.vue?vue&type=style&index=0&id=3541da14&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3541da14\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" \"+_vm._s(_vm.$t(`permissions_dialog.${_vm.permission}.title`))+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.$t(`permissions_dialog.${_vm.permission}.text`))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.requestPermissions()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"settings\"))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"visible\" persistent>\n    <v-card>\n      <v-card-title class=\"text-h5\">\n        {{ $t(`permissions_dialog.${permission}.title`) }}\n      </v-card-title>\n\n      <v-card-text>\n        {{ $t(`permissions_dialog.${permission}.text`) }}\n      </v-card-text>\n\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn text @click=\"close()\">\n          {{ $t(\"cancel\") }}\n        </v-btn>\n\n        <v-btn text @click=\"requestPermissions()\">\n          {{ $t(\"settings\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  requestPermission,\n  registerPermissionAsk,\n  updatePermissions,\n} from \"@/lib/permissions\";\n\nexport default {\n  props: [\"permission\"],\n  data() {\n    return {\n      visible: true,\n    };\n  },\n  methods: {\n    async close() {\n      registerPermissionAsk(this.permission);\n      await updatePermissions();\n    },\n    async requestPermissions() {\n      try {\n        await requestPermission(this.permission);\n      } catch (e) {\n        console.log(`error: ${e}`);\n      } finally {\n        this.close();\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionDialog.vue?vue&type=template&id=037c60f1&\"\nimport script from \"./PermissionDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"frame-container\"},_vm._l((_setup.frames),function(url,index){return _c('iframe',{key:index,attrs:{\"src\":url}})}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nconst frames = [];\n\nif (window.location.hostname !== \"tv.acestream.org\") {\n  frames.push(\"https://tv.acestream.org/\");\n}\nif (window.location.hostname !== \"acestream.tv\") {\n  frames.push(\"https://acestream.tv/\");\n}\nif (window.location.hostname !== \"tv.acestream.media\") {\n  frames.push(\"https://tv.acestream.media\");\n}\nif (window.location.hostname !== \"emet.live\") {\n  frames.push(\"https://emet.live/stat.php\");\n}\nif (window.location.hostname !== \"emet.news\") {\n  frames.push(\"https://emet.news/stat.php\");\n}\n</script>\n\n<template>\n  <div class=\"frame-container\">\n    <iframe v-for=\"(url, index) in frames\" :key=\"index\" :src=\"url\"></iframe>\n  </div>\n</template>\n\n<style scoped>\n.frame-container {\n  position: absolute;\n  top: 0;\n  left: -5000px;\n}\n\n.frame-container frame {\n  width: 256px;\n  height: 128px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatFrame.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatFrame.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./StatFrame.vue?vue&type=template&id=5e940f52&scoped=true&\"\nimport script from \"./StatFrame.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./StatFrame.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./StatFrame.vue?vue&type=style&index=0&id=5e940f52&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e940f52\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"popup\"},[_c('div',{staticClass:\"overlay\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"app-update-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.app_update_available\"))+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.installed_version\", { version: _setup.currentVersion }))+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.available_version\", { version: _setup.newVersion }))+\" \")]),(_setup.showChangelog)?_c('div',{staticClass:\"changelog-container\"},[_c('div',{staticClass:\"changelog-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.changelog_title\"))+\" \")]),_c('ul',{staticClass:\"changelog-list\"},[_c('li',[_vm._v(_vm._s(_vm.$t(\"app_update.changelog.3_2_7_0.item_1\")))]),_c('li',[_vm._v(_vm._s(_vm.$t(\"app_update.changelog.3_2_7_0.item_2\")))]),_c('li',[_vm._v(_vm._s(_vm.$t(\"app_update.changelog.3_2_7_0.item_3\")))]),_c('li',[_vm._v(_vm._s(_vm.$t(\"app_update.changelog.3_2_7_0.item_4\")))])])]):_vm._e(),(_setup.mainStore.isTv && !_setup.canInstall)?_c('div',{staticClass:\"qr-code\"},[_c('img',{attrs:{\"src\":_setup.qrCodeImage}}),_c('div',{staticClass:\"update-url\"},[_vm._v(\" \"+_vm._s(_setup.updateUrl)+\" \")])]):_vm._e(),_c('div',{staticClass:\"spacer\"}),_c('div',{staticClass:\"actions\"},[_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n          id: 'app-update-dismiss',\n          enabled: true,\n        }),expression:\"{\\n          id: 'app-update-dismiss',\\n          enabled: true,\\n        }\"}],staticClass:\"action-button\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.dismiss()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"later\"))+\" \")]),(_setup.mainStore.isTv && _setup.canInstall)?_c(_setup.TheButton,{directives:[{name:\"focus\",rawName:\"v-focus\",value:({\n          id: 'app-update-install',\n          enabled: true,\n        }),expression:\"{\\n          id: 'app-update-install',\\n          enabled: true,\\n        }\"}],staticClass:\"action-button\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _setup.update()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"install\"))+\" \")]):(!_setup.mainStore.isTv)?_c(_setup.TheButton,{staticClass:\"action-button\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _setup.update()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"install\"))+\" \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { useQRCode } from \"@vueuse/integrations/useQRCode\";\nimport TheButton from \"@/common/src/components/TheButton.vue\";\n\n//TODO: refactor this later\nconst CHANGELOGS = {\n  \"3.2.7.0\": [\"item_1\", \"item_2\", \"item_3\", \"item_4\"],\n  \"3.2.7.1\": [\"item_1\", \"item_2\", \"item_3\", \"item_4\"],\n  \"3.2.7.2\": [\"item_1\", \"item_2\", \"item_3\", \"item_4\"],\n  \"3.2.7.3\": [\"item_1\", \"item_2\", \"item_3\", \"item_4\"],\n  \"3.2.7.4\": [\"item_1\", \"item_2\", \"item_3\", \"item_4\"],\n};\n\n// stores\nconst mainStore = useMainStore();\nconst appUpdateStore = useAppUpdateStore();\n\n// computed\nconst updateUrl = computed(() => mainStore.pendingAppUpdate?.notificationUrl);\nconst canInstall = computed(() => mainStore.pendingAppUpdate?.canInstall);\nconst newVersion = computed(() => mainStore.pendingAppUpdate?.version);\nconst currentVersion = computed(() => mainStore.appInfo?.version);\nconst showChangelog = computed(\n  () => CHANGELOGS[newVersion.value] !== undefined\n);\n\n// composables\nconst qrCodeImage = useQRCode(updateUrl);\n\n// methods\nasync function update() {\n  try {\n    await appUpdateStore.install(true);\n    dismiss();\n  } catch (e) {\n    console.error(`update:error: ${e.message}`);\n  }\n}\n\nfunction dismiss() {\n  appUpdateStore.hideUpdateNotification();\n  appUpdateStore.snooze();\n}\n</script>\n\n<template>\n  <div class=\"popup\">\n    <div class=\"overlay\"></div>\n    <div class=\"content\">\n      <div class=\"app-update-title\">\n        {{ $t(\"app_update.app_update_available\") }}\n      </div>\n      <div>\n        {{ $t(\"app_update.installed_version\", { version: currentVersion }) }}\n      </div>\n      <div>\n        {{ $t(\"app_update.available_version\", { version: newVersion }) }}\n      </div>\n      <div class=\"changelog-container\" v-if=\"showChangelog\">\n        <div class=\"changelog-title\">\n          {{ $t(\"app_update.changelog_title\") }}\n        </div>\n        <ul class=\"changelog-list\">\n          <li>{{ $t(\"app_update.changelog.3_2_7_0.item_1\") }}</li>\n          <li>{{ $t(\"app_update.changelog.3_2_7_0.item_2\") }}</li>\n          <li>{{ $t(\"app_update.changelog.3_2_7_0.item_3\") }}</li>\n          <li>{{ $t(\"app_update.changelog.3_2_7_0.item_4\") }}</li>\n        </ul>\n      </div>\n\n      <div class=\"qr-code\" v-if=\"mainStore.isTv && !canInstall\">\n        <img :src=\"qrCodeImage\" />\n        <div class=\"update-url\">\n          {{ updateUrl }}\n        </div>\n      </div>\n\n      <div class=\"spacer\"></div>\n\n      <div class=\"actions\">\n        <the-button\n          @click=\"dismiss()\"\n          class=\"action-button\"\n          text\n          v-focus=\"{\n            id: 'app-update-dismiss',\n            enabled: true,\n          }\"\n        >\n          {{ $t(\"later\") }}\n        </the-button>\n\n        <the-button\n          v-if=\"mainStore.isTv && canInstall\"\n          @click=\"update()\"\n          class=\"action-button\"\n          text\n          v-focus=\"{\n            id: 'app-update-install',\n            enabled: true,\n          }\"\n        >\n          {{ $t(\"install\") }}\n        </the-button>\n        <the-button\n          v-else-if=\"!mainStore.isTv\"\n          @click=\"update()\"\n          class=\"action-button\"\n          outlined\n        >\n          {{ $t(\"install\") }}\n        </the-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .overlay {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba($color: #000000, $alpha: 0.1);\n    z-index: -1;\n  }\n\n  .content {\n    width: 100%;\n    height: 100%;\n    padding: 64px 32px;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    backdrop-filter: blur(1.6em);\n\n    display: flex;\n    flex-direction: column;\n\n    .app-update-title {\n      padding-bottom: 16px;\n      font-size: 24px;\n    }\n\n    .changelog-container {\n      padding-top: 32px;\n\n      .changelog-title {\n        font-size: 24px;\n        padding-bottom: 16px;\n      }\n    }\n\n    .actions {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n    }\n  }\n}\n\n@media screen and (min-width: 640px) {\n  .popup {\n    .content {\n      padding: 64px;\n\n      .actions {\n        justify-content: center;\n\n        .action-button {\n          margin-left: 32px;\n        }\n      }\n    }\n  }\n}\n\n.qr-code {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .update-url {\n    padding-top: 8px;\n    font-size: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateNotification.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateNotification.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AppUpdateNotification.vue?vue&type=template&id=589ff8c0&scoped=true&\"\nimport script from \"./AppUpdateNotification.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AppUpdateNotification.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AppUpdateNotification.vue?vue&type=style&index=0&id=589ff8c0&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"589ff8c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"popup\",class:{ 'is-tv': _setup.mainStore.isTv }},[_c('div',{staticClass:\"overlay\"}),_c('div',{staticClass:\"content as-page as-page-engine-activation\"},[(_setup.appUpdateStore.gotError)?[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"},[_c(_setup.MainButton,{attrs:{\"disabled\":_setup.appUpdateStore.loading},on:{\"click\":_setup.retry}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.repeat\"))+\" \")]),_c('div',{staticClass:\"mt-4\",staticStyle:{\"width\":\"50%\"}},[(_setup.appUpdateStore.loading)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"2\"}}):_vm._e()],1)],1),_c('div',{staticClass:\"as-vertical-fill\"})]:[_c('div',{staticClass:\"as-top-container\"},[_vm._m(1),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.progress_title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container d-flex flex-column\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_update.progress_description\"))+\" \"),_vm._m(2)]),_c('div',{staticClass:\"as-vertical-fill d-flex align-center justify-center\"},[(_setup.appUpdateStore.loading)?_c('v-progress-circular',{attrs:{\"size\":\"48\",\"width\":\"2\",\"indeterminate\":_setup.appUpdateStore.waitingForState ||\n            _setup.appUpdateStore.updateProgress == 100,\"value\":_setup.appUpdateStore.updateProgress}},[(_setup.appUpdateStore.updateProgress != 100)?_c('span',[_vm._v(\" \"+_vm._s(_setup.appUpdateStore.updateProgress)+\" \")]):_vm._e()]):_vm._e()],1)]],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon as-icon-error\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" warning \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" system_update_alt \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-image flex-grow d-flex flex-column align-center justify-end\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/update_dialog_2.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\n// stores\nconst mainStore = useMainStore();\nconst appUpdateStore = useAppUpdateStore();\n\nfunction retry() {\n  console.log(\"retry\");\n  appUpdateStore.install(true);\n}\n</script>\n\n<template>\n  <div class=\"popup\" :class=\"{ 'is-tv': mainStore.isTv }\">\n    <div class=\"overlay\"></div>\n    <div class=\"content as-page as-page-engine-activation\">\n      <template v-if=\"appUpdateStore.gotError\">\n        <div class=\"as-top-container\">\n          <div class=\"as-icon as-icon-error\">\n            <span class=\"material-symbols-outlined\"> warning </span>\n          </div>\n          <div class=\"as-title\">\n            {{ $t(\"activation_install_error.title\") }}\n          </div>\n        </div>\n\n        <div class=\"as-center-container\">\n          {{ $t(\"activation_install_error.description\") }}\n        </div>\n\n        <div\n          class=\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"\n        >\n          <main-button @click=\"retry\" :disabled=\"appUpdateStore.loading\">\n            {{ $t(\"activation_install_error.repeat\") }}\n          </main-button>\n          <div class=\"mt-4\" style=\"width: 50%\">\n            <v-progress-linear\n              v-if=\"appUpdateStore.loading\"\n              indeterminate\n              height=\"2\"\n            />\n          </div>\n        </div>\n\n        <div class=\"as-vertical-fill\"></div>\n      </template>\n\n      <template v-else>\n        <div class=\"as-top-container\">\n          <div class=\"as-icon\">\n            <span class=\"material-symbols-outlined\"> system_update_alt </span>\n          </div>\n          <div class=\"as-title\">\n            {{ $t(\"app_update.progress_title\") }}\n          </div>\n        </div>\n\n        <div class=\"as-center-container d-flex flex-column\">\n          {{ $t(\"app_update.progress_description\") }}\n          <div\n            class=\"as-image flex-grow d-flex flex-column align-center justify-end\"\n          >\n            <img src=\"@/assets/img/update_dialog_2.png\" />\n          </div>\n        </div>\n\n        <div class=\"as-vertical-fill d-flex align-center justify-center\">\n          <v-progress-circular\n            v-if=\"appUpdateStore.loading\"\n            size=\"48\"\n            width=\"2\"\n            :indeterminate=\"\n              appUpdateStore.waitingForState ||\n              appUpdateStore.updateProgress == 100\n            \"\n            :value=\"appUpdateStore.updateProgress\"\n          >\n            <span v-if=\"appUpdateStore.updateProgress != 100\">\n              {{ appUpdateStore.updateProgress }}\n            </span>\n          </v-progress-circular>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .overlay {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    z-index: -1;\n  }\n\n  .content {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.as-page-engine-activation {\n  margin-top: 0;\n\n  .as-center-container {\n    padding-bottom: 0;\n    min-height: 240px;\n\n    .as-image {\n      flex-grow: 1;\n\n      img {\n        opacity: 0.65;\n        width: 55vw;\n        max-width: 256px;\n      }\n    }\n  }\n\n  .help-container {\n    .as-text {\n      line-height: 1.2;\n    }\n  }\n}\n\n.as-page-engine-activation {\n  .as-top-container {\n    .as-icon-error {\n      span {\n        color: var(--color-ace-orange);\n      }\n    }\n  }\n}\n\n.popup.is-tv {\n  .overlay {\n    background-color: rgba($color: #000000, $alpha: 0.5);\n  }\n\n  .content {\n    width: 65%;\n    height: auto;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    backdrop-filter: blur(1.6em);\n    padding: 40px;\n\n    .as-top-container {\n      padding: 0;\n      min-height: auto;\n      margin-bottom: 32px;\n    }\n\n    .as-center-container {\n      padding: 0;\n      background-color: transparent;\n      min-height: auto;\n      text-align: center;\n      margin-bottom: 32px;\n\n      .as-image {\n        display: none !important;\n      }\n    }\n\n    .as-vertical-fill {\n      padding: 0;\n      background-color: transparent;\n    }\n  }\n}\n\n// Tablet\n@media screen and (min-width: 640px) {\n  .popup:not(.is-tv) {\n    .overlay {\n      background-color: rgba($color: #000000, $alpha: 0.75);\n    }\n\n    .content {\n      width: 50%;\n      height: 65%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateProgress.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateProgress.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AppUpdateProgress.vue?vue&type=template&id=cddc0672&scoped=true&\"\nimport script from \"./AppUpdateProgress.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AppUpdateProgress.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AppUpdateProgress.vue?vue&type=style&index=0&id=cddc0672&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cddc0672\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"popup\",class:{ 'is-tv': _setup.mainStore.isTv }},[_c('div',{staticClass:\"overlay\"}),_c('div',{staticClass:\"content as-page as-page-engine-activation\"},[(_setup.gotError)?[_c('div',{staticClass:\"as-top-container\"},[_vm._m(0),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.title\"))+\" \")])]),_c('div',{staticClass:\"as-center-container\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.description\"))+\" \")]),_c('div',{staticClass:\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"},[_c(_setup.MainButton,{attrs:{\"disabled\":_setup.loading},on:{\"click\":_setup.retry}},[_vm._v(\" \"+_vm._s(_vm.$t(\"activation_install_error.repeat\"))+\" \")]),_c('div',{staticClass:\"mt-4\",staticStyle:{\"width\":\"50%\"}},[(_setup.loading)?_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"height\":\"2\"}}):_vm._e()],1)],1),_c('div',{staticClass:\"as-vertical-fill\"})]:[_c('div',{staticClass:\"as-top-container\"},[_vm._m(1),_c('div',{staticClass:\"as-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_install.progress_title\", { appName: _setup.appsStore.installingPackageName }))+\" \")])]),_c('div',{staticClass:\"as-center-container d-flex flex-column\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"app_install.progress_description\"))+\" \"),_vm._m(2)]),_c('div',{staticClass:\"as-vertical-fill d-flex align-center justify-center\"},[(_setup.loading)?_c('v-progress-circular',{attrs:{\"size\":\"48\",\"width\":\"2\",\"indeterminate\":_setup.waitingForState ||\n            _setup.updateProgress == 100,\"value\":_setup.updateProgress}},[(_setup.updateProgress != 100)?_c('span',[_vm._v(\" \"+_vm._s(_setup.updateProgress)+\" \")]):_vm._e()]):_vm._e()],1)]],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon as-icon-error\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" warning \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-icon\"},[_c('span',{staticClass:\"material-symbols-outlined\"},[_vm._v(\" system_update_alt \")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"as-image flex-grow d-flex flex-column align-center justify-end\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/update_dialog_2.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, ref, onMounted, onBeforeUnmount } from \"vue\";\nimport { useAppsStore } from \"@/stores/apps\";\nimport { useMainStore } from \"@/stores/main\";\nimport MainButton from \"@/components/MainButton.vue\";\n\nconst props = defineProps(['packageId']);\nconst emit = defineEmits([\"close\"]);\n\n// vars\nlet waitingForDownloadTimer = null;\n\n// stores\nconst mainStore = useMainStore();\nconst appsStore = useAppsStore();\n\n// refs\nconst waitingForDownload = ref(true);\n\n// computed\nconst appState = computed(() => appsStore.getAppState(props.packageId));\nconst updateStatus = computed(() => appState.value?.status);\nconst updateProgress = computed(() => appState.value?.progress);\nconst gotError = computed(() => updateStatus.value === \"ERROR\" && !waitingForDownload.value);\nconst loading = computed(() =>\n  waitingForState.value ||\n  updateStatus.value === \"IN_QUEUE\" ||\n  updateStatus.value === \"ACTIVE\" ||\n  ((updateStatus.value === \"STANDBY\" || updateStatus.value === \"ERROR\") && waitingForDownload.value)\n);\nconst waitingForState = computed(() => !appState.value);\n\n// lifecycle\nonMounted(() => {\n  console.log(`install-dialog:mount`);\n  mainStore.currentInteractive = {\n    cancel: () => close(),\n  };\n  waitingForDownloadTimer = setTimeout(() => waitingForDownload.value = false, 2500);\n});\n\nonBeforeUnmount(() => {\n  console.log(`install-dialog:unmount`);\n  mainStore.currentInteractive = null;\n  clearTimeout(waitingForDownloadTimer);\n});\n\n// methods\nfunction retry() {\n  // for testing - implement\n  // appUpdateStore.install(true);\n}\n\nfunction close() {\n  emit('close');\n}\n</script>\n\n<template>\n  <div class=\"popup\" :class=\"{ 'is-tv': mainStore.isTv }\">\n    <div class=\"overlay\"></div>\n    <div class=\"content as-page as-page-engine-activation\">\n      <template v-if=\"gotError\">\n        <div class=\"as-top-container\">\n          <div class=\"as-icon as-icon-error\">\n            <span class=\"material-symbols-outlined\"> warning </span>\n          </div>\n          <div class=\"as-title\">\n            {{ $t(\"activation_install_error.title\") }}\n          </div>\n        </div>\n\n        <div class=\"as-center-container\">\n          {{ $t(\"activation_install_error.description\") }}\n        </div>\n\n        <div\n          class=\"as-bottom-container d-flex flex-column align-center justify-center pt-8\"\n        >\n          <main-button @click=\"retry\" :disabled=\"loading\">\n            {{ $t(\"activation_install_error.repeat\") }}\n          </main-button>\n          <div class=\"mt-4\" style=\"width: 50%\">\n            <v-progress-linear\n              v-if=\"loading\"\n              indeterminate\n              height=\"2\"\n            />\n          </div>\n        </div>\n\n        <div class=\"as-vertical-fill\"></div>\n      </template>\n\n      <template v-else>\n        <div class=\"as-top-container\">\n          <div class=\"as-icon\">\n            <span class=\"material-symbols-outlined\"> system_update_alt </span>\n          </div>\n          <div class=\"as-title\">\n            {{ $t(\"app_install.progress_title\", { appName: appsStore.installingPackageName }) }}\n          </div>\n        </div>\n\n        <div class=\"as-center-container d-flex flex-column\">\n          {{ $t(\"app_install.progress_description\") }}\n          <div\n            class=\"as-image flex-grow d-flex flex-column align-center justify-end\"\n          >\n            <img src=\"@/assets/img/update_dialog_2.png\" />\n          </div>\n        </div>\n\n        <div class=\"as-vertical-fill d-flex align-center justify-center\">\n          <v-progress-circular\n            v-if=\"loading\"\n            size=\"48\"\n            width=\"2\"\n            :indeterminate=\"\n              waitingForState ||\n              updateProgress == 100\n            \"\n            :value=\"updateProgress\"\n          >\n            <span v-if=\"updateProgress != 100\">\n              {{ updateProgress }}\n            </span>\n          </v-progress-circular>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .overlay {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    z-index: -1;\n  }\n\n  .content {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.as-page-engine-activation {\n  margin-top: 0;\n\n  .as-center-container {\n    padding-bottom: 0;\n    min-height: 240px;\n\n    .as-image {\n      flex-grow: 1;\n\n      img {\n        opacity: 0.65;\n        width: 55vw;\n        max-width: 256px;\n      }\n    }\n  }\n\n  .help-container {\n    .as-text {\n      line-height: 1.2;\n    }\n  }\n}\n\n.as-page-engine-activation {\n  .as-top-container {\n    .as-icon-error {\n      span {\n        color: var(--color-ace-orange);\n      }\n    }\n  }\n}\n\n.popup.is-tv {\n  .overlay {\n    background-color: rgba($color: #000000, $alpha: 0.5);\n  }\n\n  .content {\n    width: 65%;\n    height: auto;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    backdrop-filter: blur(1.6em);\n    padding: 40px;\n\n    .as-top-container {\n      padding: 0;\n      min-height: auto;\n      margin-bottom: 32px;\n    }\n\n    .as-center-container {\n      padding: 0;\n      background-color: transparent;\n      min-height: auto;\n      text-align: center;\n      margin-bottom: 32px;\n\n      .as-image {\n        display: none !important;\n      }\n    }\n\n    .as-vertical-fill {\n      padding: 0;\n      background-color: transparent;\n    }\n  }\n}\n\n// Tablet\n@media screen and (min-width: 640px) {\n  .popup:not(.is-tv) {\n    .overlay {\n      background-color: rgba($color: #000000, $alpha: 0.75);\n    }\n\n    .content {\n      width: 50%;\n      height: 65%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppInstallProgress.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppInstallProgress.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./AppInstallProgress.vue?vue&type=template&id=17289f18&scoped=true&\"\nimport script from \"./AppInstallProgress.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AppInstallProgress.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./AppInstallProgress.vue?vue&type=style&index=0&id=17289f18&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17289f18\",\n  null\n  \n)\n\nexport default component.exports","<script setup>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useAppsStore } from \"@/stores/apps\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { usePermissionsStore } from \"@/stores/permissions\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport MainAppBar from \"@/components/MainAppBar.vue\";\nimport AcecastAppBar from \"@/components/AcecastAppBar.vue\";\nimport PermissionNotification from \"@/components/PermissionNotification.vue\";\nimport PermissionDialog from \"@/components/PermissionDialog.vue\";\nimport StatFrame from \"@/components/StatFrame.vue\";\nimport AppUpdateNotification from \"@/components/app-update/AppUpdateNotification.vue\";\nimport AppUpdateProgress from \"@/components/app-update/AppUpdateProgress.vue\";\nimport AppInstallProgress from \"@/components/app-update/AppInstallProgress.vue\";\nimport ExternalPage from \"@/components/ExternalPage\";\n//import { injectGoogleAnalytics } from \"@/lib/analytics\";\n\n// stores\nconst appsStore = useAppsStore();\nconst mainStore = useMainStore();\nconst appUpdateStore = useAppUpdateStore();\nconst permissionsStore = usePermissionsStore();\n\n// refs\nconst statFrameVisible = ref(false);\n\n// computed\nconst isTv = computed(() => mainStore.isTv);\nconst showUi = computed(\n  () =>\n    mainStore.initialized &&\n    (!isTv.value || mainStore.isEngineActivated) &&\n    !mainStore.state.isSetupVisible\n);\n\n// lifecycle\nonMounted(() => {\n  AceStreamApp.webAppReady();\n\n  // Load stat frame later to avoid heavy load on app start\n  setTimeout(() => (statFrameVisible.value = true), 2500);\n\n  // It's disabled until we figure out how to make it send page views\n  //setTimeout(injectGoogleAnalytics, 1000);\n});\n</script>\n\n<template>\n  <v-app :class=\"{ 'is-tv': isTv }\">\n    <div class=\"as-overlay\"></div>\n\n    <!-- // for testing -->\n    <!-- <div style=\"position: absolute; top: 16px; left: 16px\">\n      x{{ mainStore.state.isSetupVisible }}x{{ mainStore.isEngineActivated }}x\n    </div> -->\n\n    <!-- We use v-show here to avoid visual bugs when top bar is shown -->\n    <acecast-app-bar v-show=\"showUi\" v-if=\"mainStore.isTv\" />\n    <main-app-bar v-show=\"showUi\" v-else />\n\n    <v-main\n      class=\"content-container\"\n      :class=\"{\n        'blurred-background': $route.name == 'input-panel',\n        'is-send-cast': mainStore.sendAndCastEnabled,\n      }\"\n    >\n      <template v-if=\"showUi\">\n        <router-view></router-view>\n\n        <permission-dialog\n          v-if=\"permissionsStore.pendingPermissionDialog\"\n          :permission=\"permissionsStore.pendingPermissionDialog\"\n        />\n        <permission-notification\n          v-else-if=\"permissionsStore.pendingPermissionNotification\"\n          :permission=\"permissionsStore.pendingPermissionNotification\"\n        />\n      </template>\n    </v-main>\n\n    <v-snackbar bottom v-model=\"mainStore.error.visible\">\n      {{ mainStore.error.message }}\n    </v-snackbar>\n\n    <StatFrame v-if=\"statFrameVisible\" />\n\n    <template v-if=\"showUi\">\n      <AppUpdateProgress v-if=\"appUpdateStore.isUpdateActive\" />\n      <AppUpdateNotification\n        v-else-if=\"appUpdateStore.updateNotificationVisible\"\n      />\n      <AppInstallProgress\n        v-else-if=\"appsStore.installingPackageId\"\n        :packageId=\"appsStore.installingPackageId\"\n        @close=\"appsStore.installingPackageId = null\"\n      />\n    </template>\n\n    <ExternalPage\n      v-if=\"mainStore.fullscreenNotificationVisible\"\n      :url=\"mainStore.fullscreenNotificationUrl\"\n      @close=\"mainStore.dismissFullscreenNotification()\"\n      />\n\n  </v-app>\n</template>\n\n<style scoped lang=\"scss\">\n.content-container {\n  background-image: url(./assets/img/background_v4_portrait.webp);\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  @media (min-aspect-ratio: 1/1) {\n    &:not(.is-send-cast) {\n      background-image: url(./assets/img/background_v4_landscape.webp);\n    }\n  }\n\n  &.blurred-background::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(1.6em);\n  }\n\n  &.is-send-cast {\n    background-image: url(./assets/img/background_v5_landscape.webp);\n  }\n}\n\n.as-overlay {\n  background-color: rgb(0, 0, 0, 0.5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n\n  .is-tv & {\n    background-color: rgb(0, 0, 0, 0.75);\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3a258756&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=3a258756&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a258756\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport { createPinia, PiniaVuePlugin } from \"pinia\";\nimport { shouldInstallMock } from \"@/mock/utils\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useMainStore } from \"@/stores/main\";\nimport { useAppUpdateStore } from \"@/stores/app-update\";\nimport { usePrefsStore } from \"@/stores/prefs\";\nimport { usePermissionsStore } from \"@/stores/permissions\";\nimport { useNotificationsStore } from \"@/stores/notifications\";\nimport { useAppsStore } from \"@/stores/apps\";\nimport { App as CapacitorApp } from \"@capacitor/app\";\nimport { AceStreamApp } from \"@/external/@acestream/capacitor-acestream-app\";\nimport { routes } from \"@/routes\";\nimport { watch } from \"vue\";\nimport * as MockStates from \"@/mock/states\";\nimport FocusPlugin from \"@/common/src/plugins/focus\";\nimport {\n  isDenied,\n  isGranted,\n  registerPermissionAsk,\n  requestPermission,\n  updatePermissions,\n} from \"@/lib/permissions\";\nimport vuetify from \"./plugins/vuetify\";\nimport { i18n, loadLanguageAsync } from \"./plugins/i18n\";\nimport { watchLinkCode } from \"@/features/link-device/watch\";\nimport * as IntentListener from \"@/features/intent-listener\";\nimport { NEED_STORAGE_PERMISSION } from \"@/config\";\nimport { AppNotificationManager } from \"@/lib/AppNotificationManager\";\n\nimport '@/lib/navigator';\nimport Controller from '@/lib/controller';\n\n\n// import local assets\nimport \"@fontsource/roboto/index.css\";\nimport \"@/assets/materialdesignicons/css/materialdesignicons.min.css\";\n\n// main app style\nimport \"@/assets/css/main.scss\";\n\n// setup vue\nVue.config.productionTip = false;\n\n// app component\nimport App from \"./App.vue\";\n\n// setup pinia\nVue.use(PiniaVuePlugin);\nconst pinia = createPinia();\n\n// spatial navigation\nVue.use(FocusPlugin);\n\n// setup router\nVue.use(VueRouter);\nconst { isNavigationFailure, NavigationFailureType } = VueRouter;\n\nconst router = new VueRouter({\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  const mainStore = useMainStore();\n\n  if (\n    (to.name == \"account\" || to.name == \"sign-in\") &&\n    !mainStore.showAccountView\n  ) {\n    next({ name: mainStore.mainRouteName });\n  } else if (to.name == \"account\" && !authStore.signedIn) {\n    if (mainStore.isTv) {\n      next({ name: \"premium\" });\n    } else {\n      next({ name: \"sign-in\" });\n    }\n  } else if (to.name === mainStore.mainSmartphoneRouteName && mainStore.isTv) {\n    next({ name: mainStore.mainTvRouteName, replace: true });\n  } else if (to.name === \"history\" && !authStore.hasPremium) {\n    mainStore.openNeedPremiumDialog();\n  } else {\n    next();\n  }\n});\n\n// start app\nnew Vue({\n  i18n,\n  router,\n  pinia,\n  vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n\ncheckEngine();\n\n// Handle back button\nCapacitorApp.addListener(\"backButton\", ({ canGoBack }) => {\n  const mainStore = useMainStore();\n  const appUpdateStore = useAppUpdateStore();\n\n  console.log(\n    `backButton: canGoBack=${canGoBack} route=${router.currentRoute.name} currentInteractive=${mainStore.currentInteractive} appUpdateError=${appUpdateStore.showError}`\n  );\n\n  //NOTE: we always close app when back is pressed on the main screen\n  if (mainStore.currentInteractive) {\n    mainStore.cancelInteractive();\n  } else if (appUpdateStore.showError) {\n    appUpdateStore.reset();\n  } else if (router.currentRoute.name == \"premium-payment-external\") {\n    router.replace({ name: mainStore.mainRouteName });\n  } else if (\n    canGoBack &&\n    mainStore.canGoBackFromRoute(router.currentRoute.name)\n  ) {\n    router.back();\n  } else {\n    CapacitorApp.exitApp();\n  }\n});\n\n// Listen to render event.\n// Render event is the main part of initialization process:\n// - when the first render is received:\n//   - perform synchronous initialization\n//   - set mainStore.firstRenderReceived=true to prevent further initialization\n//   - start async initilization\n// - when async initialization is finished we set mainStore.initialized = true to finish initialization\nAceStreamApp.addListener(\"render\", async (event) => {\n  updateState(event.state, event.resume);\n});\n\nloadInitialState();\n\nasync function loadInitialState() {\n  try {\n    const state = await AceStreamApp.getState();\n    updateState(state);\n  } catch (e) {\n    console.log(`failed to get initial state: ${e}`);\n  }\n}\n\nfunction updateState(state, resume = false) {\n  //console.log(`render: engineState=${state.engineState}`)\n  //console.log(`render: isNightMode=${state.isNightMode}`)\n  //console.log(`render: fileReceiver=${state.fileReceiver}`)\n  //console.log(`render: pendingAppUpdate=${JSON.stringify(state.appUpdate)}`);\n  const mainStore = useMainStore();\n  const authStore = useAuthStore();\n\n  let isFirstRun = false;\n\n  if (!mainStore.firstRenderReceived) {\n    isFirstRun = true;\n    console.log(`init: locale=${state.locale}`);\n    console.log(`init: isTv=${state.isTv}`);\n    mainStore.firstRenderReceived = true;\n    if (state.isTv) {\n\n      Controller.init();\n\n      router.replace({ name: mainStore.mainTvRouteName }).catch((e) => {\n        if (!isNavigationFailure(e, NavigationFailureType.duplicated)) {\n          console.log(\"error: \" + e);\n        }\n      });\n    }\n    asyncInit(state);\n  }\n\n  mainStore.state = state;\n  authStore.auth = state.auth;\n\n  if (state.engineState === \"FAILED\") {\n    mainStore.engineFailed = true;\n  } else if (state.engineState === \"RUNNING\") {\n    mainStore.engineFailed = false;\n  }\n\n  checkSelfUpdate();\n\n  if (resume && !isFirstRun) {\n    // Check permissions on resume and first update\n    updatePermissions();\n  }\n}\n\nasync function asyncInit(state) {\n  let t;\n\n  const mainStore = useMainStore();\n  const prefsStore = usePrefsStore();\n\n  try {\n    await loadLanguageAsync(state.locale);\n  } catch (e) {\n    console.error(\n      `Failed to load state.locale: locale=${state.locale} error=${e.message}`\n    );\n  }\n\n  try {\n    await prefsStore.init();\n  } catch (e) {\n    console.log(`failed to init prefs: ${e}`);\n  }\n\n  try {\n    await updatePermissions();\n  } catch (e) {\n    console.log(`failed to update permissions: ${e}`);\n  }\n\n  if (!mainStore.isGooglePlayVersion) {\n    t = Date.now();\n    await mainStore.updateBillingConfig();\n    console.log(`Billing config updated in ${Date.now() - t}ms`);\n  }\n\n  if (mainStore.isTv && NEED_STORAGE_PERMISSION) {\n    checkStoragePermissions();\n  }\n\n  // no need to wait - we don't need app info on the startup\n  updateAppInfo();\n\n  watchLinkCode();\n\n  await AppNotificationManager.getInstance().init();\n\n  // Init fullscreen notification only once at startup (as we show it on startup only)\n  // Skip if already visible. It happens when MainActivity is opened with ACTION_OPEN_EXTERNAL_PAGE intent\n  if (mainStore.fullscreenNotification) {\n    if (!mainStore.fullscreenNotificationVisible) {\n      console.log(`show fs notification on start`);\n      mainStore.showFullscreenNotification({ url: mainStore.fullscreenNotification.url, closeOnBack: false });\n    } else {\n      console.log(`skip fs notification on start`);\n    }\n  }\n\n  mainStore.initialized = true;\n  onMainStoreInitialized();\n}\n\nfunction onMainStoreInitialized() {\n  console.log(`onMainStoreInitialized: time=${Date.now() - window.appStartTime}`);\n  checkSelfUpdate();\n}\n\nfunction checkSelfUpdate() {\n  const mainStore = useMainStore();\n  const appUpdateStore = useAppUpdateStore();\n\n  if (!mainStore.initialized) {\n    return;\n  }\n\n  if (!mainStore.isBaseApp) {\n    if (\n      appUpdateStore.gotSelfUpdate &&\n      !appUpdateStore.selfUpdateNotificationShown\n    ) {\n      appUpdateStore.selfUpdateNotificationShown = true;\n      appUpdateStore.showUpdateNotification();\n    }\n  }\n}\n\nasync function checkStoragePermissions() {\n  const permissionId = \"storage\";\n  if (isGranted(permissionId)) {\n    return;\n  }\n\n  if (isDenied(permissionId)) {\n    const store = usePermissionsStore();\n    store.outstandingPermission = permissionId;\n  } else {\n    try {\n      await requestPermission(permissionId);\n    } catch (e) {\n      console.log(`error: ${e}`);\n    } finally {\n      registerPermissionAsk(permissionId);\n      await updatePermissions();\n    }\n  }\n}\n\nfunction updateAppInfo() {\n  CapacitorApp.getInfo()\n    .then((appinfo) => (useMainStore().appInfo = appinfo))\n    .catch((e) => console.log(`Failed to get app info: ${e}`));\n}\n\nAceStreamApp.addListener(\"installerState\", (state) => {\n  console.log(`installer-state: ${JSON.stringify(state)}`);\n  const appsStore = useAppsStore();\n  appsStore.installed = state.installed;\n  appsStore.updates = state.updates;\n  appsStore.downloads = state.downloads;\n  appsStore.available = state.available;\n});\n\nAceStreamApp.addListener(\"purchaseSuccess\", () => {\n  const mainStore = useMainStore();\n  router.replace({ name: mainStore.mainRouteName });\n});\n\nAceStreamApp.addListener(\"appInstalledOrRemoved\", () => {\n  console.log(`event:appInstalledOrRemoved`);\n  AppNotificationManager.getInstance().update();\n});\n\nCapacitorApp.addListener(\"pause\", () => {\n  console.log(`event:pause`);\n  const appsStore = useAppsStore();\n  appsStore.installingPackageId = null;\n});\n\nCapacitorApp.addListener(\"resume\", () => {\n  console.log(`event:resume`);\n});\n\n// Listen to intents\nIntentListener.init(AceStreamApp, router);\n\nAceStreamApp.addListener(\"pushNotificationReceived\", (event) => {\n  console.log(`got push notification: ${JSON.stringify(event)}`);\n  if (event.data) {\n    if (event.data[\"acestream.action\"] === \"show_notification\") {\n      // update notifications\n      useNotificationsStore().load(true);\n    }\n  }\n});\n\nfunction watchEngineState() {\n  const store = useMainStore();\n  watch(\n    () => store.engineReady,\n    () => {\n      if (store.engineReady) {\n        onEngineReady();\n      }\n    }\n  );\n}\n\nfunction checkEngine() {\n  const store = useMainStore();\n  if (store.state.engineReady) {\n    console.log(\"checkEngine: ready\");\n    onEngineReady();\n  } else {\n    console.log(\"checkEngine: watch\");\n    watchEngineState();\n  }\n}\n\nfunction onEngineReady() {\n  useNotificationsStore().load();\n}\n\nfunction initMock() {\n  updateState(MockStates.mainState);\n}\n\nif (shouldInstallMock(window.location)) {\n  setTimeout(initMock, 100);\n}\n\nwindow.goBack = () => {\n  const mainStore = useMainStore();\n  const canGoBack = mainStore.canGoBack;\n  console.log(`nav:goBack: canGoBack=${canGoBack}`);\n  if (canGoBack) {\n    window.dispatchEvent(new CustomEvent(\"customBackPressed\"));\n    return true;\n  } else if (mainStore.currentInteractive) {\n    mainStore.cancelInteractive();\n    return true;\n  }\n  return false;\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumStatusScreenTv.vue?vue&type=style&index=0&id=583f9e6d&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppUpdateNotification.vue?vue&type=style&index=0&id=589ff8c0&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationInstallError.vue?vue&type=style&index=0&id=49470046&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=18807bd4&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=style&index=0&id=d87e4738&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotification.vue?vue&type=style&index=0&id=8d0192d2&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInUsernameScreen.vue?vue&type=style&index=0&id=5405ec36&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastTroubleshooting.vue?vue&type=style&index=1&id=41e8faa0&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TransfersScreen.vue?vue&type=style&index=1&id=5b87ec20&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcon.vue?vue&type=style&index=0&id=92d69d0e&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/play.351c83db.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EngineConnectionInfo.vue?vue&type=style&index=0&id=8b5b5e0a&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MulticolorButton.vue?vue&type=style&index=0&id=11591626&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TvFavorites.vue?vue&type=style&index=0&id=f5e1301a&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationHelp.vue?vue&type=style&index=0&id=60ce0a0c&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=style&index=0&id=3ab38ca2&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainAppBar.vue?vue&type=style&index=0&id=5028dbf8&prod&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainButton.vue?vue&type=style&index=0&id=de6dbb4c&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectExternalPlayer.vue?vue&type=style&index=0&id=c1c632ba&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastAbout.vue?vue&type=style&index=0&id=63fd412a&prod&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/grant_install_permissions.fa035d20.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectSuccess.vue?vue&type=style&index=0&id=a5c8cb04&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=style&index=0&id=590a6918&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInScreen.vue?vue&type=style&index=0&id=2033119e&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivationWelcome.vue?vue&type=style&index=1&id=564396a7&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPaymentOffline.vue?vue&type=style&index=0&id=349464ac&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaylistNotificationTv.vue?vue&type=style&index=0&id=434cbd74&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./style-scoped.scss?vue&type=style&index=0&id=0c7fcf0a&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountBadge.vue?vue&type=style&index=0&id=15206b56&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PremiumPayment.vue?vue&type=style&index=0&id=21020e58&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeedPremium.vue?vue&type=style&index=0&id=6a054b4c&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheButton.vue?vue&type=style&index=0&id=5bc22774&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputButton.vue?vue&type=style&index=0&id=6c709baf&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalPlayer.vue?vue&type=style&index=0&id=11897bf4&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastManualConnect.vue?vue&type=style&index=0&id=6fef6fd1&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AceCastTroubleshooting.vue?vue&type=style&index=0&id=41e8faa0&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectToken.vue?vue&type=style&index=0&id=6153af22&prod&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppInstallProgress.vue?vue&type=style&index=0&id=17289f18&prod&scoped=true&lang=scss&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=3a258756&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountScreen.vue?vue&type=style&index=0&id=661cc627&prod&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/acestream_logo.2059b0ac.svg\";"],"sourceRoot":""}